(window.odspNextWebpackJsonp=window.odspNextWebpackJsonp||[]).push([[317],{1701:function(e,t,n){"use strict";n.d(t,"t",function(){return r});var a=n(0),i=function(e){function t(t){var n=e.call(this,t)||this;return!1!==t.valueAccessor()&&n.element.setAttribute("data-is-scrollable","true"),n}return Object(a.__extends)(t,e),t}(n(161).t);function r(e){for(var t=e;t&&t!==document.body;){if(t.getAttribute&&"true"===t.getAttribute("data-is-scrollable"))return t;t=t.parentElement}return t&&t!==document.body||(t=window),t}t.e=i},1714:function(e,t,n){"use strict";var a=n(0),i=n(161),r=n(1805),o=n(22),s=function(e){function t(t){var n=e.call(this,t)||this;new(n.managed(r.e))({element:n.element,bindingContext:n.bindingContext,allBindingsAccessor:n.allBindingsAccessor,valueAccessor:function(){return n._onReceiveComponentParentContext.bind(n)}});var a=n._componentParentContent,i=n.valueAccessor(),s=function(e){return"object"==typeof e}(i)?i:{},c=s.data,d=void 0===c?n.bindingContext.$data:c,l=s.afterRender;return o.applyBindingsToNode(n.element,{template:{nodes:a.templateNodes,afterRender:l}},a.bindingContext.extend({$host:d,$hostContext:n.bindingContext})),n.controlsDescendantBindings=!0,n}return Object(a.__extends)(t,e),t.prototype._onReceiveComponentParentContext=function(e){this._componentParentContent=e},t.supportsVirtualElements=!0,t}(i.t);t.e=s},1723:function(e,t,n){"use strict";var a=n(0),i=n(22),r=n(161),o=n(1066),s=n(1070),c=n(1701),d=function(e){function t(t,n){void 0===n&&(n={});var a=e.call(this,t,n)||this;a._focusTracker=a.resources.consume(s.e),a._hasFocus=a.createObservable(!1),a._hasChildFocus=a.createObservable(!1),a._isBodyActive=a.createObservable(!1),a._value=a.createPureComputed(a._computeValue),a._isEnabled=a.createPureComputed(a._computeIsEnabled),a._onlyRecoverFromBody=a.createPureComputed(a._computeOnlyRecoverFromBody),a._shouldRecoverFocus=a.createPureComputed(a._computeShouldRecoverFocus);var r=n.ChildFocusBinding,d=void 0===r?o.e:r,l=n.applyBindingsToNode,u=void 0===l?i.applyBindingsToNode:l,f=n.recoverFocusExtenders,p=void 0===f?{rateLimit:{timeout:300,method:"notifyWhenChangesStop"}}:f;return new(a.managed(d))({element:a.element,bindingContext:a.bindingContext,allBindingsAccessor:a.allBindingsAccessor,valueAccessor:function(){return{isDescendantOrSelfActive:a._hasChildFocus,isBodyActive:a._isBodyActive}}}),u(a.element,{hasFocus:a._hasFocus},a.bindingContext),a._scrollContainer=Object(c.t)(a.element),a.createBackgroundComputed(a._computeRecoverFocus).extend(p),a}return Object(a.__extends)(t,e),t.prototype._computeValue=function(){return this.valueAccessor()||{}},t.prototype._computeIsEnabled=function(){var e=this._value().isEnabled,t=void 0===e||e;return this.unwrapObservable(t)},t.prototype._computeOnlyRecoverFromBody=function(){var e=this._value().onlyRecoverFromBody,t=void 0!==e&&e;return this.unwrapObservable(t)},t.prototype._computeShouldRecoverFocus=function(){return this._isEnabled()&&!this._hasChildFocus()&&(!this._onlyRecoverFromBody()||this._isBodyActive())&&this._focusTracker.isWindowActive.peek()},t.prototype._computeRecoverFocus=function(){this._shouldRecoverFocus()&&this._recoverFocus()},t.prototype._recoverFocus=function(){var e=this._scrollContainer,t=e.scrollTop,n=e.scrollLeft;this._hasFocus(!0),e.scrollTop!==t&&(e.scrollTop=t),e.scrollLeft!==n&&(e.scrollLeft=n)},t}(r.t);t.e=d},1725:function(e,t,n){"use strict";var a=n(20);Object(a.n)([{rawString:".od-Overlay{height:0;width:0;overflow:hidden}"}]);var i=n(1783),r=n(379),o=n(0),s=n(175),c=n(1877),d=n(1053),l=n(1714),u=n(55),f=n(22),p=function(e){function t(t){var n=e.call(this,{})||this,a=t.topTab,i=t.bottomTab,r=t.animation,o=void 0===r?{}:r,s=t.alignToParent,c=void 0===s?f.observable(!0):s,d=t.parentElement,l=t.isOpen;return n.topTab=a,n.bottomTab=i,n.animation=o,n.alignToParent=c,n.parentElement=d,n.isOpen=l,n}return Object(o.__extends)(t,e),t}(u.n),m=function(e){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={});var a=e.call(this,t,n)||this;a.transclusionContentTagName=i.e.tagName;var r=n.overlayProvider,o=void 0===r?a.resources.consume(c.e):r,s=t.animation,u=t.alignToParent,f=void 0!==u&&u,m=t.parentElement,_=t.virtualParentElement;return a.addBindingHandlers({host:l.e,element:d.e}),a.overlayProvider=o,a.topTab=a.createObservable(null),a.bottomTab=a.createObservable(null),a.isOpen=a.createObservable(!1),a.virtualParentElement=_,a.overlay=new p({alignToParent:a.wrapObservable(f),parentElement:m,animation:s,topTab:a.topTab,bottomTab:a.bottomTab,isOpen:a.isOpen}),a}return Object(o.__extends)(t,e),t}(s.t),_=r.e({tagName:"od-overlay",template:'<a href="javascript:;" class="ms-accessible" role="presentation" data-bind="element:topTab"></a><div class="od-Overlay ms-accessible" role="presentation" data-bind="component:{name:transclusionContentTagName,params:{provider:overlayProvider,parentElement:virtualParentElement||$element.parentElement,options:overlay}}">\x3c!--ko host:{}--\x3e\x3c!--/ko--\x3e</div><a href="javascript:;" class="ms-accessible" role="presentation" data-bind="element:bottomTab"></a>',viewModel:m,synchronous:!0});t.e=_},1729:function(e,t,n){"use strict";var a=n(0),i=n(22),r=n(1795),o=n(161);function s(e){var t=document.createElement("div");return t.tabIndex=0,t.className="ms-accessible",t.setAttribute("role","presentation"),t.setAttribute("aria-hidden","true"),t.setAttribute("data-focus-trap",e),t}var c=r.t,d=r.n,l=i.virtualElements,u=i.applyBindingsToNode,f=i.applyBindingsToDescendants,p=function(e){function t(t){var n=e.call(this,t)||this;n.controlsDescendantBindings=!0;var a=n,i=a.events,r=a.observables,o=a.bindingContext,c=a.element,d=t.valueAccessor()||{},p=d,m=p.isEnabled,_=p.invert,h=n._beforeHook=s("begin"),b=n._afterHook=s("end");n._invert=_,m&&(u(h,{visible:m},o),u(b,{visible:m},o));var g=l.childNodes(c);l.prepend(c,h),l.insertAfter(c,b,g[g.length-1]),f(o,c);var v=d,y=v.before,S=void 0===y?r.create(b):y,D=v.after,I=void 0===D?r.create(h):D;return n._before=r.wrap(S),n._after=r.wrap(I),i.on(h,"focus",n._onFocusBeforeHook),i.on(b,"focus",n._onFocusAfterHook),!_&&d.after&&n._initializeBeforeAndAfter(),n}return Object(a.__extends)(t,e),t.prototype._onFocusBeforeHook=function(){this._invert?c(this._afterHook):d(this._before.peek())},t.prototype._onFocusAfterHook=function(){this._invert?d(this._beforeHook):c(this._after.peek())},t.prototype._onFocusBefore=function(){c(this._beforeHook)},t.prototype._onFocusAfter=function(){d(this._afterHook)},t.prototype._initializeBeforeAndAfter=function(){var e,t,n=this,a=this.events;this.observables.backgroundCompute(function(){var i=n._before(),r=n._after();i!==e&&(e&&a.off(e),i&&a.on(i,"focus",n._onFocusBefore),e=i),r!==t&&(t&&a.off(t),r&&a.on(r,"focus",n._onFocusAfter),t=r)})},t.supportsVirtualElements=!0,t}(o.t);t.e=p},1750:function(e,t,n){"use strict";var a=n(0),i=n(1795),r=n(161),o=n(150),s=function(e){function t(t){var n=e.call(this,t)||this,a=n.valueAccessor(),i=n.wrapObservable(void 0===a||a);n._shouldRestoreFocus=i;var r=null;try{r=document.activeElement}catch(e){}for(n._activeElement=r,n._preserveActiveElementAncestors=[];r&&r!==document.body;)n._preserveActiveElementAncestors.push(r),r=Object(o.e)(r);return n}return Object(a.__extends)(t,e),t.prototype.dispose=function(){if(this._shouldRestoreFocus.peek()){var t=null;try{t=document.activeElement}catch(e){}if(!t||t===document.body||this._isAncestorOrSelf(t,this.element))for(var n=0,a=this._preserveActiveElementAncestors;n<a.length;n++){var r=a[n];if(r&&r.focus&&(Object(i.a)(r,!0)||r===this._activeElement)&&document.body.contains(r)){r.focus();break}}}this._preserveActiveElementAncestors=[],delete this._activeElement,e.prototype.dispose.call(this)},t.prototype._isAncestorOrSelf=function(e,t){for(;e;){if(e===t)return!0;e=Object(o.e)(e)}return!1},t}(r.t);t.e=s},1761:function(e,t,n){"use strict";n.d(t,"t",function(){return m});var a='\x3c!--ko if:areCSS3TransitionsSupported--\x3e<div class="ProgressSpinnerFlat" role="progressbar"><div aria-hidden="true">•</div><div aria-hidden="true">•</div><div aria-hidden="true">•</div><div aria-hidden="true">•</div><div aria-hidden="true">•</div></div>\x3c!--/ko--\x3e\x3c!--ko if:!areCSS3TransitionsSupported--\x3e<img data-bind="attr:{src:loadingUrl,alt:loadingString}">\x3c!--/ko--\x3e',i=n(20);Object(i.n)([{rawString:".ProgressSpinnerFlat{position:relative;box-sizing:border-box;padding:2px 0;overflow:hidden;height:6px;color:"},{theme:"themePrimary",defaultValue:"#0078d4"},{rawString:";font-size:15px}.ProgressSpinnerFlat>div{position:relative;line-height:0;cursor:default;animation:progress 3.4s infinite cubic-bezier(0,.75,1,.25)}[dir=ltr] .ProgressSpinnerFlat>div{left:-50px}[dir=rtl] .ProgressSpinnerFlat>div{right:-50px}[dir=rtl] .ProgressSpinnerFlat>div{animation:progressRtl 3.4s infinite cubic-bezier(0,.75,1,.25)}.ProgressSpinnerFlat>div:nth-child(1){animation-delay:.1s}[dir=ltr] .ProgressSpinnerFlat>div:nth-child(1){margin-left:40px}[dir=rtl] .ProgressSpinnerFlat>div:nth-child(1){margin-right:40px}.ProgressSpinnerFlat>div:nth-child(2){animation-delay:.2s}[dir=ltr] .ProgressSpinnerFlat>div:nth-child(2){margin-left:30px}[dir=rtl] .ProgressSpinnerFlat>div:nth-child(2){margin-right:30px}.ProgressSpinnerFlat>div:nth-child(3){animation-delay:.3s}[dir=ltr] .ProgressSpinnerFlat>div:nth-child(3){margin-left:20px}[dir=rtl] .ProgressSpinnerFlat>div:nth-child(3){margin-right:20px}.ProgressSpinnerFlat>div:nth-child(4){animation-delay:.4s}[dir=ltr] .ProgressSpinnerFlat>div:nth-child(4){margin-left:10px}[dir=rtl] .ProgressSpinnerFlat>div:nth-child(4){margin-right:10px}.ProgressSpinnerFlat>div:nth-child(5){animation-delay:.5s}[dir=ltr] .ProgressSpinnerFlat>div:nth-child(5){margin-left:0}[dir=rtl] .ProgressSpinnerFlat>div:nth-child(5){margin-right:0}@keyframes progress{from{left:-50px}25%{left:-50px}to{left:100%}}@keyframes progressRtl{from{right:-50px}25%{right:-50px}to{right:100%}}"}]);var r=n(0),o=n(175),s=n(62),c=n(1862),d=n(204),l=function(e){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={});var a=e.call(this,t,n)||this,i=n.platformDetection,r=void 0===i?a.resources.consume(d.e):i;return a.areCSS3TransitionsSupported=r.areCSS3TransitionsSupported,a.loadingUrl=window.require.toUrl("odsp-media/images/loading/loadingdots.gif"),a.loadingString=c.e,a}return Object(r.__extends)(t,e),t.resources=Object(r.__assign)(Object(r.__assign)({},o.t.dependencies),{platformDetection:d.e,settingsDataSource:s.ce}),t}(o.t),u=n(379),f=n(156),p=Object(u.e)({tagName:"ms-progressSpinnerFlat",template:a,viewModel:l,synchronous:!0}),m=Object(f.t)({automationName:"ms-progressSpinnerFlat",name:"ProgressSpinnerFlat",template:a,viewModelType:l});t.e=p},1779:function(e,t,n){"use strict";var a=n(1796),i=n(22),r=n(419);t.e=function(e,t,n){this.key=e||"",this.content=i.observable(new a.e(n)),this.content.equalityComparer=r.n,this.schema=i.observableArray([]),this.schema.equalityComparer=r.e,this.context=i.utils.extend({},t),this.contentTypes=i.observableArray([]),this.isPlaceholder=!0,this.version=0}},1783:function(e,t,n){"use strict";var a=n(379),i=n(0),r=n(175),o=n(161),s=n(22),c=function(e){this.templateNodes=e.templateNodes,this.bindingContext=e.bindingContext,this.renderCount=e.renderCount||s.observable(0),this.parentElement=e.parentElement||null,this.options=e.options||null},d=n(1805),l=function(e){function t(t){var n=e.call(this,t)||this;return new(n.managed(d.e))({element:n.element,bindingContext:n.bindingContext,allBindingsAccessor:n.allBindingsAccessor,valueAccessor:function(){return n._onReceiveComponentParentContext.bind(n)}}),n.controlsDescendantBindings=!0,n}return Object(i.__extends)(t,e),t.prototype._onReceiveComponentParentContext=function(e){var t=this.valueAccessor(),n=new c({parentElement:t.parentElement,templateNodes:e.templateNodes,bindingContext:e.bindingContext,renderCount:t.renderCount,options:t.options});t.context(n)},t.supportsVirtualElements=!0,t}(o.t),u=function(e){function t(t){var n=e.call(this,t)||this;return n.addBindingHandlers({transclusionContent:l}),n._provider=t.provider,n.bindingParams={context:s.observable(),parentElement:t.parentElement,renderCount:t.renderCount,options:t.options},n.createComputed(function(){var e=n.bindingParams.context();n._transclusion&&(n._transclusion.dispose(),n._transclusion=null),e&&(n._transclusion=n.addDisposable(n._provider.transclude(e)))}),n}return Object(i.__extends)(t,e),t}(r.t),f=a.e({tagName:"od-transclusion-content",template:"\x3c!--ko transclusionContent:bindingParams--\x3e\x3c!--/ko--\x3e",viewModel:u,synchronous:!0});t.e=f},1795:function(e,t,n){"use strict";n.d(t,"e",function(){return i}),n.d(t,"t",function(){return r}),n.d(t,"n",function(){return o}),n.d(t,"a",function(){return l});var a=n(150);function i(e,t){u(e,s,t)}function r(e,t){u(e,c,t)}function o(e,t){u(e,d,t)}function s(e,t){return e&&_(e,t)}function c(e,t){return e&&(m(e.firstElementChild,f,_)||b(e,f,_))}function d(e,t){return e&&b(e,p,h)}function l(e,t){return!(!e||!v(e,t))}function u(e,t,n){var a=t(e,n);a&&a.focus()}function f(e){return e.nextElementSibling}function p(e){return e.previousElementSibling}function m(e,t,n,a){for(;e;e=t(e)){var i=n(e);if(i)return i}}function _(e,t){return v(e,t)||m(e.firstElementChild,f,_)}function h(e,t){return m(e.lastElementChild,p,h)||v(e,t)}function b(e,t,n,i){for(;e;e=Object(a.e)(e)){var r=m(t(e),t,n);if(r)return r}}var g={a:1,input:1,area:1,button:1,select:1,textarea:1,object:1};function v(e,t){var n=e.tagName.toLowerCase();if((n in g||void 0!==e.attributes.tabindex)&&(-1!==e.tabIndex||t)&&"true"!==e.getAttribute("aria-hidden")&&"none"!==e.style.display.toLowerCase()&&"hidden"!==e.style.visibility.toLowerCase()&&!(0===e.offsetWidth&&0===e.offsetHeight||e.disabled||"input"===n&&"hidden"===e.type.toLowerCase()))return e}},1796:function(e,t,n){"use strict";t.e=function(e){this.items=new Array(e||0),this.groupings=null,this.partialResultRequestCount=0,this.partialResultStatus=0}},1805:function(e,t,n){"use strict";var a=n(0),i=n(161),r=n(22),o=function(e){function t(t){var n=e.call(this,t)||this,a=n.valueAccessor(),i=n._getComponentBindingContext(),o=i.$parentContext;return function(e){return"function"==typeof e}(a)?a({bindingContext:o,templateNodes:n.bindingContext.$componentTemplateNodes}):(r.applyBindingsToDescendants(n.bindingContext.extend({$componentParentContext:i}),n.element),n.controlsDescendantBindings=!0),n}return Object(a.__extends)(t,e),t.prototype._getComponentBindingContext=function(){for(var e=this.bindingContext.$component,t=this.bindingContext;t.$data!==e&&t.$parentContext;)t=t.$parentContext;return t},t.supportsVirtualElements=!0,t}(i.t);t.e=o},1835:function(e,t,n){"use strict";n.d(t,"e",function(){return c});var a=n(0),i=n(55),r=n(112),o=n(785),s=function(e){function t(t,n){void 0===t&&(t={});var a=e.call(this,t,n)||this;return a.contexts=a.observables.createArray(),a._additions=[],a._removals=[],a._needsOverlayContent=n.needsOverlayContent,a}return Object(a.__extends)(t,e),t.prototype.transclude=function(e){var t=this;return this._needsOverlayContent.needsOverlayContent.set(!0),this._transclude(e),{dispose:function(){t._dispose(e)}}},t.prototype._transclude=function(e){this._additions.push(e),this._updateContextsTimeoutId||this._updateContexts()},t.prototype._dispose=function(e){this._removals.push(e),this._updateContextsTimeoutId||this._updateContexts()},t.prototype._updateContexts=function(){this._updateContextsTimeoutId=this.async.requestAnimationFrame(this._onUpdateContextsTimeout);var e=this.contexts.peek(),t=this._additions.splice(0),n=this._removals.splice(0);this.contexts.valueWillMutate(),e.push.apply(e,t);for(var a=0,i=n;a<i.length;a++){var r=i[a],o=e.indexOf(r);o>-1&&e.splice(o,1)}this.contexts.valueHasMutated()},t.prototype._onUpdateContextsTimeout=function(){this.contexts.valueHasMutated(),this._updateContextsTimeoutId=void 0,(this._additions.length||this._removals.length)&&this._updateContexts()},t.dependencies=Object(a.__assign)(Object(a.__assign)({},i.n.dependencies),{needsOverlayContent:o.e}),t}(i.n),c=new r.n(s,i.n.dependencies)},1877:function(e,t,n){"use strict";n.d(t,"e",function(){return r});var a=n(8),i=n(1835),r=new a.t({name:"OverlayProvider.key",factory:i.e})},2070:function(e,t,n){"use strict";n.d(t,"t",function(){return r});var a=n(8),i=n(112),r=new a.t({name:"OneUp.key",loader:new i.t(function(){return Promise.all([n.e("ondemand.resx-ondemand"),n.e(315)]).then(n.bind(null,2366)).then(function(e){return e.resourceKey.local})})});t.e=r},2213:function(e,t,n){"use strict";var a='\x3c!--ko component:{name:overlayTagName,params:{animation:{afterAdd:1,beforeRemove:500},alignToParent:false}}--\x3e\x3c!--ko focusTrap:{}--\x3e<div class="od-OneUpOverlay" data-overlay-parent="true" role="presentation" tabindex="-1" data-bind="interactionScope:{isScope:true},preserveFocus,recoverFocus:{isEnabled:$host.isOpen},host"></div>\x3c!--/ko--\x3e\x3c!--/ko--\x3e',i=n(20);Object(i.n)([{rawString:".od-OneUpOverlay{position:absolute;top:0;left:0;right:0;bottom:0;z-index:0}.od-OverlayHost-overlay .od-OneUpOverlay{transition:opacity 367ms linear,visibility 0s linear 367ms,transform 367ms linear;opacity:0;visibility:hidden;transform:none}.od-OverlayHost-overlay.od-OverlayHost-overlay--initial .od-OneUpOverlay,.od-OverlayHost-overlay.od-OverlayHost-overlay--opened .od-OneUpOverlay{transition-delay:0s,0s,0s;opacity:1;visibility:inherit}.od-OverlayHost-overlay.od-OverlayHost-overlay--closed .od-OneUpOverlay{transform:scale(.8,.8);opacity:0;visibility:hidden}"}]);var r=n(379),o=n(0),s=n(175),c=n(1714),d=n(775),l=n(1750),u=n(1723),f=n(1729),p=n(1725),m=function(e){function t(t,n){void 0===t&&(t={}),void 0===n&&(n={});var a=e.call(this,t,n)||this;return a.overlayTagName=p.e.tagName,a.addBindingHandlers({host:c.e,interactionScope:d.t,preserveFocus:l.e,recoverFocus:u.e,focusTrap:f.e}),a}return Object(o.__extends)(t,e),t}(s.t),_=n(156),h=r.e({tagName:"od-one-up-overlay",template:a,viewModel:m,synchronous:!0});Object(_.t)({automationName:"od-one-up-overlay",name:"OneUpOverlay",template:a,viewModelType:m}),t.e=h},3088:function(e,t,n){"use strict";n.d(t,"e",function(){return K});var a=n(0),i=n(55),r=n(419),o=n(8),s=n(112),c=n(289),d=n(67),l=n(83),u=n(653),f=n(1087),p=n(500),m=n(62),_=n(450),h=n(1779),b=n(1796),g=n(458),v=n(191),y=n(361),S=n(18),D=n(341),I=new(n(73).e)("childItemKeys",function(e,t){var n=t.itemKey,a=e.demandItemFacet(y.e,n),i=e.demandItemFacet(S.e,n),r=i&&i.itemKeys;return y.e.evaluate(a)(e,{itemKey:n,itemKeys:r}).itemKeys});function x(e,t){return Object(D.t)(e.demandItemFacet(I,t.itemSetKey))}var C=n(69);function O(e,t){var n=t.maxLevels,a=[],i=function(t,r){for(var o=0,s=t;o<s.length;o++){var c=s[o];if(("number"!=typeof n||r<n)&&e.demandItemFacet(C.r,c,{suppressGetItems:!0})){var d=e.isItemFacetResolved(S.e,c),l=e.demandItemFacet(C.e,c,{suppressGetItems:!0}),u="number"==typeof l?l:1,f=e.demandItemFacet(I,c,{suppressGetItems:!d});if(f)i(f,r+1);else for(var p=0;p<u;p++)a.push(c)}else a.push(c)}};return i(t.itemKeys,0),Object(D.t)(a)}var w={suppressGetItems:!0};function E(e,t,n){return e.demandItemFacet(t,n,w)}var A=n(334),L=n(16),k=n(66),M=n(189),P=n(180),T=n(464),U=new o.t({name:"".concat("ItemCacheDataManager",".enableOneUpLensRouting"),factory:new o.e(!0)}),F=new _.e,H=[],R=function(){function e(e,t){var n=this;this._computeParentItemInner=function(e){var t=Object(d.e)(e,{itemsScopeItemKey:n._itemsScopeItemKey});return e.demandItemFacet(g.t,t)||n._emptyItem},this._computeParentItem=function(){var e=n._parentItemObservable,t=e&&e();return t&&t()},this._computeExpandedKeys=function(e){return O(e,{itemKeys:x(e,{itemSetKey:Object(l.e)(e,n._itemsScopeItemKey)})})},this._computeItems=function(e){return B(e,{itemsScopeItemKey:n._itemsScopeItemKey,urlDataSource:n._urlDataSource,enableOneUpLensRouting:n._enableOneUpLensRouting})?H:function(e,t,n){for(var a=new Set(n),i=[],r=0,o=t.length;r<o;r++){var s=t[r],c=E(e,S.a,s)||E(e,C.r,s),d=a.has(s);i[r]=c||!d?void 0:e.demandItemFacet(g.t,s)}return Object(D.t)(i)}(e,n.expandedChildKeys(),Object(P.e)(e,{itemsScopeItemKey:n._itemsScopeItemKey}))},this._computeCurrentItemSet=function(){var e=n._emptyItem,t=n._parentItemObservable(),a=new h.e;return a.item=t,a.isPlaceholder=t===e,a},this._computeOnItemSetContentChange=function(){var e=n.currentItemSet(),t=new b.e;t.items=n._itemsObservable(),e.content(t)},this._computeViewParams=function(e){return e.demandItemFacet(k.e,n._itemsScopeItemKey)};var a=t.itemsScopeItemKey,i=t.itemCacheObservablesFactory,o=t.urlDataSource,s=t.enableOneUpLensRouting,c=t.observablesFactoryType;this._itemsScopeItemKey=a,this._urlDataSource=o,this._enableOneUpLensRouting=s,this._scope=new M.e;var u=this._scope.attach(new c({owner:this}));this._parentItemObservable=this._scope.attach(i.pureCompute(this._computeParentItemInner)),this._parentItemObservable.equalityComparer=r.n;var f=u.pureCompute(this._computeParentItem);f.equalityComparer=r.n,this.currentItem=f,this.expandedChildKeys=this._scope.attach(i.pureCompute(this._computeExpandedKeys)),this.expandedChildKeys.equalityComparer=r.e,this._itemsObservable=this._scope.attach(i.pureCompute(this._computeItems)),this._itemsObservable.equalityComparer=r.e,this._emptyItem=u.create(F),this.currentItemSet=u.pureCompute(this._computeCurrentItemSet),u.compute(this._computeOnItemSetContentChange),(this.viewParams=this._scope.attach(i.pureCompute(this._computeViewParams))).equalityComparer=r.n}return e.prototype.dispose=function(){this._scope.dispose()},e.dependencies={itemsScopeItemKey:p.e,itemCacheObservablesFactory:f.e,observablesFactoryType:i.i,urlDataSource:m.Se,enableOneUpLensRouting:U},e}(),N=Object(s.r)("ItemCacheDataManager",R);function B(e,t){var n,a=t.itemsScopeItemKey,i=t.urlDataSource;if(t.enableOneUpLensRouting){var r=Object(T.e)(e,{itemsScopeItemKey:a});n=null==r?void 0:r.focusItemKey}else{var o=e.demandItemFacet(k.e,a),s=i.getFocusItemKey(o),d=s&&i.getKeyParams(s);if(!d)return;var l=e.demandItemFacet(A.e,L.i);n=A.e.evaluate(l)(e,{viewParams:d,isNavigation:!1}).itemKey}return n?Object(c.e)(e,{itemKey:n}):void 0}var j=new o.t({name:"".concat("OneUpItemCacheDataManager",".enableOneUpLensRouting"),factory:new o.e(!0)}),V=u.e,z=new _.e,G=function(e){function t(t,n){var a,i=e.call(this,t,n)||this,o=n.itemsScopeItemKey,s=n.urlDataSource,u=n.itemCacheObservablesFactory,f=n.itemCacheDataManager,p=n.enableOneUpLensRouting,m=i.observables;V||(a=function(e){var t;if(p){var n=Object(T.e)(e,{itemsScopeItemKey:o});t=null==n?void 0:n.focusItemKey}else{var a=e.demandItemFacet(k.e,o),i=s.getFocusItemKey(a),r=i&&s.getKeyParams(i);if(!r)return;var d=e.demandItemFacet(A.e,L.i);t=A.e.evaluate(d)(e,{viewParams:r,isNavigation:!1}).itemKey}return t?Object(c.e)(e,{itemKey:t}):void 0});var _,y,I=u.pureCompute(function(e){var t=a?a(e):B(e,{itemsScopeItemKey:o,urlDataSource:s,enableOneUpLensRouting:p});return e.demandItemFacet(g.t,t)});I.equalityComparer=r.n,a&&((y=u.pureCompute(function(e){var t=Object(d.e)(e,{itemsScopeItemKey:o});return e.demandItemFacet(g.t,t)})).equalityComparer=r.n,(_=u.pureCompute(function(e){return a&&a(e)?O(e,{itemKeys:x(e,{itemSetKey:Object(l.e)(e,o)})}):[]})).equalityComparer=r.e);var w,M=[],P=u.pureCompute(function(e){var t=a?a(e):B(e,{itemsScopeItemKey:o,urlDataSource:s,enableOneUpLensRouting:p});return t?function(e,t){var n=e.demandItemFacet(g.t,t.focusItemKey),a=t.itemKeys,i=t.fetchRadius,r=void 0===i?2:i;if(!n||!a.length)return D.e;for(var o=[],s=0,c=a.length;s<c;s++){var d=a[s];E(e,S.a,d)||E(e,C.r,d)?o[s]=void 0:o[s]=e.demandItemFacet(g.t,d)}var l=o.indexOf(n);if(l<0)return D.e;var u=Math.max(0,l-r),f=Math.min(l+r,o.length-1);for(s=u;s<=f;s++)o[s]||e.demandItemFacet(S.e,a[s]);return Object(D.t)(o)}(e,{itemKeys:_?_():f.expandedChildKeys(),focusItemKey:t}):M});P.equalityComparer=r.e,y&&((w=m.pureCompute(function(){var e=y&&y();return e&&e()})).equalityComparer=r.n);var U=new h.e;U.item=w||f.currentItem,m.compute(function(){var e=new b.e;e.items=P(),U.content(e)});var F,H,R=m.create(U);if(y){var N=m.create(z);H=m.pureCompute(function(){var e=y&&y()||N,t=new h.e;return t.item=e,t.isPlaceholder=!1,t}),(F=u.pureCompute(function(e){return e.demandItemFacet(k.e,o)})).equalityComparer=r.n}var j=u.pureCompute(function(e){var t=a?a(e):B(e,{itemsScopeItemKey:o,urlDataSource:s,enableOneUpLensRouting:p});return!!t&&Object(v.e)(e,t)});return i.currentItem=w||f.currentItem,i.focusItem=I,i.focusItemSet=R,i.viewParams=F||f.viewParams,i.currentItemSet=H||f.currentItemSet,i.isOneUp=j,i}return Object(a.__extends)(t,e),t.dependencies=Object(a.__assign)(Object(a.__assign)({},i.n.dependencies),{itemsScopeItemKey:p.e,itemCacheObservablesFactory:f.e,urlDataSource:m.Se,itemCacheDataManager:N,enableOneUpLensRouting:j}),t}(i.n),K=Object(s.r)("OneUpItemCacheDataManager",G)},4254:function(e,t,n){"use strict";n.r(t),n.d(t,"resourceKey",function(){return f});var a=n(0),i=n(175),r=n(156),o=n(1761),s=n(2213),c=n(2070),d=n(3088),l=n(23),u=function(e){function t(t,n){var a=e.call(this,t,n)||this;a.addBindingHandlers({control:r.n});var i=a,d=i.observables,u=i.resources,f=n.dataManager,p=f.currentItem,m=f.focusItem,_=f.focusItemSet,h=f.viewParams;return u.expose(l.r,p),u.expose(l._,m),u.expose(l.h,_),u.expose(l.F,h),a.oneUpOverlayComponent={name:s.e.tagName,params:{}},a.oneUpControlParams={specification:Object(r.a)(c.t,{}),placeholder:Object(r.a)(o.t,{})},a.isOneUp=d.pureCompute(function(){return!!d.unwrap(m())}),a}return Object(a.__extends)(t,e),t.dependencies=Object(a.__assign)(Object(a.__assign)({},i.t.dependencies),{dataManager:d.e}),t}(i.t),f=Object(r.t)({name:"OneUpTransclusionContent",template:"\x3c!--ko if:isOneUp--\x3e\x3c!--ko component:oneUpOverlayComponent--\x3e\x3c!--ko control:oneUpControlParams--\x3e\x3c!--/ko--\x3e\x3c!--/ko--\x3e\x3c!--/ko--\x3e",automationName:"ms-oneup-transclusion-component",viewModelType:u});t.default=f}}]);