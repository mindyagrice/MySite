/*! For license information please see 1.js.LICENSE.txt */
(window.odspNextWebpackJsonp=window.odspNextWebpackJsonp||[]).push([[1],{4009:function(e,t){!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=54)}([function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return c}),n.d(t,"g",function(){return d}),n.d(t,"i",function(){return l}),n.d(t,"f",function(){return u});var a=function(){function e(){}return e.Alt="alt",e.AriaLabel="aria-label",e.AriaSelected="aria-selected",e.AriaOrientation="aria-orientation",e.AriaExpanded="aria-expanded",e.AriaControls="aria-controls",e.AriaHasPopups="aria-haspopup",e.AriaModal="aria-modal",e.AriaLabelledBy="aria-labelledby",e.AriaDescribedBy="aria-describedby",e.Class="class",e.DataHtml2CanvasIgnore="data-html2canvas-ignore",e.Disabled="disabled",e.Fill="fill",e.For="for",e.Preview="preview",e.Form="form",e.Height="height",e.HRef="href",e.Id="id",e.MaxLength="maxlength",e.Name="name",e.Placeholder="placeholder",e.Points="points",e.Rel="rel",e.Role="role",e.Source="src",e.Stroke="stroke",e.Style="style",e.TabIndex="tabindex",e.Target="target",e.Transform="transform",e.Type="type",e.Value="value",e.ViewBox="viewBox",e.Width="width",e.xlinkHref="xlink:href",e.X="x",e.Y="y",e}(),i=function(){function e(){}return e.BlankWindow="_blank",e.Button="button",e.Dialog="dialog",e.Tab="tab",e.TabList="tablist",e.TabPanel="tabpanel",e.Checkbox="checkbox",e.Checked="checked",e.False="false",e.Zero="0",e.Polite="polite",e.Radio="radio",e.Submit="submit",e.ScreenshotPreview="ScreenshotPreview",e.Text="text",e.TextAreaMaxLength="1000",e.True="true",e.Unchecked="unchecked",e.NoReferrer="noreferrer",e.AriaOrientationValueVertical="vertical",e}(),r=function(){function e(){}return e.AriaLiveTemplate="obf-AriaLiveTemplate",e.CheckBox="obf-CheckBox",e.FontTitle="obf-FontTitle",e.CloseButton="obf-CloseButton",e.FontSubtitle="obf-FontSubtitle",e.FontText="obf-FontText",e.FontSubText="obf-FontSubText",e.FontSubSubText="obf-FontSubSubText",e.Hidden="obf-Hidden",e.Link="obf-Link",e.MarginLeft60px="obf-MarginLeft60px",e.MarginLeft180px="obf-MarginLeft180px",e.NarrowLayout="obf-NarrowLayout",e.PrivacyStatementLinkDiv="obf-PrivacyStatementLinkDiv",e.Rtl="obf-Rtl",e.Spinner="obf-Spinner",e.SpinnerCircle="obf-SpinnerCircle",e.SubmitButton="obf-SubmitButton",e.CancelButton="obf-CancelButton",e.TextInput="obf-TextInput",e.Visible="obf-Visible",e.Rating="obf-Rating",e.RatingGraphic="obf-RatingGraphic",e.RatingGraphicFilled="obf-RatingGraphic-Filled",e.ChoiceGroup="obf-ChoiceGroup",e.ChoiceGroupIcon="obf-ChoiceGroupIcon",e.OverallAnchor="obf-OverallAnchor",e.OverallAnchorActive="obf-OverallAnchorActive",e.OverallImage="obf-OverallImage",e.OverallText="obf-OverallText",e.SingleLayout="obf-SingleLayout",e.ShowRightBorder="obf-ShowRightBorder",e.SlideLeft="obf-slideLeft",e.TextAlignLeft="obf-TextAlignLeft",e.FormContainer="obf-FormContainer",e.FormWideContainer="obf-FormWideContainer",e.ThanksPanelTitle="obf-ThanksPanelTitle",e.ThanksPanelMessage="obf-ThanksPanelMessage",e.FormQuestionMiddleText="obf-FormQuestionMiddleText",e.FormMiddleText="obf-FormMiddleText",e.FormCategoriesDropdown="obf-FormCategoriesDropdown",e.FormComment="obf-FormComment",e.FormRatingContainer="obf-FormRatingContainer",e.FormRatingLabel="obf-FormRatingLabel",e.FormRating="obf-FormRating",e.FormEmailContainer="obf-FormEmailContainer",e.FormEmailInput="obf-FormEmailInput",e.FormEmailTextBox="obf-FormEmailTextBox",e.FormEmailCheckBox="obf-FormEmailCheckBox",e.FormEmailLabel="obf-FormEmailLabel",e.FormBottomContainer="obf-FormBottomContainer",e.FormSubmitButtonContainer="obf-FormSubmitButtonContainer",e.FormScreenshotContainer="obf-FormScreenshotContainer",e.FormScreenshotLabel="obf-FormScreenshotLabel",e.FormScreenshotCheckbox="obf-FormScreenshotCheckbox",e.FormScreenshotPreview="obf-FormScreenshotPreview",e.FormPrivacyConsentText="obf-TFormPrivacyConsentText",e.TFormEmailCheckbox="obf-TFormEmailCheckbox",e.TFormEmailLabel="obf-TFormEmailLabel ",e.EmailCheckBoxLabel="obf-EmailCheckBoxLabel",e.Toast="obf-Toast",e.ToastZoom="obf-ToastZoom",e}(),o=function(){function e(){}return e.CloseButton="obf-CloseButton",e.ColumnSeparatorDiv="obf-ColumnSeparatorDiv",e.OverallAnchorsContainer="obf-OverallAnchorsContainer",e.OverallFrownAnchor="obf-OverallFrownAnchor",e.OverallFrownDiv="obf-OverallFrownDiv",e.OverallFrownImage="obf-OverallFrownImage",e.OverallFrownText="obf-OverallFrownText",e.OverallSmileAnchor="obf-OverallSmileAnchor",e.OverallSmileDiv="obf-OverallSmileDiv",e.OverallSmileImage="obf-OverallSmileImage",e.OverallSmileText="obf-OverallSmileText",e.OverallIdeaAnchor="obf-OverallIdeaAnchor",e.OverallIdeaDiv="obf-OverallIdeaDiv",e.OverallIdeaImage="obf-OverallIdeaImage",e.OverallIdeaText="obf-OverallIdeaText",e.OverallBugAnchor="obf-OverallBugAnchor",e.OverallBugDiv="obf-OverallBugDiv",e.OverallBugImage="obf-OverallBugImage",e.OverallBugText="obf-OverallBugText",e.QuestionLeftText="obf-QuestionLeftText",e.LeftFormContainer="obf-LeftFormContainer",e.LeftPanelContainer="obf-LeftPanelContainer",e.MainContainer="obf-MainContainer",e.MainContentHolder="obf-MainContentHolder",e.MiddleFormContainer="obf-MiddleFormContainer",e.OverlayBackground="obf-OverlayBackground",e.PrivacyStatementLink="obf-PrivacyStatementLink",e.PrivacyConsentText="obf-PrivacyConsentText",e.FirstTabbable="obf-FirstTabbable",e.LastTabbable="obf-LastTabbable",e.EmailCheckBox="obf-EmailCheckBox",e.SingleFormContainer="obf-SingleFormContainer",e.SingleFormQuestionMiddleText="obf-SingleFormQuestionMiddleText",e.SingleFormCategoriesDropdown="obf-SingleFormCategoriesDropdown",e.SingleFormComment="obf-SingleFormComment",e.SingleFormEmailInput="obf-SingleFormEmailInput",e.SingleFormRating="obf-SingleFormRating",e.SingleFormScreenshotCheckbox="obf-SingleFormScreenshotCheckbox",e.SingleFormScreenshotPreview="obf-SingleFormScreenshotPreview",e.SingleFormSubmitButton="obf-SingleFormSubmitButton",e.SingleFormCancelButton="obf-SingleFormCancelButton",e.SingleFormSubmitButtonSpinner="obf-SingleFormSubmitButtonSpinner",e.BasicFormContainer="obf-BasicFormContainer",e.BasicFormQuestionMiddleText="obf-BasicFormQuestionMiddleText",e.BasicFormCategoriesDropdown="obf-BasicFormCategoriesDropdown",e.BasicFormComment="obf-BasicFormComment",e.BasicFormEmailInput="obf-BasicFormEmailInput",e.BasicFormRating="obf-BasicFormRating",e.BasicFormScreenshotCheckbox="obf-BasicFormScreenshotCheckbox",e.BasicFormScreenshotPreview="obf-BasicFormScreenshotPreview",e.BasicFormSubmitButton="obf-BasicFormSubmitButton",e.BasicFormCancelButton="obf-BasicFormCancelButton",e.BasicFormSubmitButtonSpinner="obf-BasicFormSubmitButtonSpinner",e.ThanksPanelContainer="obf-ThanksPanelContainer",e.ThanksPanelCloseButton="obf-ThanksPanelCloseButton",e.ThanksPanelDiscussion="obf-ThanksPanelDiscussion",e.ThanksPanelVerticalContainer="obf-ThanksPanelVerticalContainer",e.ThanksPanelInnerContainer="obf-ThanksPanelInnerContainer",e.ThanksPanelParagraph="obf-ThanksPanelParagraph",e.FeedbackPortalIdeaContainer="obf-FeedbackPortalIdeaContainer",e.OverallFeedbackPortalIdeaAnchor="obf-OverallFeedbackPortalIdeaAnchor",e.ToastContainer="obf-ToastContainer",e.ToastCancel="obf-ToastCancel",e.TPromptContainer="obf-TPromptContainer",e.TPromptTitle="obf-TPromptTitle",e.TPromptText="obf-TPromptText",e.TFormContainer="obf-TFormContainer",e.TFormTitle="obf-TFormTitle",e.TFormRating="obf-TFormRating",e.TFormRatingQuestion="obf-TFormRatingQuestion",e.TFormCommentQuestion="obf-TFormCommentQuestion",e.TFormComment="obf-TFormComment",e.TFormEmailTextBox="obf-TFormEmailTextBox",e.TFormEmailCheckBox="obf-TFormEmailCheckBox",e.TFormEmailLabel="obf-TFormEmailLabel",e.TFormSubmitButton="obf-TFormSubmitButton",e.TFormCancelButton="obf-TFormCancelButton",e.TFormSubmitButtonSpinner="obf-TFormSubmitButtonSpinner",e.TFormSubmitButtonContainer="obf-TFormSubmitButtonContainer",e}(),s=function(){function e(){}return e.Esc=27,e.Tab=9,e}(),c=function(){function e(){}return e.Anchor="A",e.Button="button",e.Defs="defs",e.Div="div",e.FieldSet="fieldset",e.Form="form",e.Img="img",e.Input="input",e.Label="label",e.Legend="legend",e.Option="option",e.Polygon="polygon",e.Select="select",e.Span="span",e.Svg="svg",e.TextArea="textarea",e.Use="use",e}(),d=function(){function e(){}return e.Button="Button",e}(),l=function(){function e(){}return e.PrivacyStatementLink="https://go.microsoft.com/fwlink/?LinkId=521839",e}(),u=function(){function e(){}return e.No="1",e.Yes="2",e}()},function(e,t,n){"use strict";n.d(t,"get",function(){return d}),n.d(t,"validateFeedbackType",function(){return l});var a=n(3),i=n(7),r=n(52),o=n(12),s=n(0);n.d(t,"AgeGroup",function(){return o.a}),n.d(t,"AuthenticationType",function(){return o.b}),n.d(t,"CustomResources",function(){return o.c}),n(49);var c=new(function(){function e(){this.feedbackSubmitted=!1}return e.validateCategoryOptions=function(e){if(!e)return{show:!1};if(a.d(e.show,"categories.show"),e.customCategories){a.c(e.customCategories,"categories.customCategories");for(var t=0,n=e.customCategories;t<n.length;t++){var i=n[t];if(a.h(i,"custom category '"+i+"'"),i.length>20)throw"custom category '"+i+"' too long, max 20 characters."}}return e},e.prototype.getFeedbackSubmitted=function(){return this.feedbackSubmitted},e.prototype.setFeedbackSubmitted=function(e){this.feedbackSubmitted=e},e.prototype.getCommonInitOptions=function(){return this.commonInitOptions},e.prototype.getInAppFeedbackInitOptions=function(){return this.inAppFeedbackInitOptions},e.prototype.getInAppFeedbackLaunchOptions=function(){return this.inAppFeedbackLaunchOptions},e.prototype.getFloodgateInitOptions=function(){return this.floodgateInitOptions},e.prototype.getFloodgateSurvey=function(){return this.floodgateSurvey},e.prototype.getSdkSessionId=function(){return this.sdkSessionId||(this.sdkSessionId=a.i()),this.sdkSessionId},e.prototype.getEventSampling=function(){return this.eventSampling},e.prototype.setCommonInitOptions=function(e){a.g(e,"passedInitOptions");var t={appId:e.appId,applicationGroup:e.applicationGroup||{},build:e.build,cid:e.cid,environment:e.environment,intlFilename:e.intlFilename,intlUrl:e.intlUrl,webSurfacesResourceBaseUrl:e.webSurfacesResourceBaseUrl,locale:e.locale,onError:e.onError,originalLocale:e.locale,primaryColour:e.primaryColour,secondaryColour:e.secondaryColour,sessionId:e.sessionId,stylesUrl:e.stylesUrl,telemetryGroup:e.telemetryGroup||{},userEmail:e.userEmail,webGroup:e.webGroup||{},eventSampling:e.eventSampling,petrolTimeout:e.petrolTimeout,isCommercialHost:e.isCommercialHost,customResourcesSetExternally:e.customResourcesSetExternally,emailPolicyValue:e.emailPolicyValue,screenshotPolicyValue:e.screenshotPolicyValue,ageGroup:e.ageGroup,authenticationType:e.authenticationType,applicationSettings:e.applicationSettings,webSurfacesSettings:e.webSurfacesSettings,privacyUrl:e.privacyUrl||s.i.PrivacyStatementLink,retentionDurationDays:e.retentionDurationDays};if(a.f(t.appId,"initOptions.appId"),!(t.appId%1==0&&t.appId>0))throw"initOptions.appId is not a positive integer: "+t.appId;if(void 0!==t.retentionDurationDays&&(a.f(t.retentionDurationDays,"initOptions.retentionDurationDays"),!(t.retentionDurationDays%1==0&&t.retentionDurationDays>0)))throw"initOptions.retentionDurationDays is not a positive integer: "+t.retentionDurationDays;var n=o.c.Strings|o.c.Css;if(void 0===t.customResourcesSetExternally)t.customResourcesSetExternally=o.c.None;else if("number"!=typeof t.customResourcesSetExternally||(t.customResourcesSetExternally|n)!==n)throw"initOptions.customResourcesSetExternally has an invalid value: "+t.customResourcesSetExternally;if((t.customResourcesSetExternally&o.c.Css)!==o.c.Css&&a.h(t.stylesUrl,"initOptions.stylesUrl"),(t.customResourcesSetExternally&o.c.Strings)!==o.c.Strings&&a.h(t.intlUrl,"initOptions.intlUrl"),void 0!==t.intlFilename?a.h(t.intlFilename,"initOptions.intlFilename"):t.intlFilename="officebrowserfeedbackstrings.js",a.f(t.environment,"initOptions.environment"),1!==t.environment&&0!==t.environment)throw"initOptions.environment has a bad value: "+t.environment;void 0!==t.userEmail?a.h(t.userEmail,"initOptions.userEmail"):t.userEmail="",void 0!==t.sessionId?a.h(t.sessionId,"initOptions.sessionId"):t.sessionId="00000000-0000-0000-0000-000000000000",t.telemetryGroup.processSessionId=t.sessionId,void 0!==t.cid&&(a.h(t.cid,"initOptions.cid"),t.applicationGroup.extendedManifestData=JSON.stringify({cid:t.cid})),void 0!==t.build?(a.h(t.build,"initOptions.build"),new RegExp("^[0-9]{1,9}(\\.[0-9]{1,9})?(\\.[0-9]{1,9})?(\\.[0-9]{1,9})?$").test(t.build)||(t.build="0.0.0.0")):t.build="0.0.0.0",t.telemetryGroup.officeBuild=t.build;var i=new RegExp("^#[0-9a-f]{3}([0-9a-f]{3})?$","i");if(void 0!==t.primaryColour&&(i.test(t.primaryColour)||(t.primaryColour=void 0)),void 0!==t.secondaryColour&&(i.test(t.secondaryColour)||(t.secondaryColour=void 0)),void 0!==t.locale?(a.h(t.locale,"initOptions.locale"),t.locale=r.a(t.locale)):t.locale="en",void 0===t.onError&&(t.onError=function(e){}),void 0!==t.petrolTimeout&&a.f(t.petrolTimeout,"initOptions.petrolTimeout"),void 0!==t.authenticationType?a.e(t.authenticationType,o.b,"initOptions.authenticationType"):t.authenticationType=o.b.Unauthenticated,void 0!==t.ageGroup?a.e(t.ageGroup,o.a,"initOptions.ageGroup"):t.ageGroup=o.a.Undefined,this.eventSampling=this.parseEventSamplingOption(t.eventSampling),this.commonInitOptions=t,this.commonPolicyAllowAADC=this.determineAADCPolicy(t.authenticationType,t.ageGroup),void 0===t.isCommercialHost||null==t.isCommercialHost?t.isCommercialHost=!1:a.d(t.isCommercialHost,"initOptions.isCommercialHost"),void 0===t.emailPolicyValue)t.emailPolicyValue=0;else if("number"!=typeof t.emailPolicyValue||0!==t.emailPolicyValue&&1!==t.emailPolicyValue&&2!==t.emailPolicyValue)throw"initOptions.emailPolicyValue has an invalid value: "+t.emailPolicyValue;if(void 0===t.screenshotPolicyValue)t.screenshotPolicyValue=0;else if("number"!=typeof t.screenshotPolicyValue||0!==t.screenshotPolicyValue&&1!==t.screenshotPolicyValue&&2!==t.screenshotPolicyValue)throw"initOptions.screenshotPolicyValue has an invalid value: "+t.screenshotPolicyValue;void 0!==t.privacyUrl?a.h(t.privacyUrl,"initOptions.privacyUrl"):t.privacyUrl=s.i.PrivacyStatementLink},e.prototype.setInAppFeedbackInitOptions=function(e){a.g(e,"passedInitOptions");var t={bugForm:e.bugForm,onDismiss:e.onDismiss,screenshot:e.screenshot,showEmailAddress:e.showEmailAddress,userEmail:e.userEmail,transitionEnabled:e.transitionEnabled,isShowThanks:e.isShowThanks,sendFeedbackPolicyValue:e.sendFeedbackPolicyValue,feedbackForumUrl:void 0!==e.feedbackForumUrl?e.feedbackForumUrl:void 0,myFeedbackForumUrl:void 0!==e.myFeedbackForumUrl?e.myFeedbackForumUrl:void 0};if(void 0===t.onDismiss&&(t.onDismiss=function(e){}),void 0!==t.bugForm?a.d(t.bugForm,"initOptions.bugForm"):t.bugForm=!1,void 0!==t.userEmail&&a.h(t.userEmail,"initOptions.userEmail"),void 0!==t.screenshot?a.d(t.screenshot,"initOptions.screenshot"):t.screenshot=!0,void 0!==t.showEmailAddress?a.d(t.showEmailAddress,"initOptions.showEmailAddress"):t.showEmailAddress=!0,void 0!==t.feedbackForumUrl?a.h(t.feedbackForumUrl,"initOptions.feedbackForumUrl"):t.feedbackForumUrl=void 0,void 0!==t.isShowThanks?a.d(t.isShowThanks,"initOptions.isShowThanks"):t.isShowThanks=!0,void 0!==t.myFeedbackForumUrl?a.h(t.myFeedbackForumUrl,"initOptions.myFeedbackForumUrl"):t.myFeedbackForumUrl=void 0,void 0===t.transitionEnabled&&(t.transitionEnabled=!0),void 0===t.sendFeedbackPolicyValue)t.sendFeedbackPolicyValue=0;else if("number"!=typeof t.sendFeedbackPolicyValue||0!==t.sendFeedbackPolicyValue&&1!==t.sendFeedbackPolicyValue&&2!==t.sendFeedbackPolicyValue)throw"initOptions.sendFeedbackPolicyValue has an invalid value: "+t.sendFeedbackPolicyValue;this.inAppFeedbackInitOptions=t},e.prototype.setInAppFeedbackLaunchOptions=function(t){if(!this.commonInitOptions)throw"commonInitOptions not set";t||(t={}),this.commonInitOptions.applicationGroup=a.o(t.applicationGroup,this.commonInitOptions.applicationGroup),this.commonInitOptions.telemetryGroup=a.o(t.telemetryGroup,this.commonInitOptions.telemetryGroup),this.commonInitOptions.webGroup=a.o(t.webGroup,this.commonInitOptions.webGroup),t.categories=e.validateCategoryOptions(t.categories),this.inAppFeedbackLaunchOptions=t},e.prototype.setFloodgateInitOptions=function(e){a.g(e,"passedInitOptions");var t={autoDismiss:e.autoDismiss,campaignDefinitions:e.campaignDefinitions,campaignFlights:e.campaignFlights,campaignQueryParameters:e.campaignQueryParameters,onDismiss:e.onDismiss,onSurveyActivatedCallback:e.onSurveyActivatedCallback,settingStorageCallback:e.settingStorageCallback,uIStringGetter:e.uIStringGetter,authTokenCallback:e.authTokenCallback,surveyEnabled:e.surveyEnabled,showEmailAddress:e.showEmailAddress,augLoopCallback:e.augLoopCallback,customerVoiceSurveyParams:e.customerVoiceSurveyParams,surveyCSSParams:e.surveyCSSParams,governanceServiceEnabled:e.governanceServiceEnabled,governanceServiceConfig:e.governanceServiceConfig,personalizerEnabled:e.personalizerEnabled,messagingServiceSettings:e.messagingServiceSettings,isPriorityEnabled:e.isPriorityEnabled};void 0===t.autoDismiss&&(t.autoDismiss=0),void 0===t.onDismiss&&(t.onDismiss=function(e,t){}),void 0===t.onSurveyActivatedCallback&&(t.onSurveyActivatedCallback={onSurveyActivated:function(e,t,n){e.launch()}}),void 0===t.uIStringGetter&&(t.uIStringGetter=function(e){return e}),void 0===t.surveyEnabled?t.surveyEnabled=!0:a.d(t.surveyEnabled,"surveyEnabled"),void 0!==t.showEmailAddress?a.d(t.showEmailAddress,"initOptionsFloodgate.showEmailAddress"):t.showEmailAddress=!0,void 0!==t.governanceServiceEnabled?a.d(t.governanceServiceEnabled,"initOptionsFloodgate.governanceServiceEnable"):t.governanceServiceEnabled=!1,t.governanceServiceEnabled&&(t.governanceServiceConfig=this.parseGovernanceServiceConfig(void 0!==t.governanceServiceConfig?t.governanceServiceConfig:{})),void 0===t.customerVoiceSurveyParams?t.customerVoiceSurveyParams={cvFlights:"",isCVSurveyEnabled:!0,productName:"",uiHost:""}:a.l(t.customerVoiceSurveyParams.isCVSurveyEnabled)&&(t.customerVoiceSurveyParams.isCVSurveyEnabled=!0),void 0!==t.personalizerEnabled?a.d(t.personalizerEnabled,"initOptionsFloodgate.personalizerEnabled"):t.personalizerEnabled=!1,void 0!==t.isPriorityEnabled?a.d(t.isPriorityEnabled,"initOptionsFloodgate.isPriorityEnabled"):t.isPriorityEnabled=!0,this.floodgateInitOptions=t},e.prototype.setFloodgateSurvey=function(e){this.floodgateSurvey=e},e.prototype.checkIfSurveysEnabled=function(){return(!this.floodgateInitOptions||this.floodgateInitOptions.surveyEnabled)&&this.commonPolicyAllowAADC},e.prototype.isFeedbackSurveyEnabledByAADC=function(){return this.commonPolicyAllowAADC},e.prototype.getCVSurveyFlights=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.cvFlights:""},e.prototype.isCVSurveyEnabled=function(){return!this.floodgateInitOptions||!this.floodgateInitOptions.customerVoiceSurveyParams||this.floodgateInitOptions.customerVoiceSurveyParams.isCVSurveyEnabled},e.prototype.getProductName=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.productName:""},e.prototype.getUIHost=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.uiHost:""},e.prototype.getUIHostCVSurveyDispatcher=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.customerVoiceSurveyParams?this.floodgateInitOptions.customerVoiceSurveyParams.uiHostCVSurveyDispatcher:""},e.prototype.getCSSPosition=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssPosition?this.floodgateInitOptions.surveyCSSParams.cssPosition:""},e.prototype.getCSSZIndex=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssZIndex?this.floodgateInitOptions.surveyCSSParams.cssZIndex:""},e.prototype.getCSSBottom=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssBottom?this.floodgateInitOptions.surveyCSSParams.cssBottom:""},e.prototype.getCSSRight=function(){return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&this.floodgateInitOptions.surveyCSSParams.cssRight?this.floodgateInitOptions.surveyCSSParams.cssRight:""},e.prototype.getCSSVarString=function(){var e=[];return this.floodgateInitOptions&&this.floodgateInitOptions.surveyCSSParams&&(this.floodgateInitOptions.surveyCSSParams.cssPosition&&e.push("--obf-position:",this.floodgateInitOptions.surveyCSSParams.cssPosition,";"),this.floodgateInitOptions.surveyCSSParams.cssZIndex&&e.push("--obf-zIndex:",this.floodgateInitOptions.surveyCSSParams.cssZIndex,";"),this.floodgateInitOptions.surveyCSSParams.cssBottom&&e.push("--obf-bottom:",this.floodgateInitOptions.surveyCSSParams.cssBottom,";"),this.floodgateInitOptions.surveyCSSParams.cssRight&&e.push("--obf-right:",this.floodgateInitOptions.surveyCSSParams.cssRight,";")),e.join("")},e.prototype.determineAADCPolicy=function(e,t){return e===o.b.Unauthenticated||e===o.b.AAD||t!==o.a.MinorWithParentalConsent&&t!==o.a.MinorWithoutParentalConsent},e.prototype.getUserConsentGroup=function(){var e=this.commonInitOptions.authenticationType;if(e===o.b.Unauthenticated||e===o.b.AAD)return 1;switch(this.commonInitOptions.ageGroup){case o.a.Undefined:return 1;case o.a.MinorWithoutParentalConsent:case o.a.MinorWithParentalConsent:return 3;case o.a.Adult:return 1;case o.a.NotAdult:return 2;case o.a.MinorNoParentalConsentRequired:return 1;default:return 3}return 3},e.prototype.parseEventSamplingOption=function(e){var t={event:{}};if(void 0!==e)for(var n in e)if(e.hasOwnProperty(n)){if("Event"!==e[n].type)throw"initOption.EventSampling.Type value is not recognized";var i=e[n].sampleRate;if(a.f(i,"initOption.EventSampling.SampleRate"),a.h(e[n].name,"initOption.EventSampling.Name"),i<0||i>1)throw"initOption.EventSampling."+e[n].name+".SampleRate is out of range";t.event[e[n].name]=i}return t},e.prototype.parseGovernanceServiceConfig=function(e){var t,n,a,i;return{forceServicelessSurveyDisplay:null!==(t=e.forceServicelessSurveyDisplay)&&void 0!==t&&t,retry:null!==(n=e.retry)&&void 0!==n?n:1,timeout:null!==(a=e.timeout)&&void 0!==a?a:1e3,simpleRequestEnabled:null!==(i=e.simpleRequestEnabled)&&void 0!==i&&i}},e}());function d(){return c}function l(e){if(a.h(e,"feedbackType"),e===i.b[i.b.Smile])return i.b.Smile;if(e===i.b[i.b.Frown])return i.b.Frown;if(e===i.b[i.b.Bug])return i.b.Bug;throw"feedbackType should be one of Smile, Frown or Bug"}},function(e,t,n){"use strict";n.d(t,"a",function(){return y}),n.d(t,"c",function(){return I}),n.d(t,"b",function(){return x});var a=function(){function e(e,t){if(!e)throw new Error("name must not be null");if(!t)throw new Error("version must not be null");this.name=e,this.version=t}return e.prototype.getName=function(){return this.name},e.prototype.getPlatform=function(){return e.PLATFORM},e.prototype.getVersion=function(){return this.version},e.PLATFORM="Web",e}(),i=function(){function e(e){if(!e)throw new Error("id must not be null");this.id=e}return e.prototype.getId=function(){return this.id},e}(),r=function(){function e(e,t,n,a){this.id=e,this.locale=t,this.sessionId=n,this.version=a}return e.prototype.getId=function(){return this.id},e.prototype.getLocale=function(){return this.locale},e.prototype.getSessionId=function(){return this.sessionId},e.prototype.getVersion=function(){return this.version},e}(),o=function(){function e(t,n,a,i){if(!t)throw new Error("name must not be null");if(!n)throw new Error("sessionId must not be null");if(!a&&0!==a||a<0)throw new Error("sequence must not be negative");this.name=t,this.id=n+e.ID_DELIMITER+a,this.sequence=a,this.sampleRate=i}return e.prototype.getName=function(){return this.name},e.prototype.getId=function(){return this.id},e.prototype.getSource=function(){return e.SOURCE},e.prototype.getSchemaVersion=function(){return e.SCHEMA_VERSION},e.prototype.getSequence=function(){return this.sequence},e.prototype.getSampleRate=function(){return this.sampleRate},e.ID_DELIMITER=".",e.SOURCE="MsoThin",e.SCHEMA_VERSION=1,e}(),s=function(){function e(e){this.audienceGroup=e}return e.prototype.getAudienceGroup=function(){return this.audienceGroup},e}(),c=function(){function e(e,t){this.name=e,this.version=t}return e.prototype.getName=function(){return this.name},e.prototype.getVersion=function(){return this.version},e}(),d=function(){function e(e){this.id=e}return e.prototype.getId=function(){return this.id},e}(),l=function(){function e(e,t){this.tenantId=t,this.primaryIdentityHash=e?e.trim():e,this.primaryIdentitySpace=this.generatePrimaryIdentitySpace()}return e.prototype.getTenantId=function(){return this.tenantId},e.prototype.getPrimaryIdentityHash=function(){return this.primaryIdentityHash},e.prototype.getPrimaryIdentitySpace=function(){return this.primaryIdentitySpace},e.prototype.generatePrimaryIdentitySpace=function(){if(this.primaryIdentityHash){if(this.primaryIdentityHash.startsWith("a:"))return"UserObjectId";if(this.primaryIdentityHash.startsWith("p:"))return"MsaPuid";if(this.primaryIdentityHash.startsWith("ap:"))return"OrgIdPuid"}},e}(),u=n(3),f=n(79);function p(){return f.AWT}var m,_,h=function(){function e(e,t,n,a,i,r,o,s,c){if(!e)throw new Error("tenantToken must not be null");if(!t)throw new Error("namespace must not be null");if(!n)throw new Error("app must not be null");if(!a)throw new Error("session must not be null");p().initialize(e),this.namespace=t,this.oesApp=n,this.oesSession=a,this.oesHost=i,this.oesRelease=r,this.oesBrowser=o,this.oesDevice=s,this.oesUser=c,this.sequence=1}return e.setApp=function(e,t){e["App.Name"]=t.getName(),e["App.Platform"]=t.getPlatform(),e["App.Version"]=t.getVersion()},e.setSession=function(e,t){e["Session.Id"]=t.getId()},e.setHost=function(e,t){t&&(e["Host.Id"]=t.getId(),e["Host.SessionId2"]=t.getSessionId(),e["Host.Version"]=t.getVersion(),e["Host.Locale"]=t.getLocale())},e.setEvent=function(e,t){e["Event.Name"]=t.getName(),e["Event.Id"]=t.getId(),e["Event.Source"]=t.getSource(),e["Event.SchemaVersion"]=t.getSchemaVersion(),e["Event.Sequence"]=t.getSequence(),e["Event.SampleRate"]=t.getSampleRate()},e.setRelease=function(e,t){t&&(e["Release.AudienceGroup"]=t.getAudienceGroup())},e.setBrowser=function(e,t){t&&(e["Browser.Name"]=t.getName(),e["Browser.Version"]=t.getVersion())},e.setDevice=function(e,t){t&&(e["Device.Id"]=t.getId())},e.setUser=function(e,t){t&&(e["User.PrimaryIdentityHash"]=t.getPrimaryIdentityHash(),e["User.PrimaryIdentitySpace"]=t.getPrimaryIdentitySpace(),e["User.TenantId"]=t.getTenantId())},e.prototype.logEvent=function(t,n,a){if(void 0===a&&(a=1),!t)throw new Error("eventName must not be null");var i=new o(this.namespace+e.EVENT_NAME_DELIMITER+t,this.oesSession.getId(),this.sequence,a),r={};if(null!=n)for(var s in n)n.hasOwnProperty(s)&&(r[e.CUSTOM_PROPERTIES_FIELD_PREFIX+s]=n[s]);e.setApp(r,this.oesApp),e.setSession(r,this.oesSession),e.setHost(r,this.oesHost),e.setRelease(r,this.oesRelease),e.setEvent(r,i),e.setBrowser(r,this.oesBrowser),e.setDevice(r,this.oesDevice),e.setUser(r,this.oesUser),p().logEvent({name:i.getName(),properties:r}),this.sequence++},e.EVENT_NAME_DELIMITER="_",e.CUSTOM_PROPERTIES_FIELD_PREFIX="Data.",e}(),b=function(){function e(){}return e.create=function(e,t,n,a,i,r,o,s,c){return new h(e,t,n,a,i,r,o,s,c)},e}(),g=n(16),v=n(14),y=function(){function e(){}var t,n,a,i,r,o,s,c,d,l,u,f,p,m,_,h,b,g,v,y,S,D,I,x,C,O,w,E,A,L,k,M,P,T,U,F,H,R,N,B,j,V,z,G,K;return e.InApp=((t=function(){}).UI=((n=function(){}).Picker=((a=function(){}).Shown=((i=function(){}).VALUE={name:"InApp_UI_Picker_Shown"},i),a),n.Form=((r=function(){}).Shown=((o=function(){}).VALUE={name:"InApp_UI_Form_Shown"},o),r.Submit=((s=function(){}).VALUE={name:"InApp_UI_Form_Submit"},s),r),n),t),e.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED={name:"Survey_Floodgate_CampaignLoad_Failed"},e.SURVEY_FLOODGATE_FILEREAD_FAILED={name:"Survey_Floodgate_FileRead_Failed"},e.SURVEY_FLOODGATE_FILEWRITE_FAILED={name:"Survey_Floodgate_FileWrite_Failed"},e.SURVEY_FLOODGATE_TRIGGERMET={name:"Survey_Floodgate_TriggerMet"},e.SURVEY_FLOODGATE_USERSELECTED={name:"Survey_Floodgate_UserSelected"},e.SURVEY_UI_FORM_SHOWN={name:"Survey_UI_Form_Shown"},e.SURVEY_UI_FORM_DISPATCHER_IMPLEMENTED={name:"Survey_UI_Form_Dispatcher_Implemented"},e.SURVEY_UI_FORM_SUBMIT={name:"Survey_UI_Form_Submit"},e.SURVEY_UI_FORM_SECONDARY_SUBMIT={name:"Survey_UI_Form_Secondary_Submit"},e.SURVEY_UI_FORM_SUBMIT_ERROR={name:"Survey_UI_Form_Submit_Error"},e.SURVEY_UI_FORM_USERCLOSED={name:"Survey_UI_Form_UserClosed"},e.SURVEY_UI_THANKYOUPAGE_USERCLOSED={name:"Survey_UI_ThankYouPage_UserClosed"},e.SURVEY_UI_FORM_NO_RETURN_TYPE={name:"Survey_UI_Form_No_Return_Type"},e.SURVEY_UI_PROMPT_AUTODISMISSED={name:"Survey_UI_Prompt_AutoDismissed"},e.SURVEY_UI_THANKYOUPAGE_AUTODISMISSED={name:"Survey_UI_ThankYouPage_AutoDismissed"},e.SURVEY_UI_PROMPT_SHOWN={name:"Survey_UI_Prompt_Shown"},e.SURVEY_UI_PROMPT_USERCLOSED={name:"Survey_UI_Prompt_UserClosed"},e.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED={name:"Survey_UI_AdditionalPrompt_UserClosed"},e.SURVEY_UI_PROMPT_CLICKED={name:"Survey_UI_Prompt_Clicked"},e.SURVEY_UI_ADDITIONALPROMPT_CLICKED={name:"Survey_UI_AdditionalPrompt_Clicked"},e.SURVEY_UI_REDIRECTIONFAILURE={name:"Survey_UI_RedirectionFailure"},e.GOVERNANCE_SERVICEFAILURE={name:"Gorvenance_ServiceFailure"},e.GOVERNANCE_SERVICERESULT={name:"Gorvenance_ServiceResult"},e.DYNAMICTRANSPORT_POST_ERROR={name:"DynamicTransport_Post_Error"},e.FEEDBACK_SURVEYSDISABLED_AADC={name:"Feedback_SurveysDisabled_AADC"},e.SURVEY_UI_DISABLED_AADC={name:"Survey_UI_Prevented_AADC"},e.PERSONALIZER_SERVICEREWARDRESULT={name:"Personalizer_ServiceRewardResult"},e.PERSONALIZER_CLIENTFAILURE={name:"Personalizer_ClientFailure"},e.APPDATA_JSON_PARSE_ERROR={name:"AppData_JSON_Parse_Error"},e.SURVEY_RENDER_OVERRIDE_ERROR={name:"Survey_Render_Override_Error"},e.SURVEY_RENDER_OVERRIDE_SUCCESS={name:"Survey_Render_Override_Success"},e.SURVEY_EVENT_KEY_ERROR={name:"Survey_Event_Key_Error"},e.Shared=((c=function(){}).Upload=((d=function(){}).Failed=((l=function(){}).VALUE={name:"Shared_Upload_Failed"},l),d.Prevented=((u=function(){}).VALUE={name:"Shared_Upload_Prevented_AADC"},u),d),c.Screenshot=((f=function(){}).Render=((p=function(){}).Failed=((m=function(){}).VALUE={name:"Shared_Screenshot_Render_Failed"},m),p.Success=((_=function(){}).VALUE={name:"Shared_Screenshot_Render_Success"},_),p),f.GetContent=((h=function(){}).Failed=((b=function(){}).DefaultImage=((g=function(){}).Returned=((v=function(){}).VALUE={name:"Shared_Screenshot_GetContent_Failed_DefaultImage_Returned"},v),g),b),h),f),c),e.WebSurfaces=((y=function(){}).Common=((S=function(){}).Error=((D=function(){}).VALUE={name:"WebSurfaces_Common_Error"},D),S.Info=((I=function(){}).VALUE={name:"WebSurfaces_Common_Info"},I),S),y.CampaignMetadataAggregator=((x=function(){}).Error=((C=function(){}).VALUE={name:"WebSurfaces_CampaignMetadataAggregator_Error"},C),x.Requests=((O=function(){}).VALUE={name:"WebSurfaces_CampaignMetadataAggregator_Requests"},O),x),y.SetCampaignAction=((w=function(){}).Error=((E=function(){}).VALUE={name:"WebSurfaces_SetCampaignAction_Error"},E),w.Requests=((A=function(){}).VALUE={name:"WebSurfaces_SetCampaignAction_Requests"},A),w),y),e.UserFacts=((L=function(){}).Common=((k=function(){}).Error=((M=function(){}).VALUE={name:"UserFacts_Common_Error"},M),k.Info=((P=function(){}).VALUE={name:"UserFacts_Common_Info"},P),k),L.LocalFact=((T=function(){}).Error=((U=function(){}).VALUE={name:"UserFacts_LocalFact_Error"},U),T),L.Messaging=((F=function(){}).Requests=((H=function(){}).VALUE={name:"UserFacts_Messaging_Requests"},H),F),L.AugLoop=((R=function(){}).Requests=((N=function(){}).VALUE={name:"UserFacts_AugLoop_Requests"},N),R.Error=((B=function(){}).VALUE={name:"UserFacts_AugLoop_Error"},B),R),L.Provider=((j=function(){}).Info=((V=function(){}).VALUE={name:"UserFacts_Provider_Summary"},V),j),L),e.Common=((z=function(){}).Error=((G=function(){}).VALUE={name:"Common_Error"},G),z.Info=((K=function(){}).VALUE={name:"Common_Info"},K),z),e}(),S=n(13),D=u.l;function I(e,t,n,o,u){var f=e.telemetryGroup?e.telemetryGroup:{},p=e.webGroup?e.webGroup:{};m=new C(b.create(O.getTenantToken(e.environment),"Office_Feedback",new a(t,n),new i(o),new r(e.appId.toString(),e.originalLocale,e.sessionId,e.build),new s(f.audienceGroup),new c(p.browser,p.browserVersion),new d(f.deviceId),new l(f.loggableUserId?f.loggableUserId:e.cid,f.tenantId)),u,e),_=e.environment}function x(){return m}var C=function(){function e(e,t,n){if(this.SAMPLING_RESULT=Math.random(),!e)throw new Error("telemetryLogger must not be null");this.telemetryLogger=e,this.eventSampling=t,this.initOptionsCommon=n}return e.prototype.logEvent=function(t,n,a,i){if(!t)throw new Error("eventId must not be null");var r;return this.isEventSampled(t.name)?r=this.getEventSamplingRate(t.name):void 0!==i&&(r=i),D(n)||0===n?(0===_&&(this.isConsoleLogEnabled&&console&&console.log("Floodgate event: ",e.EVENT_NAME,"logSeverity must not be null or none"),this.telemetryLogger.logEvent(e.EVENT_NAME,{ErrorMessage:"logSeverity must not be null or none"},r)),!1):((a=a||{})[e.EVENT_ID]=t.name,(this.isLoggingEnabled(n,r)||this.isEventTelemetryEnabled(t.name))&&(r=null!=r?r:e.DEFAULT_SAMPLE_RATE,this.telemetryLogger.logEvent(e.EVENT_NAME,a,r)),this.isConsoleLogEnabled&&console&&console.log("Floodgate event: ",e.EVENT_NAME,n,a),!0)},e.prototype.logLocal=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.isLoggingEnabled(e)&&this.isConsoleLogEnabled&&console&&console.log("LPP FG: ",e,t)},e.prototype.getUserSamplingRate=function(){return this.SAMPLING_RESULT},e.prototype.isEventTelemetryEnabled=function(e){var t,n,a,i;try{if(!this.dynamicLogSettings)return!1;var r=null===(n=null===(t=this.initOptionsCommon)||void 0===t?void 0:t.appId)||void 0===n?void 0:n.toString(),o=null===(i=null===(a=this.initOptionsCommon)||void 0===a?void 0:a.originalLocale)||void 0===i?void 0:i.toLowerCase(),s="content_"+e,c=this.dynamicLogSettings[s+"_"+r+"_"+o]||this.dynamicLogSettings[s+"_"+r]||this.dynamicLogSettings[s+"_"+o]||this.dynamicLogSettings[s];return null==c?void 0:c.isEnabled}catch(e){this.isConsoleLogEnabled&&console.log("FG: Error checking for dynamic log settings: ",e)}return!1},e.prototype.isLoggingEnabled=function(t,n){if(D(this.logLevel)){var a=this.getCurrentLogLevel();this.logLevel=D(a)?2:a}var i=null!=n?n:e.DEFAULT_SAMPLE_RATE;return(t<=this.logLevel||0!==this.logLevel&&void 0!==n)&&this.SAMPLING_RESULT<=i&&0!==i},e.prototype.getCurrentLogLevel=function(){try{var e="undefined"!=typeof URLSearchParams&&new URLSearchParams(window.location.search)||void 0,t=e&&e.get("obfconsolelog");if(!t){var n="undefined"!=typeof document&&document.referrer;t=n&&-1!==n.indexOf("obfconsolelog")}t&&(this.isConsoleLogEnabled=!0);var a=e&&e.get("obfloglevel");if(!D(a))return this.isConsoleLogEnabled=!0,parseInt(a,10);if(g.a.isStorageAvailable()){var i=(new g.a).read(v.FileType.LogLevelSettings);i||(i=Object(S.a)("LogLevelSettings",""));var r=i&&this.parseObject(i);if(r){this.dynamicLogSettings=r;var o=r.content;if(this.initOptionsCommon){var s=this.initOptionsCommon.appId&&this.initOptionsCommon.appId.toString(),c=this.initOptionsCommon.originalLocale&&this.initOptionsCommon.originalLocale.toLowerCase();o=r["content_"+s+"_"+c]||r["content_"+s]||r["content_"+c]||r.content}if(o)return o.consoleLog&&(this.isConsoleLogEnabled=!0),o.logLevel}}}catch(e){return void(this.isConsoleLogEnabled&&console.log("Error while getting the current log level: ",e))}return null},e.prototype.parseObject=function(e){try{return JSON.parse(e)}catch(e){return this.isConsoleLogEnabled&&console.log("Error while parsing the json string for log level: ",e),null}},e.prototype.getEventSamplingRate=function(e){var t=1;return this.eventSampling.event&&e in this.eventSampling.event&&(t=this.eventSampling.event[e]),t},e.prototype.isEventSampled=function(e){return!(!this.eventSampling.event||!(e in this.eventSampling.event))},e.EVENT_NAME="SDK",e.EVENT_ID="EventId",e.DEFAULT_SAMPLE_RATE=1,e}(),O=function(){function e(){}return e.getTenantToken=function(t){return 0===t?e.TENANT_TOKEN_PRODUCTION:e.TENANT_TOKEN_PRE_PRODUCTION},e.TENANT_TOKEN_PRODUCTION="d79e824386c4441cb8c1d4ae15690526-bd443309-5494-444a-aba9-0af9eef99f84-7360",e.TENANT_TOKEN_PRE_PRODUCTION="2bf6a2ffddca4a80a892a0b182132961-625cb102-8b0c-480e-af53-92e48695d08d-7736",e}()},function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"o",function(){return r}),n.d(t,"l",function(){return o}),n.d(t,"j",function(){return s}),n.d(t,"m",function(){return c}),n.d(t,"k",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"h",function(){return _}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"e",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"n",function(){return S});var a=n(10),i=a.Utils.guid,r=a.Utils.overrideValues,o=a.Utils.isNOU,s=a.Utils.isBoolean,c=a.Utils.isString,d=a.Utils.isObject,l=a.Utils.isEnumValue;function u(e){return"number"==typeof e}function f(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function p(e,t){if(!d(e))throw t+" is not an object: "+e}function m(e,t){if(!u(e))throw t+" is not a number: "+e}function _(e,t){if(!c(e))throw t+" is not a string: "+e}function h(e,t){if(!s(e))throw t+" is not a boolean: "+e}function b(e,t){if(!Array.isArray(e))throw t+" is not an array: "+e}function g(e,t,n){if(!u(e)||!l(e,t))throw n+" is not an enum: "+e}function v(e,t){var n=new Promise(function(t,n){var a=setTimeout(function(){clearTimeout(a),n("Timed out in "+e+"ms.")},e)});return Promise.race([t,n])}function y(e){try{for(var t=0;t<document.styleSheets.length;t++)for(var n=document.styleSheets[t],a=0;a<n.rules.length;a++){var i=n.rules[a];if(!o(i.selectorText)&&i.selectorText.includes(e))return!0}}catch(e){}return!1}function S(e){if(o(e)||""===e||!function(e){return c(e)&&/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(e)}(e))return!1;var t=e.toLowerCase();return"00000000-0000-0000-0000-000000000000"!==t&&"9188040d-6c67-4c5b-b112-36a304b66dad"!==t&&"84df9e7f-e9f6-40af-b435-aaaaaaaaaaaa"!==t}},function(e,t,n){"use strict";var a;function i(e){a=e}function r(){return a}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"l",function(){return o}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return c}),n.d(t,"j",function(){return d}),n.d(t,"k",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"i",function(){return f}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return m}),n.d(t,"m",function(){return _}),n.d(t,"e",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"a",function(){return g});var a=n(0),i=n(27),r=n(2);function o(e,t){d(e,t?a.c.Hidden:a.c.Visible,t?a.c.Visible:a.c.Hidden)}function s(e){var t=document.getElementById(e);null!=t&&null!=t.parentNode&&t.parentNode.removeChild(t)}function c(e,t){var n=document.getElementById(e);n&&(n.className.match(new RegExp("\\b"+t+"\\b"))||(n.className=n.className+" "+t))}function d(e,t,n){!function(e,t){var n=document.getElementById(e);n&&(n.className=n.className.split(new RegExp("\\b"+t+"\\b","i")).join(" "),n.className=n.className.split(/\s+/).join(" "))}(e,t),c(e,n)}function l(e,t,n){var a=document.getElementById(e);a&&a.setAttribute(t,n)}function u(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function f(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function p(e,t,n){var a=document.getElementById(e);a&&u(a,t,n)}function m(e,t,n){e&&u(e,t,n)}function _(e,t,n){var a=document.getElementById(e);a&&f(a,t,n)}function h(){var e=-1,t=window.navigator.userAgent;return t.indexOf("Trident")>-1&&null!=new RegExp("Trident/([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1),e+=4),e}function b(){return"rtl"===getComputedStyle(document.documentElement).direction}function g(e,t){var n=document.getElementById(e),a=n&&n.checked,s=document.getElementById(t);if(a){o(t,!0);var c=performance.now();i.a(document.body).then(function(e){var t=performance.now();r.b().logEvent(r.a.Shared.Screenshot.Render.Success.VALUE,1,{TimeMilliseconds:t-c}),s.src=e.toDataURL()}).catch(function(e){var t=performance.now();r.b().logEvent(r.a.Shared.Screenshot.Render.Failed.VALUE,2,{ErrorMessage:e,TimeMilliseconds:t-c})})}else o(t,!1)}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"d",function(){return s});var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(){return(r=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t,n,a){return new(n||(n=Promise))(function(i,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}c((a=a.apply(e,t||[])).next())})}function s(e,t){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}Object.create,Object.create},function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"g",function(){return r}),n.d(t,"b",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return d});var a,i="customervoice",r="Customer Voice Survey UX";!function(e){e[e.Smile=0]="Smile",e[e.Frown=1]="Frown",e[e.Idea=2]="Idea",e[e.Bug=3]="Bug",e[e.IdeaRedirect=4]="IdeaRedirect"}(a||(a={}));var o=function(){function e(){}return e.WebSurfacesIntLink="https://res-sdf.cdn.office.net/office-growth/resources/programmablesurfaces/int/officewebsurfaces.core.min.js",e.WebSurfacesProdLink="https://res.cdn.office.net/office-growth/resources/programmablesurfaces/prod/officewebsurfaces.core.min.js",e}(),s=function(){function e(){}return e.TMSAppID="4c4f550b-42b2-4a16-93f9-fdb9e01bb6ed",e.TULIPSAppID="05c88d91-956e-46b4-91b0-77a33cc21a4d",e}(),c="Web SDK v",d="UxId:built-in|comp2022_v1"},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"p",function(){return c}),n.d(t,"q",function(){return d}),n.d(t,"o",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return f}),n.d(t,"n",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"k",function(){return _}),n.d(t,"j",function(){return h}),n.d(t,"i",function(){return b}),n.d(t,"h",function(){return g}),n.d(t,"l",function(){return v}),n.d(t,"m",function(){return y}),n.d(t,"g",function(){return S}),n.d(t,"c",function(){return D});var a=window,i=a.OfficeBrowserFeedback=a.OfficeBrowserFeedback||{},r=i.floodgate=i.floodgate||{};function o(){return a}function s(){return a}function c(e){i.setUiStrings=e}function d(e){i.singleFeedback=e}function l(e){i.multiFeedback=e}function u(e){i.getFeedbackStatus=e}function f(e){i.createScreenshot=e}function p(e){i.isFeedbackSurveyEnabledByAADC=e}function m(e){r.customUXHandler=e}function _(e){r.showSurvey=e}function h(e){r.showFormSurvey=e}function b(e){r.showCustomSurvey=e}function g(e){r.initialize=e}function v(e){r.start=e}function y(e){r.stop=e}function S(e){r.getEngine=e}function D(e){r.getSettingIdMap=e}},function(e,t,n){"use strict";function a(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())}function i(e){return null==e}function r(e){return"string"==typeof e}function o(e,n){if(!e)return null;if(n<0)return n=-n,this.addSecondsWithoutOverflow(e,n);var a=e.getTime()-1e3*n;return a>t.MIN_DATE_MILLISECONDS?new Date(a):new Date(t.MIN_DATE_MILLISECONDS)}function s(e){if(!e)return null;var t=e.match("^((?:[a-zA-Z]{2,3}(?:-[a-zA-Z]{3}){0,3})|(?:[a-zA-Z]{4,8}))(?:-([a-zA-Z]{4}))?(?:-([a-zA-Z]{2}|[0-9]{3}))?(-.*)?$");return!t||t.length<1||!i(t[4])?null:t[0]}function c(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.findHighestPriorityDefinition=t.safeParseObject=t.isValidUserId=t.fyShuffle=t.dateToShortUtcString=t.isUtcDatetimeString=t.overrideValues=t.stringToDate=t.makeArrayFromObjectValuesSortedByKeyString=t.guid=t.extractLanguageSubtag=t.isValidLanguageSubTag=t.subtractSecondsWithoutOverflow=t.addSecondsWithoutOverflow=t.MIN_DATE_MILLISECONDS=t.MAX_DATE_MILLISECONDS=t.getDistantFuture=t.getDistantPast=t.isBoolean=t.isString=t.isArray=t.isFunction=t.isObject=t.isNOU=t.isNumber=t.isEnumValue=t.isDate=t.timeAdd=void 0,t.timeAdd=function(e,t,n){switch(t.toLowerCase()){case"h":case"hour":return new Date(e.getTime()+36e5*n);case"m":case"minute":return new Date(e.getTime()+6e4*n);case"s":case"second":return new Date(e.getTime()+1e3*n);default:throw new Error("Invalid interval value of "+t)}},t.isDate=a,t.isEnumValue=function(e,t){return e in t},t.isNumber=function(e){return null!==e&&!isNaN(e)&&isFinite(e)},t.isNOU=i,t.isObject=function(e){return null!=e&&"object"==typeof e},t.isFunction=function(e){return null!=e&&"function"==typeof e},t.isArray=function(e){return null!=e&&Array.isArray(e)},t.isString=r,t.isBoolean=function(e){return"boolean"==typeof e},t.getDistantPast=function(){return new Date(-116444736e5)},t.getDistantFuture=function(){return new Date(640922112e5)},t.MAX_DATE_MILLISECONDS=864e13,t.MIN_DATE_MILLISECONDS=-864e13,t.addSecondsWithoutOverflow=function(e,n){if(!e)return null;if(n<0)return o(e,-1*n);var a=e.getTime()+1e3*n;return a<t.MAX_DATE_MILLISECONDS?new Date(a):new Date(t.MAX_DATE_MILLISECONDS)},t.subtractSecondsWithoutOverflow=o,t.isValidLanguageSubTag=function(e){if(!e)return!1;var t=s(e);return!!t&&t===e},t.extractLanguageSubtag=s,t.guid=function(){return(c()+c()+"-"+c()+"-4"+c().substr(0,3)+"-"+c()+"-"+c()+c()+c()).toLowerCase()},t.makeArrayFromObjectValuesSortedByKeyString=function(e){var t=Object.keys(e);t.sort();var n=[];for(var a in t)if(t.hasOwnProperty(a)){var i=t[a];n.push(e[i])}return n},t.stringToDate=function(e){if(!r(e))return null;var t=e?new Date(e):null;return a(t)?t:null},t.overrideValues=function(e,t){if(!t)return t;var n=t;if(e)for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a]);return n},t.isUtcDatetimeString=function(e){return!!r(e)&&/^(\d{4}\-\d\d\-\d\dT\d\d:\d\d:\d\d(\.\d\d\d)?Z)$/.test(e)},t.dateToShortUtcString=function(e){if(!a(e))return null;function t(e){return e<10?"0"+e:e.toString()}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"Z"},t.fyShuffle=function(e){if(!i(e)){if(0===e.length||1===e.length)return e;for(var t=e.length-1;t>0;){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a,t--}return e}},t.isValidUserId=function(e){return!!r(e)&&/^([a-z]{1,2}):\w+/.test(e)},t.safeParseObject=function(e,t){try{var n=!e||"{"!==e[0]&&"["!==e[0]?void 0:JSON.parse(e);return null!=n?n:t}catch(e){}return t},t.findHighestPriorityDefinition=function(e){var t=!1;return[e.reduce(function(e,n){var a=n.primaryPriority||0,i=e.primaryPriority||0;return a!==i&&(t=!0),a<i?n:e}),t]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=t.Api=void 0;var a=n(11);t.Api=a;var i=n(9);t.Utils=i;var r=n(20);Object.defineProperty(t,"FloodgateEngine",{enumerable:!0,get:function(){return r.FloodgateEngine}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ISurveyInfo=t.ISurveyComponent=t.ISurvey=t.IFloodgateSettingIdMap=t.IFloodgateStorageProvider=t.IActivityListener=void 0;var a=n(37);t.ISurveyInfo=a;var i=n(57);t.IActivityListener=i;var r=n(58);t.IFloodgateSettingIdMap=r;var o=n(14);t.IFloodgateStorageProvider=o;var s=n(18);t.ISurvey=s;var c=n(19);t.ISurveyComponent=c;var d=n(21);Object.defineProperty(t,"CampaignDefinition",{enumerable:!0,get:function(){return d.CampaignDefinition}})},function(e,t,n){"use strict";var a,i,r;n.d(t,"c",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),function(e){e[e.None=0]="None",e[e.Css=1]="Css",e[e.Strings=2]="Strings"}(a||(a={})),function(e){e[e.Undefined=0]="Undefined",e[e.MinorWithoutParentalConsent=1]="MinorWithoutParentalConsent",e[e.MinorWithParentalConsent=2]="MinorWithParentalConsent",e[e.Adult=3]="Adult",e[e.NotAdult=4]="NotAdult",e[e.MinorNoParentalConsentRequired=5]="MinorNoParentalConsentRequired"}(i||(i={})),function(e){e[e.MSA=0]="MSA",e[e.AAD=1]="AAD",e[e.Unauthenticated=2]="Unauthenticated"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return d});var a=n(3),i=n(16),r=n(34),o=n(2),s=a.l,c=null;function d(e,t){try{if(!c&&i.a.isStorageAvailable()&&(c=new r.a(["DynamicSettings"])),!c)return t;var n=c.getItemContent("DynamicSettings");if(!s(n)&&n.hasOwnProperty(e)&&!s(n[e])){var a=n[e];if("number"==typeof t&&"number"!=typeof a){if("string"==typeof a){var d=-1===a.indexOf(".")?parseInt(a,10):parseFloat(a);return isNaN(d)?t:d}return t}return a}}catch(t){o.b().logEvent(o.a.Common.Error.VALUE,2,{ErrorMessage:"Error reading dynamic setting "+(t&&t.message),Type:e})}return t}},function(e,t,n){"use strict";var a;!function(e){!function(e){e[e.FloodgateSettings=0]="FloodgateSettings",e[e.SurveyActivationStats=1]="SurveyActivationStats",e[e.SurveyEventActivityStats=2]="SurveyEventActivityStats",e[e.CampaignDefinitions=3]="CampaignDefinitions",e[e.CampaignStates=4]="CampaignStates",e[e.GovernedChannelStates=5]="GovernedChannelStates",e[e.TmsCache_MessageMetadata=6]="TmsCache_MessageMetadata",e[e.TmsCache_UserGovernance=7]="TmsCache_UserGovernance",e[e.TmsCache_CampaignContent=8]="TmsCache_CampaignContent",e[e.Tms_DynamicSettings=9]="Tms_DynamicSettings",e[e.LogLevelSettings=10]="LogLevelSettings",e[e.UserFacts=11]="UserFacts",e[e.DebugOverrides=12]="DebugOverrides"}(e.FileType||(e.FileType={}))}(a||(a={})),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryEvent=void 0;var a=function(){function e(){}var t,n,a,i,r,o,s,c,d,l,u,f,p,m,_,h,b,g,v,y,S,D,I,x,C,O,w,E,A,L,k,M,P,T,U,F,H;return e.CampaignState=((t=function(){}).Deserialize=((n=function(){}).Failed="FloodgateCore_CampaignState_Deserialize_Failed",n),t),e.FileBasedCampaignStateProvider=((a=function(){}).Load=((i=function(){}).Failed="FloodgateCore_FileBasedCampaignStateProvider_Load_Failed",i),a),e.HostBasedCampaignStateProvider=((r=function(){}).GetStatesFromHost=((o=function(){}).Failed="FloodgateCore_HostBasedCampaignStateProvider_GetStatesFromHost_Failed",o),r),e.Floodgate=((s=function(){}).Initialize=((c=function(){}).Failed="FloodgateCore_Floodgate_Initialize_Failed",c),s.Start=((d=function(){}).Failed="FloodgateCore_Floodgate_Start_Failed",d.Warning="FloodgateCore_Floodgate_Start_Warning",d.SurveysDisabled="FloodgateCore_Floodgate_Start_SurveysDisabled",d),s.UserFactsLoad=((l=function(){}).Failed="FloodgateCore_Floodgate_UserFactsLoad_Failed",l),s.UserFactsSpecDeserialization=((u=function(){}).Failed="FloodgateCore_Floodgate_UserFactsSpecDeserialization_Failed",u),s.UserFactsSpecIsAMatch=((f=function(){}).Failed="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Failed",f.Mismatch="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Mismatch",f.Summary="FloodgateCore_Floodgate_UserFactsSpecIsAMatch_Summary",f),s.RenderSurvey=((p=function(){}).Unsupported="FloodgateCore_Floodgate_RenderSurvey_Unsupported",p),s),e.FloodgateEngine=((m=function(){}).Make=((_=function(){}).Failed="FloodgateCore_FloodgateEngine_Make_Failed",_),m.Common=((h=function(){}).Error="FloodgateCore_FloodgateEngine_Common_Error",h),m.Start=((b=function(){}).Failed="FloodgateCore_FloodgateEngine_Start_Failed",b),m.StartAsync=((g=function(){}).Failed="FloodgateCore_FloodgateEngine_StartAsync_Failed",g.Stopped="FloodgateCore_FloodgateEngine_StartAsync_Stopped",g),m.OnSurveyActivated=((v=function(){}).ActivationStatsSuppressedSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationStatsSuppressedSurvey",v.ClosedChannelType="FloodgateCore_FloodgateEngine_OnSurveyActivated_ClosedChannelType",v.SurveyNotDefined="FloodgateCore_FloodgateEngine_OnSurveyActivated_SurveyNotDefined",v.SessionSuppressedSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_SessionSuppressedSurvey",v.ActivationExpiredSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationExpiredSurvey",v.ActivationIrrelevantSurvey="FloodgateCore_FloodgateEngine_OnSurveyActivated_ActivationIrrelevantSurvey",v.Error="FloodgateCore_FloodgateEngine_OnSurveyActivated_Error",v),m.CheckGovernanceServiceAndActivateSurvey=((y=function(){}).GovernanceServiceForceToDisplay="FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceForceToDisplay",y.GovernanceServiceClientCompleted="FloodgateCore_FloodgateEngine_GovernanceService_GovernanceServiceClientCompleted",y),m),e.GovernedChannelState=((S=function(){}).Deserialize=((D=function(){}).Failed="FloodgateCore_GovernedChannelState_Deserialize_Failed",D),S),e.FileBasedGovernedChannelStateProvider=((I=function(){}).Load=((x=function(){}).Failed="FloodgateCore_FileBasedGovernedChannelStateProvider_Load_Failed",x),I),e.HostBasedGovernedChannelStateProvider=((C=function(){}).GetStatesFromHost=((O=function(){}).Failed="FloodgateCore_HostBasedGovernedChannelStateProvider_GetStatesFromHost_Failed",O),C),e.SurveyStatCollectionActivation=((w=function(){}).FromJson=((E=function(){}).Failed="FloodgateCore_SurveyStatCollectionActivation_FromJson_Failed",E),w.ToJson=((A=function(){}).Failed="FloodgateCore_SurveyStatCollectionActivation_ToJson_Failed",A),w),e.HostBasedSurveyActivationStatsProvider=((L=function(){}).GetSurveyStatsFromHost=((k=function(){}).Failed="FloodgateCore_HostBasedSurveyActivationStatsProvider_GetSurveyStatsFromHost_Failed",k),L),e.SurveyStatCollectionEventActivity=((M=function(){}).FromJson=((P=function(){}).Failed="FloodgateCore_SurveyStatCollectionEventActivity_FromJson_Failed",P),M.ToJson=((T=function(){}).Failed="FloodgateCore_SurveyStatCollectionEventActivity_ToJson_Failed",T),M),e.SurveyActivity=((U=function(){}).LogActivity=((F=function(){}).EventsReprocessed="FloodgateCore_SurveyActivity_LogActivity_EventsReprocessed",F.SurveysReprocessed="FloodgateCore_SurveyActivity_LogActivity_SurveysReprocessed",F),U.SetActivityTrackingContracts=((H=function(){}).DuplicateSurveyID="FloodgateCore_SurveyActivity_SetActivityTrackingContracts_DuplicateSurveyID",H),U),e}();t.TelemetryEvent=a},function(e,t,n){"use strict";var a,i=n(11),r=n(8),o=n(2),s=i.IFloodgateStorageProvider.FileType,c=((a={})[s.CampaignDefinitions]="obf-CampaignDefinitions",a[s.CampaignStates]="obf-CampaignStates",a[s.FloodgateSettings]="obf-FloodgateSettings",a[s.GovernedChannelStates]="obf-GovernedChannelStates",a[s.SurveyActivationStats]="obf-SurveyActivationStats",a[s.SurveyEventActivityStats]="obf-SurveyEventActivityStats",a[s.TmsCache_CampaignContent]="obf-TmsCampaignContent",a[s.TmsCache_MessageMetadata]="obf-TmsMessageMetadata",a[s.TmsCache_UserGovernance]="obf-TmsUserGovernance",a[s.Tms_DynamicSettings]="obf-TmsDynamicSettings",a[s.LogLevelSettings]="obf-LogLevelSettings",a[s.UserFacts]="obf-UserFacts",a[s.DebugOverrides]="obf-DebugOverrides",a),d=function(){function e(){}return e.isStorageAvailable=function(){try{var e="__storage_test__";return r.b().localStorage.setItem(e,e),r.b().localStorage.removeItem(e),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&0!==r.b().localStorage.length}},e.safeReadObject=function(e,t){if(void 0===t&&(t=void 0),!(e in s))return t;try{var n=c[e],a=r.b().localStorage.getItem(n),i=!a||"{"!==a[0]&&"["!==a[0]?a:JSON.parse(a);return null!=i?i:t}catch(e){}return t},e.prototype.fileLock=function(e){},e.prototype.fileUnlock=function(e){},e.prototype.read=function(e){if(!(e in s))return"";var t,n=c[e];try{t=r.b().localStorage.getItem(n)}catch(e){return o.b().logEvent(o.a.SURVEY_FLOODGATE_FILEREAD_FAILED,2,{ErrorMessage:e.toString(),FileName:n}),""}return t},e.prototype.write=function(e,t){if(e in s){var n=c[e];try{r.b().localStorage.setItem(n,t)}catch(e){return void o.b().logEvent(o.a.SURVEY_FLOODGATE_FILEWRITE_FAILED,2,{ErrorMessage:e.toString(),FileName:n})}}},e}();t.a=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GovernedChannel=t.GovernedChannelType=void 0;var a,i=n(9);!function(e){e[e.Standard=0]="Standard",e[e.Urgent=1]="Urgent",e[e.Banner=2]="Banner",e[e.TeachingMessage=3]="TeachingMessage"}(t.GovernedChannelType||(t.GovernedChannelType={})),function(e){e.getDefault=function(){return e.Standard}}(a=t.GovernedChannelType||(t.GovernedChannelType={}));var r=function(){function e(e,t,n,r){if(!i.isEnumValue(e,a))throw new Error("type is not a valid GovernedChannelType");if(!t)throw new Error("name must not be null or empty");if(n<0)throw new Error("cooldownSeconds must not be negative");this.type=e,this.name=t,this.cooldownSeconds=n,this.setCooldownStartTime(r)}return e.prototype.setCooldownStartTime=function(e){this.cooldownStartTime=e,i.isNOU(this.cooldownStartTime)?this.cooldownEndTime=i.getDistantPast():this.cooldownEndTime=i.addSecondsWithoutOverflow(this.cooldownStartTime,this.cooldownSeconds)},e.prototype.isOpen=function(){return this.isOpenAtDate(new Date)},e.prototype.isOpenAtDate=function(e){return!!e&&e>this.cooldownEndTime},e.prototype.getType=function(){return this.type},e.prototype.getName=function(){return this.name},e.prototype.getCooldownSeconds=function(){return this.cooldownSeconds},e.prototype.getCooldownStartTime=function(){return this.cooldownStartTime},e.prototype.getCooldownEndTime=function(){return this.cooldownEndTime},e}();t.GovernedChannel=r},function(e,t,n){"use strict";var a;!function(e){!function(e){e[e.Feedback=0]="Feedback",e[e.Nps=1]="Nps",e[e.Psat=2]="Psat",e[e.Bps=3]="Bps",e[e.Fps=4]="Fps",e[e.Nlqs=5]="Nlqs",e[e.Intercept=6]="Intercept",e[e.GenericMessagingSurface=12]="GenericMessagingSurface"}(e.Type||(e.Type={})),e.DOM_FEEDBACKSURVEY_TAGNAME="FeedbackSurvey",e.DOM_NPS_TAGNAME="Nps",e.DOM_PSAT_TAGNAME="Psat",e.DOM_BPS_TAGNAME="Bps",e.DOM_FPS_TAGNAME="Fps",e.DOM_NLQS_TAGNAME="Nlqs",e.DOM_INTERCEPT_TAGNAME="Intercept",e.LAUNCHER_TYPE_DEFAULT="survey"}(a||(a={})),e.exports=a},function(e,t,n){"use strict";var a;!function(e){e.DOM_PROMPT_TAGNAME="Prompt",e.DOM_COMMENT_TAGNAME="Comment",e.DOM_RATING_TAGNAME="Rating",e.DOM_CVSURVEY_TAGNAME="CVSurvey",e.DOM_MULTIPLECHOICE_TAGNAME="MultipleChoice",e.DOM_INTERCEPT_TAGNAME="Intercept",e.JSON_INTERCEPT_KEYNAME="intercept",e.JSON_INTERCEPTURL_KEYNAME="url",e.JSON_PROMPT_KEYNAME="prompt",e.JSON_PROMPTYESTEXT_KEYNAME="yesButtonText",e.JSON_PROMPTNOTEXT_KEYNAME="noButtonText",e.JSON_COMMENT_KEYNAME="comment",e.JSON_RATING_KEYNAME="rating",e.JSON_CVSURVEY_KEYNAME="cvSurvey",e.JSON_CVSURVEYFORMID_KEYNAME="formId",e.JSON_CVSURVEYTHEME_KEYNAME="theme",e.JSON_RATINGOPTIONS_KEYNAME="options",e.JSON_CVSURVEYPRODUCTNAME_KEYNAME="productName",e.JSON_CVSURVEYUIHOST_KEYNAME="uiHost",e.JSON_CVSURVEYPLATFORM_KEYNAME="platform",e.JSON_TITLE_KEYNAME="title",e.JSON_QUESTION_KEYNAME="question",e.JSON_MULTIPLECHOICE_KEYNAME="multipleChoice",e.JSON_APPLICATION_KEYNAME="application",e.JSON_EXTENDEDMANIFESTDATA_KEYNAME="extendedManifestData",e.JSON_SURVEYSTRINGS_KEYNAME="surveyStrings",e.JSON_SURVEYSPECIFICDATA_KEYNAME="surveySpecificData"}(a||(a={})),e.exports=a},function(e,t,n){"use strict";var a=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))(function(i,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}c((a=a.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.FloodgateEngine=void 0;var r=n(14),o=n(21),s=n(59),c=n(43),d=n(15),l=n(72),u=n(17),f=n(47),p=n(33),m=n(42),_=n(44),h=n(48),b=r.FileType,g=n(75),v=n(76),y=n(9),S=function(){function e(){}return e.prototype.log_TriggerMet=function(e,t,n,a,i){},e.prototype.log_UserSelected=function(e,t,n,a){},e.prototype.log_CampaignLoad_Failed=function(e){},e.prototype.log_Error=function(e,t){},e.prototype.log_Event=function(e,t){},e.prototype.log_LocalError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]},e}(),D={run:function(e){},shouldAcceptActivity:function(e){return!0}},I={},x=function(){function e(t,n,a,i,r,o,s,c,d){if(this.initializationStatus=0,this.candidateSurveys={},this.launchedSurveys={},this.launchedLaunchers=[],this.surveyEventSent=[],this.staleTriggeredSurveysQueue=[],!t)throw new Error("surveyClient must not be null");if(!n)throw new Error("activityListener must not be null");if(!a)throw new Error("launcherFactory must not be null");if(!i)throw new Error("onSurveyActivatedCallback must not be null");if(!r)throw new Error("storage must not be null");if(!o)throw new Error("governor must not be null");if(!c)throw new Error("transporterFactory must not be null");this.surveyClient=t,this.activityListener=n,this.launcherFactory=a,this.onSurveyActivatedCallback=i,this.storage=r,this.governor=o,this.surveyActivationStatsProvider=s,this.governanceServiceClient=d,e.transporterFactory=c,this.loggedFirstStart=!1,this.setPendingSurveys(null),this.activityListener.clearSurveys();var l=this;this.activityListener.setCallback({run:function(e,t){l.onSurveyActivated(e,t)},shouldAcceptActivity:function(e){return l.shouldAcceptActivity(e)}})}return e.setTelemetryLogger=function(t){if(!t)throw new Error("telemetryLogger must not be null");e.telemetryLogger=t},e.getTelemetryLogger=function(){return e.telemetryLogger},e.getTransportFactory=function(){return e.transporterFactory},e.make=function(t,n,a,i,r,l,u,h,b,g,v,y,S){try{var I=f.GovernedChannelStateProviderFactory.make(i,r),x=_.SurveyActivationStatsProviderFactory.make(i,r),C=c.CampaignStateProviderFactory.make(i,r);return b.push(new o.FileSystemCampaignDefinitionProvider(i)),new e(S||new s.CampaignManager(C,b,l,u,t,new Date,y,g),new m(D,this.getTelemetryLogger),n,a,i,new p.Governor(I),x,h,v)}catch(e){this.telemetryLogger.log_Event(d.TelemetryEvent.FloodgateEngine.Make.Failed,{ErrorMessage:e&&e.toString(),ErrorDetails:e&&e.stack})}},e.prototype.getSurveyClient=function(){return this.surveyClient},e.prototype.mergeAndSave=function(){this.saveSettings(),this.saveSurveyActivationHistory(),this.saveSurveyEventActivityHistory(),this.surveyClient.saveCurrentState(),this.governor.saveChannelStates()},e.prototype.start=function(){if(2!==this.initializationStatus&&3!==this.initializationStatus)try{this.setInitializationStatus(2),this.loadSettingsAndPriorEventCounts();var t=this.getAvailableChannelTypes();this.surveyClient.refreshSurveyDefinitions(t),this.setPendingSurveysAndStartFloodgate(),this.setInitializationStatus(3)}catch(t){this.setInitializationStatus(1),e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.Start.Failed,{ErrorMessage:t&&t.toString(),ErrorDetails:t&&t.stack})}},e.prototype.startAsync=function(){if(2===this.initializationStatus||3===this.initializationStatus)return Promise.resolve();try{this.setInitializationStatus(2),this.loadSettingsAndPriorEventCounts();var t=this.getAvailableChannelTypes(),n=this;return new Promise(function(a,i){n.surveyClient.refreshSurveyDefinitionsAsync(t).then(function(){4===n.initializationStatus?(n.setInitializationStatus(3),n.stop(),e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.StartAsync.Stopped,{ErrorMessage:"Stopped because of a pending stop() call"})):n.setPendingSurveysAndStartFloodgate(),a()}).catch(function(t){n.setInitializationStatus(1),e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.StartAsync.Failed,{ErrorMessage:"Survey refresh error "+(t&&t.message)}),i(t)})})}catch(t){return this.setInitializationStatus(1),e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.StartAsync.Failed,{ErrorMessage:t&&t.toString(),ErrorDetails:t&&t.stack}),Promise.resolve()}},e.prototype.stop=function(){3===this.initializationStatus&&(this.mergeAndSave(),this.setPendingSurveys(null),this.updateActivityListenerWithCurrentSurveyDefinitions()),this.setInitializationStatus(4)},e.prototype.getActivityListener=function(){return this.activityListener},e.prototype.setInitializationStatus=function(e){this.initializationStatus=e},e.prototype.saveSettings=function(){this.storage.fileLock(b.FloodgateSettings);try{this.writeString(b.FloodgateSettings,l.FloodgateSettings.toJson(this.floodgateSettings))}finally{this.storage.fileUnlock(b.FloodgateSettings)}},e.prototype.loadSettingsAndPriorEventCounts=function(){try{this.previousSurveyActivationStats=this.surveyActivationStatsProvider.load(),this.previousSurveyEventActivityStats=h.SurveyStatCollectionEventActivity.fromJson(this.readString(b.SurveyEventActivityStats));var t=this.previousSurveyEventActivityStats.getStats();for(var n in t)t.hasOwnProperty(n)&&this.surveyEventSent.push(n);this.floodgateSettings=l.FloodgateSettings.fromJson(this.readString(b.FloodgateSettings))}catch(t){e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.Common.Error,{ErrorMessage:"Error loading prior settings/events "+(t&&t.toString())})}},e.prototype.getAvailableChannelTypes=function(){var e=this.governor.getAvailableChannelData(),t=[];return e.forEach(function(e){e&&t.push(e.getType())}),t},e.prototype.setPendingSurveysAndStartFloodgate=function(){this.setPendingSurveys(this.surveyClient.getAppSurveys()),this.updateActivityListenerWithCurrentSurveyDefinitions(),this.setInitializationStatus(3),this.loggedFirstStart||(this.loggedFirstStart=!0,this.getActivityListener().logActivity(m.FloodgateStartActivityName))},e.prototype.updateSurveyActivationStats=function(e){var t=e.getSurveyInfo(),n=t.getId(),a=this.previousSurveyActivationStats.getStats()[n]||new _.SurveyActivationStats;a.Type=e.getType(),a.ExpirationTimeUtc=t.getExpirationTimeUtc(),a.ActivationTimeUtc=new Date,a.SurveyLaunchCount++,this.previousSurveyActivationStats.addStats(n,a),I.hasOwnProperty(n)||(I[n]=0),I[n]++},e.prototype.saveSurveyActivationHistory=function(){this.storage.fileLock(b.SurveyActivationStats);try{var e=this.surveyActivationStatsProvider.load(),t=this.previousSurveyActivationStats.getStats(),n=new _.SurveyStatCollectionActivation;for(var a in this.launchedSurveys)if(this.launchedSurveys.hasOwnProperty(a)){var i=this.launchedSurveys[a].getSurveyInfo().getId(),r=t[i];n.addStats(i,r)}e.accumulate(n),this.surveyActivationStatsProvider.save(e),this.previousSurveyActivationStats=e}finally{this.storage.fileUnlock(b.SurveyActivationStats)}},e.prototype.saveSurveyEventActivityHistory=function(){this.storage.fileLock(b.SurveyEventActivityStats);try{var e=h.SurveyStatCollectionEventActivity.fromJson(this.readString(b.SurveyEventActivityStats)),t=new Date,n=new h.SurveyStatCollectionEventActivity,a=function(e){if(i.candidateSurveys.hasOwnProperty(e)){var a=new h.SurveyEventActivityStats,r=i.candidateSurveys[e];if(!r.getSurveyInfo().isActiveForDate(t))return"continue";a.ExpirationTimeUtc=r.getSurveyInfo().getExpirationTimeUtc();var o=r.getSurveyInfo().getActivationEvent().getTrackingSet(),s=[],c=[];o.getList().forEach(function(e){e&&(e.getIsAggregate()?s.push(e.getActivity()):c.push(e.getActivity()))}),a.Counts=new Array(s.length);for(var d=0;d<s.length;d++)a.Counts[d]=i.activityListener.moveSessionCountIntoBaseCount(s[d],r.getSurveyInfo().getId());for(var l=0,u=c;l<u.length;l++){var f=u[l];i.activityListener.saveSessionTrackingActivity(f)}n.addStats(r.getSurveyInfo().getId(),a)}},i=this;for(var r in this.candidateSurveys)a(r);e.accumulate(n),this.writeString(b.SurveyEventActivityStats,h.SurveyStatCollectionEventActivity.toJson(e)),this.previousSurveyEventActivityStats=e}finally{this.storage.fileUnlock(b.SurveyEventActivityStats)}},e.prototype.setPendingSurveys=function(e){if(this.candidateSurveys={},e)for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];this.launcherFactory.AcceptsSurvey(n)&&(this.candidateSurveys[t]=n)}},e.prototype.getCurrentSurveyDefinitions=function(){var t=this,n=new Array,a=this.getAllCampaignDefinitionIDs(),i=this.getAllCandidateCampaignDefinitionIDs(),r=this.surveyClient.getCampaignDefinitions(),o=function(e){if(v.isBusinessCriticalSurvey(e))return!0;var n=t.previousSurveyActivationStats.getBySurveyId(e.getId());return!(!v.isMultiLaunchSurvey(e)||v.hasSurveyReachedMaxLaunches(e,n)||v.hasSurveyReachedMaxLaunchesPerSession(e,I))||!(n||!e.isActiveForDate(new Date))};for(var s in this.candidateSurveys)if(this.candidateSurveys.hasOwnProperty(s)){var c=this.candidateSurveys[s],d=c.getSurveyInfo();if(!r[null==d?void 0:d.getBackEndId()]||!o(d))continue;if(this.surveyEventSent.indexOf(s)<0){this.surveyEventSent.push(s);var l=this.getAdditionalSurveyInfoForTelemetry(c,null,a,i);e.telemetryLogger.log_UserSelected(d.getBackEndId(),d.getId(),c.getType(),JSON.stringify(l))}n.push(c)}return n},e.prototype.getAdditionalSurveyInfoForTelemetry=function(e,t,n,a){var i,r,o,s,c=this.surveyClient.getCampaignDefinitions()[e.getCampaignId()];i=c.nominationScheme.percentageNumerator,r=c.nominationScheme.percentageDenominator,o=c.nominationScheme.nominationPeriod.asTimeIntervalSeconds(),o=y.isNOU(o)?-1:o,s=c.nominationScheme.cooldownPeriod.asTimeIntervalSeconds(),s=y.isNOU(s)?-1:s;var d=e.getSurveyInfo();return{allCampaignDefinitionIDs:n,allCandidateCampaignDefinitionIDs:a,channelType:d.getGovernedChannelType(),contextCount:t?t.length:void 0,cooldownPeriodNumber:s,nominationPeriodNumber:o,percentageDenominator:r,percentageNumerator:i,surveyLauncherType:e.getLauncherType(),businessLevel:d.getBusinessLevel(),maxLaunches:d.getMaxLaunches(),maxLaunchesPerSession:d.getMaxLaunchesPerSession()}},e.prototype.getAllCandidateCampaignDefinitionIDs=function(){var e=[];for(var t in this.candidateSurveys)if(this.candidateSurveys.hasOwnProperty(t)){var n=this.candidateSurveys[t];e.push(n.getSurveyInfo().getBackEndId())}return e},e.prototype.getAllCampaignDefinitionIDs=function(){var e=this.surveyClient.getCampaignDefinitions(),t=[];for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=e[n];t.push(a.campaignId)}return t},e.prototype.updateActivityListenerWithCurrentSurveyDefinitions=function(){for(var e=[],t=0,n=this.getCurrentSurveyDefinitions();t<n.length;t++){var a=n[t].getSurveyInfo(),i=new g.ActivityTrackingContract(a.getId(),a.getActivationEvent().getTrackingSet());e.push(i)}this.activityListener.SetActivityTrackingContracts(e,this.previousSurveyEventActivityStats)},e.prototype.setCriticalPendingSurveysAndUpdateActivityListener=function(){var e={};for(var t in this.candidateSurveys)if(this.candidateSurveys.hasOwnProperty(t)){var n=this.candidateSurveys[t];v.isCriticalSurvey(n.getSurveyInfo())&&(e[t]=n)}Object.keys(e).length>0&&(this.setPendingSurveys(e),this.updateActivityListenerWithCurrentSurveyDefinitions())},e.prototype.shouldAcceptActivity=function(e){return 3===this.initializationStatus||e===m.FloodgateStartActivityName},e.prototype.onSurveyActivated=function(t,n){for(var a,i=0,r=this.getCurrentSurveyDefinitions();i<r.length;i++){var o=r[i];if(o.getSurveyInfo().getId()===t){a=o;break}}if(y.isNOU(a))e.getTelemetryLogger().log_Error(d.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SurveyNotDefined,"Survey is not defined in the current survey definitions.");else try{var s=a.getSurveyInfo().getGovernedChannelType();this.governanceServiceClient.isEnabled(s)?(this.staleTriggeredSurveysQueue.push(a),1===this.staleTriggeredSurveysQueue.length&&this.checkGovernanceServiceAndActivateSurvey(a,s,n)):this.activateSurvey(a,s,n)}catch(t){e.telemetryLogger.log_Event(d.TelemetryEvent.FloodgateEngine.OnSurveyActivated.Error,{ErrorMessage:"Error activating survey "+(t&&t.toString()),ErrorDetails:t&&t.stack})}},e.prototype.activateSurvey=function(t,n,a){var i=!1;if(this.candidateSurveys[t.getSurveyInfo().getId()])if(t.getSurveyInfo().isActiveForDate(new Date)){if(this.governor.refreshChannelData(),v.isCriticalSurvey(t.getSurveyInfo()))i=!0;else if(this.governor.isChannelOpen(n))if(this.surveyActivationStatsProvider.load().getBySurveyId(t.getSurveyInfo().getId()))e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationStatsSuppressedSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()});else if(0===Object.keys(this.launchedSurveys).length)i=!0;else{var r=Object.values(this.launchedSurveys)[0];y.isNOU(r)||e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.OnSurveyActivated.SessionSuppressedSurvey,{CampaignId:r.getSurveyInfo().getBackEndId(),SurveyId:r.getSurveyInfo().getId()})}else e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ClosedChannelType,{ClosedChannelType:u.GovernedChannelType[n]});i&&(this.launchedSurveys[t.getSurveyInfo().getId()]=t)}else e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationExpiredSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()});else e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.OnSurveyActivated.ActivationIrrelevantSurvey,{CampaignId:t.getSurveyInfo().getBackEndId(),SurveyId:t.getSurveyInfo().getId()});if(this.updateSurveyActivationStats(t),this.mergeAndSave(),this.activityListener.clearSurveys(),this.staleTriggeredSurveysQueue=[],i){var o=t.getSurveyInfo().getActivationEvent().getTrackingSet().getActivityTrackingInfo(this.activityListener,t.getSurveyInfo().getId()),s=this.getAdditionalSurveyInfoForTelemetry(t,a,this.getAllCampaignDefinitionIDs(),this.getAllCandidateCampaignDefinitionIDs());s.governanceServiceClientState=this.governanceServiceClient.getClientState(),e.telemetryLogger.log_TriggerMet(t.getSurveyInfo().getBackEndId(),t.getSurveyInfo().getId(),t.getType(),o,JSON.stringify(s)),this.governor.startChannelCooldown(n);var c=t.getSurveyInfo(),l=!0;if(v.isBusinessCriticalSurvey(c))l=!1;else if(v.isMultiLaunchSurvey(c)){var f=this.previousSurveyActivationStats.getBySurveyId(c.getId());l=v.hasSurveyReachedMaxLaunches(c,f)}this.surveyClient.onSurveyActivated(c,l),this.launchLauncher(t,a),this.setCriticalPendingSurveysAndUpdateActivityListener()}},e.prototype.checkGovernanceServiceAndActivateSurvey=function(t,n,r){return a(this,void 0,void 0,function(){var a,o,s,c,l,u;return i(this,function(i){switch(i.label){case 0:return a=this.surveyClient.getCampaignDefinitions()[t.getCampaignId()],o=a.nominationScheme.cooldownPeriod.asTimeIntervalSeconds(),s=p.Governor.GetChannelCoolDown(n),[4,this.governanceServiceClient.checkGovernancePermitAsync(t,o,s,n)];case 1:return c=i.sent(),l=!1,e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceClientCompleted,{Message:JSON.stringify(this.createGorvernanceResponseTelemetry(c))}),3!==this.initializationStatus?[2]:(c.error?this.governanceServiceClient.shouldForceDisplay()&&(l=!0,e.getTelemetryLogger().log_Event(d.TelemetryEvent.FloodgateEngine.CheckGovernanceServiceAndActivateSurvey.GovernanceServiceForceToDisplay,{ErrorMessage:c.errorMessage})):c.permission?l=!0:(u=c.lastTriggerSurvey,this.governor.startChannelCooldown(n,u.lastTriggerSurveyTime),this.clearSurveyWithChannel(n)),l?(this.activateSurvey(t,n,r),[2]):this.staleTriggeredSurveysQueue.length<=1?(this.staleTriggeredSurveysQueue=[],[2]):(this.staleTriggeredSurveysQueue.shift(),this.checkGovernanceServiceAndActivateSurvey(this.staleTriggeredSurveysQueue[0],n,r),[2]))}})})},e.prototype.readString=function(e){return this.storage.read(e)},e.prototype.writeString=function(e,t){this.storage.write(e,t)},e.prototype.launchLauncher=function(e,t){var n=this.launcherFactory.makeSurveyLauncher(e);n&&(this.launchedLaunchers.push(n),this.onSurveyActivatedCallback.onSurveyActivated(n,e,{contextInfo:t}))},e.prototype.clearSurveyWithChannel=function(e){var t={};for(var n in this.candidateSurveys)if(this.candidateSurveys.hasOwnProperty(n)){var a=this.candidateSurveys[n];a.getSurveyInfo().getGovernedChannelType()!==e&&(t[n]=a)}this.candidateSurveys=t,this.activityListener.UpdateActivityTrackingContracts(this.candidateSurveys)},e.prototype.createGorvernanceResponseTelemetry=function(e){return{FloodgateEngineStatus:this.initializationStatus.toString(),GovernanceServiceResult:e,StaleTriggeredSurveysQueueCount:this.staleTriggeredSurveysQueue.length-1}},e.telemetryLogger=new S,e}();t.FloodgateEngine=x},function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemCampaignDefinitionProvider=t.FilterValidCampaignDefinitions=t.CampaignDefinition=t.CampaignSurveyTemplateIntercept=t.CampaignSurveyTemplateGenericMessagingSurface=t.CampaignSurveyTemplateNps11PointStatic=t.CampaignSurveyTemplateNps5PointStatic=t.CampaignSurveyTemplateNps=t.CampaignSurveyTemplateNlqs=t.CampaignSurveyTemplateFps=t.CampaignSurveyTemplate=t.CampaignSurveyMetadata=t.CampaignSurveyContentComment=t.CampaignSurveyContentRating=t.CampaignSurveyContentIntercept=t.CampaignSurveyContentPrompt=t.CampaignSurveyContentCVSurvey=t.CampaignSurveyContentMultipleChoice=t.CampaignSurveyContent=t.CampaignSurveyEventCountedActivitySequence=t.CampaignSurveyEventCountedActivity=t.CampaignSurveyEvent=t.CampaignNominationSchemeRatioPercentage=t.CampaignNominationScheme=t.CampaignDistributionRamp=t.CampaignDistribution=t.CampaignAdditionalDataRequested=t.CampaignDurationSingleBuildChange=t.CampaignDurationTimeInterval=t.CampaignDuration=t.CampaignScopeUserFactAll=t.CampaignScopeUserFactAny=t.CampaignScopeEnvironmentCrossProduct=t.CampaignScopeAny=t.CampaignScope=t.CampaignLanguageRangeLanguageSubtag=t.CampaignLanguageRange=void 0;var r=n(14),o=n(15),s=n(20),c=n(17),d=n(9),l=n(77),u=d.getDistantFuture,f=d.isBoolean,p=d.isNOU,m=d.isNumber,_=d.isString,h=d.isUtcDatetimeString,b=d.stringToDate,g=function(){function e(){}return e.deserialize=function(e){var t;return e&&0===e.Type&&(t=v.deserialize(e)),void 0===t?null:t},e.prototype.validate=function(){return!0},e}();t.CampaignLanguageRange=g;var v=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return e&&(n.languageSubTag=e.Value),n.validate()?n:null},t.prototype.isInRange=function(e){if(p(e))return!1;var t=d.extractLanguageSubtag(e);return!p(t)&&t.toLocaleUpperCase()===this.languageSubTag.toLocaleUpperCase()},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||p(this.languageSubTag)||!_(this.languageSubTag)||!d.isValidLanguageSubTag(this.languageSubTag))},t}(g);t.CampaignLanguageRangeLanguageSubtag=v;var y=function(){function e(){}return e.deserialize=function(e){var t;if(p(e))return null;switch(e.Type){case 0:t=S.deserialize(e);break;case 1:t=D.deserialize(e);break;case 2:t=I.deserialize(e);break;case 3:t=x.deserialize(e)}return void 0===t?null:t},e.prototype.validate=function(){return!0},e}();t.CampaignScope=y;var S=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){return new t},t.prototype.isInScope=function(){return!0},t.prototype.validate=function(){return!!e.prototype.validate.call(this)},t}(y);t.CampaignScopeAny=S;var D=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t,a=[];if(p(e))return null;for(var i in e.Languages)if(e.Languages.hasOwnProperty(i)){var r=e.Languages[i];r&&a.push(g.deserialize(r))}return 0===a.length&&(a=null),n.languageRanges=a,n.validate()?n:null},t.prototype.setEnvironmentProvider=function(e){this.environmentProvider=e},t.prototype.isInScope=function(){if(p(this.languageRanges))return!0;if(p(this.environmentProvider)||!this.environmentProvider.getLanguage())return!1;var e=this.environmentProvider.getLanguage();for(var t in this.languageRanges)if(this.languageRanges.hasOwnProperty(t)&&this.languageRanges[t].isInRange(e))return!0;return!1},t.prototype.validate=function(){if(!e.prototype.validate.call(this))return!1;if(this.languageRanges)for(var t in this.languageRanges)if(this.languageRanges.hasOwnProperty(t)&&!this.languageRanges[t])return!1;return!0},t}(y);t.CampaignScopeEnvironmentCrossProduct=D;var I=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return n.userFacts=l.deserializeUserFacts(e),n.validate()?n:null},t.prototype.setUserFactsProvider=function(e){this.userFactsProvider=e},t.prototype.isInScope=function(){var e=this;return!!p(this.userFacts)||!!this.userFactsProvider&&this.userFacts.some(function(t){var n=e.userFactsProvider.getUserFact(t.getName());return t.isAMatch(n)})},t.prototype.validate=function(){return!!e.prototype.validate.call(this)&&l.validateUserFacts(this.userFacts)},t}(y);t.CampaignScopeUserFactAny=I;var x=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return n.userFacts=l.deserializeUserFacts(e),n.validate()?n:null},t.prototype.setUserFactsProvider=function(e){this.userFactsProvider=e},t.prototype.isInScope=function(){var e=this;if(p(this.userFacts))return!0;if(!this.userFactsProvider)return!1;var t=this.userFacts.filter(function(t){var n=e.userFactsProvider.getUserFact(t.getName());return!t.isAMatch(n)});if(t.length>0){var n=t.map(function(e){return e.getName()});return s.FloodgateEngine.getTelemetryLogger().log_Event(o.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Summary,{Count:t.length,Message:n.toString()}),!1}return!0},t.prototype.validate=function(){return!!e.prototype.validate.call(this)&&l.validateUserFacts(this.userFacts)},t}(y);t.CampaignScopeUserFactAll=x;var C=function(){function e(){}return e.deserialize=function(e){var t;if(p(e))return null;switch(e.Type){case 0:t=O.deserialize(e);break;case 1:t=w.deserialize(e)}return void 0===t?null:t},e.prototype.validate=function(){return!0},e}();t.CampaignDuration=C;var O=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return e&&(n.intervalSeconds=e.IntervalSeconds),n.validate()?n:null},t.prototype.asTimeIntervalSeconds=function(){return this.intervalSeconds},t.prototype.validate=function(){return!!e.prototype.validate.call(this)&&!!m(this.intervalSeconds)},t}(C);t.CampaignDurationTimeInterval=O;var w=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){return new t},t.prototype.asTimeIntervalSeconds=function(){return null},t}(C);t.CampaignDurationSingleBuildChange=w;var E=function(){function e(){}return e.deserialize=function(t){var n=new e;if(!p(t)){n.additionalData=[];for(var a=0,i=t;a<i.length;a++)"EmailAddress"===i[a]&&n.additionalData.push(0)}return n.validate()?n:null},e.prototype.validate=function(){return!p(this.additionalData)},e}();t.CampaignAdditionalDataRequested=E;var A=function(){function e(){}return e.deserialize=function(e){var t;return e&&0===e.Type&&(t=L.deserialize(e)),void 0===t?null:t},e.prototype.validate=function(){return!0},e}();t.CampaignDistribution=A;var L=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return e&&(n.maxDelaySeconds=e.MaxDelaySeconds,n.chunks=e.Chunks),n.validate()?n:null},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||!m(this.maxDelaySeconds)||this.maxDelaySeconds<0||!m(this.chunks)||this.chunks<0)},t}(A);t.CampaignDistributionRamp=L;var k=function(){function e(){}return e.deserialize=function(e){var t;return e&&0===e.Type&&(t=M.deserialize(e)),void 0===t?null:t},e.prototype.getActiveSurveyTimeIntervalSeconds=function(){var e=this.nominationPeriod.asTimeIntervalSeconds();return m(e)?e:this.fallbackSurveyDurationSeconds},e.prototype.calculateSurveyStartTimeFromDate=function(e){return e||new Date},e.prototype.calculateSurveyExpirationTimeFromSurveyStartTime=function(e){return e=e||new Date,d.addSecondsWithoutOverflow(e,this.getActiveSurveyTimeIntervalSeconds())},e.prototype.getCampaignCooldown=function(e){return e?this.cooldownPeriod:this.nominationPeriod},e.prototype.validate=function(){return!(p(this.nominationPeriod)||(p(this.cooldownPeriod)&&(this.cooldownPeriod=this.nominationPeriod),!m(this.nominationPeriod.asTimeIntervalSeconds())&&(!m(this.fallbackSurveyDurationSeconds)||this.fallbackSurveyDurationSeconds<=0)))},e}();t.CampaignNominationScheme=k;var M=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return p(e)?null:(e.DistributionModel&&(n.distributionModel=A.deserialize(e.DistributionModel)),e.CooldownPeriod&&(n.cooldownPeriod=C.deserialize(e.CooldownPeriod)),e.NominationPeriod&&(n.nominationPeriod=C.deserialize(e.NominationPeriod)),n.fallbackSurveyDurationSeconds=e.FallbackSurveyDurationSeconds,n.percentageDenominator=e.PercentageDenominator,n.percentageNumerator=e.PercentageNumerator,n.validate()?n:null)},t.prototype.evaluateNominationRules=function(){var e=Math.random();return Math.floor(e*this.percentageDenominator)<this.percentageNumerator},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||!m(this.percentageDenominator)||!m(this.percentageNumerator)||this.percentageDenominator<=0||this.percentageNumerator<0||this.percentageNumerator>this.percentageDenominator)},t}(k);t.CampaignNominationSchemeRatioPercentage=M;var P=function(){function e(){}return e.deserialize=function(e){var t;if(p(e))return null;switch(e.Type){case 0:t=T.deserialize(e);break;case 1:t=U.deserialize(e)}return void 0===t?null:t},e.prototype.validate=function(){return!0},e}();t.CampaignSurveyEvent=P;var T=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return p(e)?null:(n.activity=e.Activity,n.count=e.Count,n.isAggregate=e.IsAggregate,n.validate()?n:null)},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||p(this.activity)||!_(this.activity)||!m(this.count)||this.count<=0||!f(this.isAggregate))},t}(P);t.CampaignSurveyEventCountedActivity=T;var U=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t,a=[];if(p(e))return null;for(var i in e.Sequence)if(e.Sequence.hasOwnProperty(i)){var r=e.Sequence[i];r&&a.push(T.deserialize(r))}return 0===a.length&&(a=null),n.sequence=a,n.validate()?n:null},t.prototype.validate=function(){if(!e.prototype.validate.call(this))return!1;if(p(this.sequence))return!1;for(var t in this.sequence)if(this.sequence.hasOwnProperty(t)&&!this.sequence[t])return!1;return!0},t}(P);t.CampaignSurveyEventCountedActivitySequence=U;var F=function(){function e(){}return e.deserialize=function(t,n){var a=new e;return p(t)?null:(a.prompt=N.deserialize(t.Prompt),a.rating=j.deserialize(t.Rating),a.comment=V.deserialize(t.Question),a.multipleChoice=H.deserialize(t.MultipleChoice),a.intercept=B.deserialize(t.Intercept),a.cvSurvey=R.deserialize(t.CVSurveyParams),a.validate(n)?a:null)},e.prototype.validate=function(e){return!(p(this.intercept)&&(p(this.prompt)||(e?p(this.rating)&&p(this.multipleChoice)&&p(this.comment):p(this.rating)||p(this.comment))))},e}();t.CampaignSurveyContent=F;var H=function(){function e(){}return e.deserialize=function(t){var n=new e;return p(t)?null:(n.question=t.Question,n.availableOptions=t.AvailableOptions,n.minNumberOfSelectedOptions=t.MinNumberOfSelectedOptions,n.maxNumberOfSelectedOptions=t.MaxNumberOfSelectedOptions,n.validate()?n:null)},e.prototype.validate=function(){if(p(this.question)||!_(this.question)||p(this.availableOptions)||!Array.isArray(this.availableOptions)||this.availableOptions.length<2||p(this.minNumberOfSelectedOptions)||!m(this.minNumberOfSelectedOptions)||p(this.maxNumberOfSelectedOptions)||!m(this.maxNumberOfSelectedOptions))return!1;for(var e in this.availableOptions)if(this.availableOptions.hasOwnProperty(e)&&!_(this.availableOptions[e]))return!1;return!0},e}();t.CampaignSurveyContentMultipleChoice=H;var R=function(){function e(){}return e.deserialize=function(t){var n=new e;return p(t)?null:(n.customerVoiceFormId=t.CustomerVoiceFormId,n.validate()?n:null)},e.prototype.validate=function(){return!p(this.customerVoiceFormId)&&_(this.customerVoiceFormId)},e}();t.CampaignSurveyContentCVSurvey=R;var N=function(){function e(){}return e.deserialize=function(t){var n=new e;return p(t)?null:(n.title=t.Title,n.question=t.Question,n.yesLabel=t.YesLabel,n.noLabel=t.NoLabel,n.validate()?n:null)},e.prototype.validate=function(){return!(p(this.title)||!_(this.title)||p(this.question)||!_(this.question)||p(this.yesLabel)||!_(this.yesLabel)||p(this.noLabel)||!_(this.noLabel))},e}();t.CampaignSurveyContentPrompt=N;var B=function(){function e(){}return e.deserialize=function(t){var n=new e;return p(t)?null:(n.title=t.Title,n.question=t.Question,n.url=t.Url,n.validate()?n:null)},e.prototype.validate=function(){return!(p(this.title)||!_(this.title)||p(this.question)||!_(this.question)||p(this.url)||!_(this.url))},e}();t.CampaignSurveyContentIntercept=B;var j=function(){function e(){}return e.deserialize=function(t){var n=new e;return p(t)?null:(n.isZeroBased=t.IsZeroBased,n.question=t.Question,n.ratingValuesAscending=t.RatingValuesAscending,n.validate()?n:null)},e.prototype.validate=function(){if(p(this.question)||!_(this.question)||p(this.ratingValuesAscending)||!Array.isArray(this.ratingValuesAscending)||this.ratingValuesAscending.length<2||this.ratingValuesAscending.length>11)return!1;if(p(this.isZeroBased))this.isZeroBased=!1;else if(!f(this.isZeroBased))return!1;for(var e in this.ratingValuesAscending)if(this.ratingValuesAscending.hasOwnProperty(e)&&!_(this.ratingValuesAscending[e]))return!1;return!0},e}();t.CampaignSurveyContentRating=j;var V=function(){function e(){}return e.deserialize=function(t){var n=new e;return p(t)?null:(n.question=t.Question,n.validate()?n:null)},e.prototype.validate=function(){return!(p(this.question)||!_(this.question))},e}();t.CampaignSurveyContentComment=V;var z=function(){function e(){}return e.deserialize=function(t){if(p(t))return null;var n=new e;return n.contentMetadata=t.ContentMetadata,n.validate()?n:null},e.prototype.validate=function(){return!(p(this.contentMetadata)||!d.isObject(this.contentMetadata))},e}();t.CampaignSurveyMetadata=z;var G=function(){function e(){}return e.deserialize=function(e){var t;if(p(e))return null;switch(e.Type){case 0:t=Q.deserialize(e);break;case 1:t=Y.deserialize(e);break;case 2:t=K.deserialize(e);break;case 3:t=W.deserialize(e);break;case 4:t=q.deserialize(e);break;case 22:t=J.deserialize(e);break;case 5:t=X.deserialize(e)}return p(t)?null:t},e.prototype.validate=function(){return!p(this.activationEvent)},e}();t.CampaignSurveyTemplate=G;var K=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return p(e)?null:(n.activationEvent=P.deserialize(e.ActivationEvent),n.content=F.deserialize(e.Content,!0),n.validate()?n:null)},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||p(this.content))},t}(G);t.CampaignSurveyTemplateFps=K;var W=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return p(e)?null:(n.activationEvent=P.deserialize(e.ActivationEvent),n.content=F.deserialize(e.Content),n.validate()?n:null)},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||p(this.content))},t}(G);t.CampaignSurveyTemplateNlqs=W;var q=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return p(e)?null:(n.activationEvent=P.deserialize(e.ActivationEvent),n.content=F.deserialize(e.Content),n.validate()?n:null)},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||p(this.content))},t}(G);t.CampaignSurveyTemplateNps=q;var Q=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return p(e)?null:(n.activationEvent=P.deserialize(e.ActivationEvent),n.validate()?n:null)},t.prototype.validate=function(){return!!e.prototype.validate.call(this)},t}(G);t.CampaignSurveyTemplateNps5PointStatic=Q;var Y=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return p(e)?null:(n.activationEvent=P.deserialize(e.ActivationEvent),n.validate()?n:null)},t.prototype.validate=function(){return!!e.prototype.validate.call(this)},t}(G);t.CampaignSurveyTemplateNps11PointStatic=Y;var J=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){if(p(e))return null;var n=new t;return n.activationEvent=P.deserialize(e.ActivationEvent),n.metadata=z.deserialize(e.Metadata),n.maxLaunches=e.MaxLaunches,n.maxLaunchesPerSession=e.MaxLaunchesPerSession,n.preferredLaunchType=e.PreferredLaunchType,n.validate()?n:null},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||p(this.metadata)||(!p(this.maxLaunches)&&(!m(this.maxLaunches)||this.maxLaunches<=0)||!p(this.maxLaunchesPerSession)&&(!m(this.maxLaunchesPerSession)||this.maxLaunchesPerSession<=0)?(s.FloodgateEngine.getTelemetryLogger().log_LocalError("Invalid Multi Launch settings",this.maxLaunches,this.maxLaunchesPerSession),1):m(this.maxLaunches)&&m(this.maxLaunchesPerSession)&&this.maxLaunchesPerSession>this.maxLaunches?(s.FloodgateEngine.getTelemetryLogger().log_LocalError("Invalid Multi launch settings",this.maxLaunches,this.maxLaunchesPerSession),1):!p(this.preferredLaunchType)&&!_(this.preferredLaunchType)&&(s.FloodgateEngine.getTelemetryLogger().log_LocalError("Invalid launcher type",this.preferredLaunchType),1)))},t}(G);t.CampaignSurveyTemplateGenericMessagingSurface=J;var X=function(e){function t(){return e.call(this)||this}return i(t,e),t.deserialize=function(e){var n=new t;return p(e)?null:(n.activationEvent=P.deserialize(e.ActivationEvent),n.content=F.deserialize(e.Content),n.validate()?n:null)},t.prototype.validate=function(){return!(!e.prototype.validate.call(this)||p(this.content))},t}(G);t.CampaignSurveyTemplateIntercept=X;var Z=function(){function e(){}return e.deserialize=function(t){var n=new e;if(p(t))return null;n.campaignId=t.CampaignId,n.governedChannelType=t.GovernedChannelType,n.startTime=t.StartTimeUtc,n.endTime=t.EndTimeUtc,n.launcherType=t.LauncherType,n.primaryPriority=t.PrimaryPriority,n.tags=t.Tags;var a=E.deserialize(t.AdditionalDataRequested);return n.additionalDataRequested=a?a.additionalData:[],t.SurveyTemplate&&(n.surveyTemplate=G.deserialize(t.SurveyTemplate)),t.NominationScheme&&(n.nominationScheme=k.deserialize(t.NominationScheme)),t.Scope&&(n.scope=y.deserialize(t.Scope)),p(t.BusinessLevel)||(n.businessLevel=t.BusinessLevel),n.validate()?n:(s.FloodgateEngine.getTelemetryLogger().log_LocalError("Invalid definition",t),null)},e.prototype.validate=function(){var e,t;if(p(this.scope)&&(this.scope=new S),p(this.campaignId)||!_(this.campaignId))return!1;if(!m(this.governedChannelType)||!d.isEnumValue(this.governedChannelType,c.GovernedChannelType))return!1;if(p(this.nominationScheme))return!1;if(p(this.surveyTemplate))return!1;if(!p(this.launcherType)&&!_(this.launcherType))return!1;if("customervoice"===this.launcherType&&p(null===(t=null===(e=this.surveyTemplate.content)||void 0===e?void 0:e.cvSurvey)||void 0===t?void 0:t.customerVoiceFormId))return!1;if(!p(this.primaryPriority)&&!m(this.primaryPriority))return!1;if(this.tags&&!Array.isArray(this.tags))return!1;if(p(this.startTime))this.startTime=u();else{if(!h(this.startTime))return!1;this.startTime=b(this.startTime)}if(p(this.endTime)||"string"==typeof this.endTime&&""===this.endTime)this.endTime=u();else{if(!h(this.endTime))return!1;this.endTime=b(this.endTime)}return!0},e}();function $(e){var t=[];if(p(e))return{result:t,error:"Empty"};if(!Array.isArray(e))return{result:t,error:"Not an array"};for(var n=[],a=0;a<e.length;a++){var i=e[a];if(i){var r=Z.deserialize(i);r?t.push(r):n.push(a)}else n.push(a)}return{result:t,error:n.length>0?"Invalid campaign definitions at indexes: "+n.toString():void 0}}t.CampaignDefinition=Z,t.FilterValidCampaignDefinitions=$;var ee=function(){function e(e){if(p(e))throw new Error("storage must not be null");this.storage=e}return e.prototype.load=function(){var e,t=this.storage.read(r.FileType.CampaignDefinitions);if(p(t))return[];try{e=JSON.parse(t)}catch(e){return s.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed(e.toString()),[]}return $(e).result},e.prototype.loadAsync=function(){var e=this.load();return new Promise(function(t,n){t(e)})},e}();t.FileSystemCampaignDefinitionProvider=ee},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(6),i=n(3),r=n(2),o=n(1),s=function(){function e(e){this.screenshot=e}return e.prototype.getContent=function(){var e;try{e=this.screenshot.toDataURL("image/jpeg").split(",")[1]}catch(t){r.b().logEvent(r.a.Shared.Screenshot.GetContent.Failed.DefaultImage.Returned.VALUE,2,{ErrorMessage:t.toString()}),e="iVBORw0KGgoAAAANSUhEUgAAAN0AAAA+AQMAAACV2ox1AAAABGdBTUEAALGPC/xhBQAAAAZQTFRFAAAA////pdmf3QAAAAlwSFlzAAAOwgAADsIBFShKgAAAAjtJREFUSMfV1M1rE0EUAHDBa5r8A9vkL6giFiI0JH+Ih9KLx8TaukkJugShHgrJzYvkVPQkUqgwSePLEELaU+zBg8JKVvSQQNydlsadwCQzziRZ82ETxYMfc3gD8+MxjzcfV8T80f0vkQ8i68tAPSMSQ0PkI6QDpEPkZBHy1Wp1/zjni2lrZq2T2uikDG17A54Hr0vsvwXIl3WXt02zeIHQBSq3DxHk7VO55zIFgLLrcmaaQBGiqCwQArBVQTbNZODNBB5Ee2EEr5eGiDG4k5mcqcy+Ksh+N8K2+bRI1Z68fRMVoV+XmcFwpQJZGohpkds1WtjppGLaq51a2b8yp310UW9/H8VfRj68CIKRsWCFPCCEM419S4bSAOmPmdb3TBrQ4lmnt9n4/Hiv5fTunsOzXbJfLR2rU3Fd5ugOe9mw0lvNOCNxyDdIHkpHCv0S3a+MS0yT+4wkAKx1gBJeVxeMRhSeNZpXJfY+zqAVl+g0mCFRJMgs6oy9+MCMrWZaJJwiWFjuWcIShf+Wk2W9e59OHu21WPdsswZNLKs9wV77mJiaMVbBQ+/1jGZDofFLuOBU/jzG6OQKnkLOZ5EvwolMX2Q19TAX9MWyy/aNarewfZptechdLn8B3TatB/YXB2j4MKw3jTHKX4AO0CbqaSddMokHUbr0PpSXmFG4O4WIu86asCVihfoM6nUmse5gGkbJOyThVesX4UI0d00LBYMr55VuIZl8MkY1uOiTy9v3c+ShuXj5+NdQdL8B+5gmw8WZuREAAAAASUVORK5CYII="}for(var t=atob(e),n=[],a=0;a<t.length;a++)n.push(t.charCodeAt(a));return new Blob([new Uint8Array(n)],{type:"image/jpeg"})},e}(),c=n(7),d=n(31),l=n(8),u=function(){function e(e,t,n,a,i,r,o,s,u){this.manifestData={appId:t,application:r,clientFeedbackId:i,manifestType:e,source:"Client",submitTime:n,telemetry:o,type:f(a),web:s,sdkVersion:c.e+(void 0!==l.a().OfficeBrowserFeedback.sdkVersion?l.a().OfficeBrowserFeedback.sdkVersion:d.a),retentionDurationDays:u}}return e.prototype.getExtendedManifestData=function(){return this.manifestData.application.extendedManifestData},e.prototype.setComment=function(e){this.manifestData.comment=e},e.prototype.setEmail=function(e){this.manifestData.email=e},e.prototype.setCategory=function(e){this.manifestData.telemetry=this.manifestData.telemetry||{},this.manifestData.telemetry.featureArea=e},e.prototype.setAppData=function(e){this.manifestData.application=this.manifestData.application||{},this.manifestData.application.appData=e},e.prototype.setExtendedManifestData=function(e){this.manifestData.application=this.manifestData.application||{},this.manifestData.application.extendedManifestData=e},e.prototype.setClientFeedbackId=function(e){this.manifestData.clientFeedbackId=e},e.prototype.getClientFeedbackId=function(){return this.manifestData.clientFeedbackId},e.prototype.setComplianceInformation=function(e,t,n,a,i,r){this.manifestData.complianceChecks={authenticationType:e,ageGroup:t,policyAllowFeedback:n,policyAllowSurvey:a,policyAllowScreenshot:i,policyAllowContact:r}},e.prototype.setValues=function(e){if(e)for(var t in e)e.hasOwnProperty(t)&&(this.manifestData.hasOwnProperty(t)?this.manifestData[t]=i.o(e[t],this.manifestData[t]):this.manifestData[t]=e[t])},e.prototype.getContent=function(){return new Blob([JSON.stringify(this.manifestData)],{type:"application/json"})},e.prototype.appendUxId=function(e){!i.l(e)&&i.m(e)&&""!==e&&(this.manifestData.sdkVersion=this.manifestData.sdkVersion+","+e)},e}();function f(e){return"Survey"===e?e:c.b[e]}var p=function(){function e(e,t,n,r,s,c,d){var l,f,p,m,_,h,b,g;this.clientFeedbackId=i.i(),this.manifest=new u(t,n,(new Date).toISOString(),r,this.clientFeedbackId,Object(a.a)({},s),Object(a.a)({},c),Object(a.a)({},d),o.get().getCommonInitOptions().retentionDurationDays),this.environment=e,this.manifest.setComplianceInformation(o.AuthenticationType[null!==(f=null===(l=o.get().getCommonInitOptions())||void 0===l?void 0:l.authenticationType)&&void 0!==f?f:o.AuthenticationType.Unauthenticated],o.AgeGroup[null!==(m=null===(p=o.get().getCommonInitOptions())||void 0===p?void 0:p.ageGroup)&&void 0!==m?m:o.AgeGroup.Undefined],this.ocpsEnumToString(null===(_=o.get().getInAppFeedbackInitOptions())||void 0===_?void 0:_.sendFeedbackPolicyValue),this.ocpsBooleanToString(null===(h=o.get().getFloodgateInitOptions())||void 0===h?void 0:h.surveyEnabled),this.ocpsEnumToString(null===(b=o.get().getCommonInitOptions())||void 0===b?void 0:b.screenshotPolicyValue),this.ocpsEnumToString(null===(g=o.get().getCommonInitOptions())||void 0===g?void 0:g.emailPolicyValue))}return e.prototype.getClientFeedbackId=function(){return this.clientFeedbackId},e.prototype.getExtendedManifestData=function(){return this.manifest.getExtendedManifestData()},e.prototype.setComment=function(e){this.manifest.setComment(e)},e.prototype.setEmail=function(e){this.manifest.setEmail(e)},e.prototype.setCategory=function(e){this.manifest.setCategory(e)},e.prototype.setAppData=function(e){this.manifest.setAppData(e)},e.prototype.setExtendedManifestData=function(e){this.manifest.setExtendedManifestData(e)},e.prototype.setScreenshot=function(e){this.screenshot=new s(e)},e.prototype.setClientFeedbackId=function(e){this.manifest.setClientFeedbackId(e)},e.prototype.appendUxId=function(e){this.manifest.appendUxId(e)},e.prototype.getManifest=function(){return this.manifest},e.prototype.setManifestValues=function(e){this.manifest.setValues(e)},e.prototype.submit=function(){if(!o.get().isFeedbackSurveyEnabledByAADC())return r.b().logEvent(r.a.Shared.Upload.Prevented.VALUE,2,{Data:JSON.stringify({ageGroup:o.get().getCommonInitOptions().ageGroup,authenticationType:o.get().getCommonInitOptions().authenticationType})}),Promise.resolve();var e=this.manifest.getContent(),t=void 0,n=this.clientFeedbackId;return this.screenshot&&(t=this.screenshot.getContent()),function(e,t,n,a){if(void 0===t)return Promise.reject(new Error("Manifest cannot be undefined"));var i,r,s,c,d,l=new FormData;return l.append("Manifest",t),n&&l.append("Screenshot",n),i=e?"https://petrol.office.microsoft.com/v1/feedback":"https://petrol-int.office.microsoft.com/v1/feedback",r=l,s=function(e,t,n){200!==e.status&&n(new Error("Non-200 response with status code: "+e.status+", response: "+e.responseText)),t()},c=function(e,t){return new Promise(function(n,a){var o=new XMLHttpRequest;o.open("POST",i,!0),o.timeout=t,o.onload=function(){s(o,n,a)},o.ontimeout=function(){e>0?c(e-1,2*t).then(n,a):a(new Error("Request to '"+i+"' timed out. timeout: "+o.timeout))},o.onerror=function(){e>0?c(e-1,t).then(n,a):a(new Error("Request to '"+i+"' errored. "+o.status+" - "+o.statusText+" : "+o.responseText))},o.send(r)})},d=o.get().getCommonInitOptions().petrolTimeout?o.get().getCommonInitOptions().petrolTimeout:8e3,c(2,d)}(0===this.environment,e,t).catch(function(e){o.get().setFeedbackSubmitted(!1),o.get().getCommonInitOptions().onError("Payload submission failed: "+e.message+". ClientFeedbackId: "+n),r.b().logEvent(r.a.Shared.Upload.Failed.VALUE,2,{ErrorMessage:e.message,ClientFeedbackId:n})})},e.prototype.ocpsBooleanToString=function(e){return void 0===e?"Not Configured":e?"Enabled":"Disabled"},e.prototype.ocpsEnumToString=function(e){if(!e)return"Not Configured";switch(e){case 2:return"Disabled";case 1:return"Enabled";default:return"Not Configured"}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GovernanceServiceClientState=t.GovernanceServiceSurveyType=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Feedback=1]="Feedback",e[e.Nps=2]="Nps",e[e.Psat=4]="Psat",e[e.Bps=6]="Bps",e[e.Fps=8]="Fps",e[e.Nlqs=18]="Nlqs",e[e.GenericMessagingSurface=22]="GenericMessagingSurface",e[e.Intercept=24]="Intercept"}(t.GovernanceServiceSurveyType||(t.GovernanceServiceSurveyType={})),function(e){e[e.Disabled=0]="Disabled",e[e.InitializationFailed=1]="InitializationFailed",e[e.Enabled=2]="Enabled"}(t.GovernanceServiceClientState||(t.GovernanceServiceClientState={}))},function(e,t,n){"use strict";function a(e){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}function i(e,t){return void 0===t&&(t=window.origin),new Promise(function(n,a){var i=document.createElement("script");i.async=!0,i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,n())}:i.onload=function(){n()},i.onerror=function(){a()},i.src=e,t&&"null"!==t&&(i.crossOrigin="anonymous");var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r)})}n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i})},function(e,t,n){"use strict";var a=n(18),i=n(17),r=n(37),o=n(9),s=o.getDistantFuture,c=o.getDistantPast,d=o.isNOU,l=o.isDate,u=function(){function e(e){if(d(e))throw new Error("data must not be null");if(d(e.id)||""===e.id)throw new Error("data.id must not be null or empty");if(d(e.governedChannelType)&&(e.governedChannelType=i.GovernedChannelType.getDefault()),d(e.expirationTimeUtc)||""===e.expirationTimeUtc)throw new Error("data.expirationTimeUtc must not be null or empty");if(d(e.activationEvent))throw new Error("data.activationEvent must not be null");(d(e.backEndIdentifier)||""===e.backEndIdentifier)&&(e.backEndIdentifier=e.id),d(e.launcherType)&&(e.launcherType=a.LAUNCHER_TYPE_DEFAULT),this.data=e}return e.prototype.getId=function(){return this.data.id},e.prototype.getBackEndId=function(){return this.data.backEndIdentifier},e.prototype.getGovernedChannelType=function(){return this.data.governedChannelType},e.prototype.getRawStartTimeUtc=function(){return this.data.startTimeUtc},e.prototype.getStartTimeUtc=function(){if(d(this.data.startTimeUtc))return c();var e=new Date(this.data.startTimeUtc);return l(e)?e:s()},e.prototype.getExpirationTimeUtc=function(){if(d(this.data.expirationTimeUtc))return c();var e=new Date(this.data.expirationTimeUtc);return l(e)?e:c()},e.prototype.getRawExpirationTimeUtc=function(){return this.data.expirationTimeUtc},e.prototype.isActiveForDate=function(e){return!d(e)&&e>=this.getStartTimeUtc()&&e<=this.getExpirationTimeUtc()},e.prototype.getActivationEvent=function(){return this.data.activationEvent},e.prototype.getPreferredLaunchType=function(){return this.data.preferredLaunchType},e.prototype.isAdditionalDataRequested=function(e){if(d(this.data.additionalDataRequested))return!1;for(var t=0,n=this.data.additionalDataRequested;t<n.length;t++)if(n[t]===e)return!0;return!1},e.prototype.getLauncherType=function(){return this.data.launcherType},e.prototype.getMetadata=function(){return this.data.metadata},e.prototype.getBusinessLevel=function(){return this.data.businessLevel},e.prototype.getMaxLaunches=function(){return this.data.maxLaunches},e.prototype.getMaxLaunchesPerSession=function(){return this.data.maxLaunchesPerSession},e.prototype.getDomElements=function(e){if(!e)throw new Error("Document must not be null");var t=e.createElement(r.DOM_TYPE_TAGNAME);t.appendChild(e.createTextNode(r.DOM_TYPE_VALUE));var n=e.createElement(r.DOM_ID_TAGNAME);return n.appendChild(e.createTextNode(this.getBackEndId())),[t,n]},e.prototype.getJsonElements=function(){var e={};e[r.JSON_ID_KEYNAME]=this.getBackEndId();var t={};return t[r.JSON_SURVEY_KEYNAME]=e,t},e}();!function(e){e.SurveyDataSourceData=function(){this.preferredLaunchType="Default"}}(u||(u={})),e.exports=u},function(e,t,n){"use strict";var a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,i=0,r=t.length;i<r;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.SchemaObject=void 0;var i=function(){function e(t){e.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_SchemaObject"},e.getBaseTypes=function(){return[]},e.getTypeNameFor=function(e){return e&&e.H_?e.H_.T_:void 0},e.getBaseTypesFor=function(e){return e&&e.H_&&e.H_.B_?e.H_.B_:[]},e.getAllTypesFor=function(t){var n=e.getTypeNameFor(t);return n?a([n],e.getBaseTypesFor(t),!0):[]},e.matchesTypesFor=function(t,n){if(!Array.isArray(n)||0===n.length)return!0;for(var a=e.getTypeNameFor(t),i=e.getBaseTypesFor(t),r=0,o=n;r<o.length;r++){var s=o[r];if(s===a)return!0;if(i.indexOf(s)>=0)return!0}return!1},e.assign=function(e,t,n){if(n)for(var a=0,i=Object.keys(n);a<i.length;a++){var r=i[a];t[r]=n[r]}return t.H_=e.H_,t},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.SchemaObject=i},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(6),i=n(50);function r(e,t){return i(e||document.body,Object(a.a)({background:"#ffffff"},t))}},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return p});var a=n(4),i=n(1),r=n(8),o=n(0),s=n(27),c=n(24),d=n(3),l=n(50),u=!1;function f(){return new Promise(function(e,t){if(u)e();else{var n=i.get().getCommonInitOptions();if(n||t("initOptionsCommon is null"),(n.customResourcesSetExternally&i.CustomResources.Css)===i.CustomResources.Css){var r="#"+o.d.TPromptTitle;Object(d.a)(r)||t("Expected custom Css to be set by host but "+r+" was not found to be set.")}else Object(c.b)(n.stylesUrl);if(function(e,t){void 0===e&&(e=void 0),void 0===t&&(t=void 0),e||(e="#0167B0"),t||(t="#194789");var n=document.createElement("style");n.textContent="."+o.c.OverallAnchor+":focus { background-color: "+e+" } ."+o.c.OverallAnchor+":hover { background-color: "+t+" } ."+o.c.OverallAnchorActive+" { background-color: "+e+" } ."+o.c.SpinnerCircle+" { background-color: "+e+" } ."+o.c.ChoiceGroup+" input[type=radio]:checked+label>."+o.c.ChoiceGroupIcon+" { border-color: "+e+" } ."+o.c.ChoiceGroup+" input[type=radio]:hover+label>."+o.c.ChoiceGroupIcon+" { border-color: "+t+" } ."+o.c.ChoiceGroup+" input[type=radio]:checked+label>."+o.c.ChoiceGroupIcon+">span { background-color: "+e+" } ."+o.c.SubmitButton+" { background-color: "+e+" } ."+o.c.SubmitButton+":hover { background-color: "+t+" } ."+o.c.CancelButton+" { background-color: "+e+" } ."+o.c.CancelButton+":hover { background-color: "+t+" } ."+o.c.Link+" { color: "+e+" } ."+o.c.Link+":hover { color: "+t+" } ."+o.c.ThanksPanelTitle+" { color: "+e+" } #"+o.d.TPromptTitle+" { color: "+e+" } #"+o.d.TFormTitle+" { color: "+e+" } ",document.body.appendChild(n)}(n.primaryColour,n.secondaryColour),(n.customResourcesSetExternally&i.CustomResources.Strings)===i.CustomResources.Strings)a.a()||t("Expected custom strings to be set by host but UIStrings.getUIStrings() is null or undefined"),u=!0,e();else{var s=n.intlUrl+n.locale.toLowerCase()+"/"+n.intlFilename;Object(c.a)(s).then(function(){a.a()?(u=!0,e()):t("UiStrings were not loaded from "+s)}).catch(function(e){t("Script load failed for "+s+". "+e)})}}})}function p(){u=!1}r.p(function(e){a.b(e)}),r.d(s.a),r.a().OfficeBrowserFeedback.html2canvas=l},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l}),n(55);var a=n(31),i=n(1),r=n(8),o=n(2),s=!1,c=!1;function d(){if(!s){if(!r.a().OfficeBrowserFeedback.initOptions)throw new Error("Window.OfficeBrowserFeedback.initOptions not set");r.a().OfficeBrowserFeedback.sdkVersion=a.a,i.get().setCommonInitOptions(r.a().OfficeBrowserFeedback.initOptions),c=i.get().isFeedbackSurveyEnabledByAADC(),o.c(i.get().getCommonInitOptions(),"OfficeFeedbackSDK",a.a,i.get().getSdkSessionId(),i.get().getEventSampling()),s=!0,c||o.b().logEvent(o.a.FEEDBACK_SURVEYSDISABLED_AADC,1,{Data:JSON.stringify({ageGroup:i.get().getCommonInitOptions().ageGroup,authenticationType:i.get().getCommonInitOptions().authenticationType})})}}function l(){s=!1}r.n(function(){return c})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Survey=void 0;var a=n(18),i=n(20),r=n(9),o=function(){function e(){}return e.prototype.getCampaignId=function(){return this.getSurveyInfo().getBackEndId()},e.prototype.getLauncherType=function(){return this.getSurveyInfo().getLauncherType()},e.prototype.getClientFeedbackId=function(){return this.clientFeedbackId},e.prototype.submit=function(){var e=a.Type[this.getType()],t=i.FloodgateEngine.getTransportFactory().makeTransporter(e);t.setManifestValues(this.getJsonElements()),this.clientFeedbackId=t.getClientFeedbackId(),t.submit()},e.prototype.getPreGeneratedClientFeedbackId=function(){return this.clientFeedbackId?this.clientFeedbackId:this.clientFeedbackId=r.guid()},e}();t.Survey=o},function(e,t,n){"use strict";t.a="1.9.1"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var a=n(0);function i(e,t){if(void 0===e.brs&&(e.brs=!0),!e.brs)return null;var n;if(e.tag||(e.tag=a.h.Div),e.tag===a.h.Svg&&(t=!0),n=t?document.createElementNS("http://www.w3.org/2000/svg",e.tag):document.createElement(e.tag),e.attributes)for(var r=void 0,o=0;o<e.attributes.length;o++)(r=e.attributes[o]).name===a.a.xlinkHref?n.setAttributeNS("http://www.w3.org/1999/xlink",a.a.HRef,r.value):n.setAttribute(r.name,r.value);if(e.id&&(n.id=e.id),e.classes){var s=e.classes.join(" ");t?n.setAttribute(a.a.Class,s):n.className=s}if(e.innerText&&!t&&(n.textContent=e.innerText),e.innerHTML&&!t&&(n.innerHTML=e.innerHTML),e.children)for(o=0;o<e.children.length;o++){var c=e.children[o];if(c){var d=i(c,t);d&&n.appendChild(d)}}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Governor=t.DEFAULT_TEACHING_MESSAGE_COOLDOWN=void 0;var a=n(17),i=n(47),r=n(9).isNOU;t.DEFAULT_TEACHING_MESSAGE_COOLDOWN=15;var o=function(e,t){this.name=e,this.cooldownSeconds=t},s=function(){function e(e){if(this.channels=[],!e)throw new Error("channelStateProvider must not be null");this.channelStateProvider=e,this.loadChannels()}return e.GetChannelCoolDown=function(t){var n=e.defaultChannelData[t];return n?n.cooldownSeconds:0},e.SetDefaultChannelCoolDown=function(t,n){var a=e.defaultChannelData[t];a&&(a.cooldownSeconds=n)},e.prototype.refreshChannelData=function(){this.loadChannels()},e.prototype.getAvailableChannelData=function(){var e=[];for(var t in this.channels)if(this.channels.hasOwnProperty(t)){var n=this.channels[t];n.isOpen()&&e.push(n)}return e},e.prototype.isChannelOpen=function(e){if(r(e))throw new Error("type must not be null");return this.channels[e].isOpen()},e.prototype.startChannelCooldown=function(e,t){if(r(e))throw new Error("type must not be null");t=t||new Date,this.channels[e].setCooldownStartTime(t),this.saveChannelStates()},e.prototype.saveChannelStates=function(){var e=[];for(var t in this.channels)if(this.channels.hasOwnProperty(t)){var n=this.channels[t],a=new i.GovernedChannelState(n.getType(),n.getCooldownStartTime());e.push(a)}this.channelStateProvider.save(e)},e.prototype.loadChannels=function(){for(var t in this.loadChannelStatesFromProvider(),a.GovernedChannelType)if(a.GovernedChannelType.hasOwnProperty(t)){var n=Number(t);if(isNaN(n)||this.channels[n])continue;var i=e.defaultChannelData[n],r=new a.GovernedChannel(n,i.name,i.cooldownSeconds,null);this.channels[n]=r}},e.prototype.loadChannelStatesFromProvider=function(){this.channels=[];var t=this.channelStateProvider.load();for(var n in t)if(t.hasOwnProperty(n)){var i=t[n],r=i.getType(),o=e.defaultChannelData[r],s=new a.GovernedChannel(r,o.name,o.cooldownSeconds,i.getCooldownStartTime());this.channels[s.getType()]=s}},e.minute=60,e.hour=60*e.minute,e.day=24*e.hour,e.defaultChannelData=[new o(a.GovernedChannelType[a.GovernedChannelType.Standard],14*e.day),new o(a.GovernedChannelType[a.GovernedChannelType.Urgent],0),new o(a.GovernedChannelType[a.GovernedChannelType.Banner],15*e.day),new o(a.GovernedChannelType[a.GovernedChannelType.TeachingMessage],t.DEFAULT_TEACHING_MESSAGE_COOLDOWN*e.day)],e}();t.Governor=s},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var a=n(16),i=n(3),r=n(14),o=i.l,s=function(){function e(e){this.useLocalStorage=!1,this.cachedItems={},this.initialize(e)}return e.prototype.setContentItem=function(e,t,n){var a=this.createItem(e,t,n);return this.setItem(a),a},e.prototype.getItemContent=function(e){var t=this.getItem(e);return t&&t.content},e.prototype.has=function(e){return e in this.cachedItems},e.prototype.isItemExpired=function(e){var t=this.getItem(e);return!t||!t.expiryDate||t.expiryDate<new Date},e.prototype.createItem=function(e,t,n){return{contentType:e,content:t,expiryDate:new Date(Date.now()+n),lastRetrievedDate:new Date}},e.prototype.setItem=function(e){this.cachedItems[e.contentType]=e,this.updateItemInLocalStorage(e)},e.prototype.getItem=function(e){return this.cachedItems[e]},e.prototype.initialize=function(e){this.cachedItems={},a.a.isStorageAvailable()&&(this.floodgateStorage=new a.a,this.useLocalStorage=!0,this.initCachedItemsFromLocalStorage(e))},e.prototype.initCachedItemsFromLocalStorage=function(e){if(this.useLocalStorage&&!o(e))for(var t=0,n=e;t<n.length;t++){var a=n[t],i=this.floodgateStorage.read(this.mapContentTypeToFloodgateProviderKey(a));if(!o(i)){var r=this.parseObjectFromCache(i);o(r)||(r.expiryDate="string"==typeof r.expiryDate?new Date(r.expiryDate):r.expiryDate,this.cachedItems[r.contentType]=r)}}},e.prototype.updateItemInLocalStorage=function(e){this.useLocalStorage&&this.floodgateStorage.write(this.mapContentTypeToFloodgateProviderKey(e.contentType),JSON.stringify(e))},e.prototype.parseObjectFromCache=function(e){try{return JSON.parse(e)}catch(e){return null}},e.prototype.mapContentTypeToFloodgateProviderKey=function(e){switch(e){case"CampaignContent":return r.FileType.TmsCache_CampaignContent;case"MessageMetadata":return r.FileType.TmsCache_MessageMetadata;case"UserGovernance":return r.FileType.TmsCache_UserGovernance;case"DynamicSettings":return r.FileType.Tms_DynamicSettings;case"LogLevelSettings":return r.FileType.LogLevelSettings;case"UserFacts":return r.FileType.UserFacts;default:throw new Error("Unmapped ContentType in TmsCache")}},e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=n(0),i=n(5),r=function(){function e(e){this.circleObjects=[],this.spinnerId=e,this.spinner=document.getElementById(this.spinnerId),this.createCirclesAndArrange(),this.initializeOpacities(),this.start(),i.l(e,!0)}return e.prototype.destroy=function(){i.l(this.spinnerId,!1),this.stop()},e.prototype.start=function(){var e=this;this.stop(),this.interval=setInterval(function(){for(var t=e.circleObjects.length;t--;)o(e.circleObjects[t])},90)},e.prototype.stop=function(){clearInterval(this.interval)},e.prototype.createCirclesAndArrange=function(){for(var e,t=0,n=2*Math.PI/8,a=8;a--;){var i=c(),r=Math.round(17+13.6*Math.cos(t)-.5*i.clientWidth)-34*.2*.5,o=Math.round(17+13.6*Math.sin(t)-.5*i.clientHeight)-34*.2*.5;this.spinner.appendChild(i),i.style.left=r+"px",i.style.top=o+"px",t+=n,e={element:i,j:a},this.circleObjects.push(e)}},e.prototype.initializeOpacities=function(){for(var e,t=0,n=1;t<8;t++)e=1/8*n++,s(this.circleObjects[t].element,e)},e}();function o(e){var t,n=(t=e.element,parseFloat(window.getComputedStyle(t).getPropertyValue("opacity"))-1/8);n<=0&&(n=1),s(e.element,n)}function s(e,t){e.style.opacity=t.toString()}function c(){var e=document.createElement("div");return e.classList.add(a.c.SpinnerCircle),e.style.width=e.style.height=34*.2+"px",e}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(90),t),i(n(91),t)},function(e,t,n){"use strict";var a;!function(e){!function(e){e[e.None=0]="None",e[e.Critical=1]="Critical"}(e.BusinessLevel||(e.BusinessLevel={})),e.DOM_TYPE_TAGNAME="Type",e.DOM_TYPE_VALUE="Survey",e.DOM_ID_TAGNAME="SurveyID",e.JSON_SURVEY_KEYNAME="survey",e.JSON_ID_KEYNAME="surveyId"}(a||(a={})),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MergeAndUpdateSurveyActivationStats=t.MergeAndUpdateCampaignStates=t.MergeAndUpdateGovernedChannelStates=t.makeSettingItemValue=t.extractSettingItemValueSubString=t.ItemCollection=void 0;var a=n(44),i=function(){function e(){this.items={},this.itemCount=0}return e.prototype.add=function(e,t){this.items[e]||this.itemCount++,this.items[e]=t},e.prototype.find=function(e){return this.items[e]},e.prototype.remove=function(e){var t=this.items[e];return t&&(delete this.items[e],this.itemCount--),t},e.prototype.count=function(){return this.itemCount},e}();t.ItemCollection=i,t.extractSettingItemValueSubString=function(e){if(!e)return e;var t=e.indexOf(r)+r.length,n=e.indexOf(o);return t<0||n<0?e:e.substring(t,n)},t.makeSettingItemValue=function(e){return e?r+e+o:r+o},t.MergeAndUpdateGovernedChannelStates=function(e,t){var n=new i;if(!e&&!t)return n;if(!e)return n.add(0,t),n;if(!t)return n.add(0,e),n.add(1,e),n;var a=[],r=[];return e&&e.forEach(function(e){for(var n,i=-1,o=0;o<t.length;o++)if((n=t[o]).getType()===e.getType()){i=o;break}if(-1===i)return a.push(e),void r.push(e);e.getCooldownStartTime()>n.getCooldownStartTime()?(a.push(e),r.push(e)):a.push(n),t.splice(i,1)}),t&&t.forEach(function(e){a.push(e)}),n.add(0,a),r.length>0&&n.add(1,r),n},t.MergeAndUpdateCampaignStates=function(e,t){var n=new i;if(!e&&!t)return n;if(!e)return n.add(0,t),n;if(!t)return n.add(0,e),n.add(1,e),n;var a=[],r=[];return e&&e.forEach(function(e){for(var n,i=new Date,o=-1,s=0;s<t.length;s++)if((n=t[s]).CampaignId===e.CampaignId){o=s;break}return-1===o?(a.push(e),void r.push(e)):n.LastCooldownEndTimeUtc>i?(a.push(n),void t.splice(o,1)):e.LastCooldownEndTimeUtc>i?(a.push(e),r.push(e),void t.splice(o,1)):(e.getCooldownStartDate()>n.getCooldownStartDate()||e.getCooldownStartDate()===n.getCooldownStartDate()&&e.LastNominationTimeUtc>n.LastNominationTimeUtc?(a.push(e),r.push(e)):a.push(n),void t.splice(o,1))}),t&&t.forEach(function(e){a.push(e)}),n.add(0,a),r.length>0&&n.add(1,r),n},t.MergeAndUpdateSurveyActivationStats=function(e,t){var n=new i;if(!e&&!t)return n;if(!e)return n.add(0,t),n;if(!t)return n.add(0,e),n.add(1,e),n;var r=new a.SurveyStatCollectionActivation,o=new a.SurveyStatCollectionActivation,s=e.getStats(),c=t.getStats();for(var d in s)if(s.hasOwnProperty(d)){var l=c[d];if(!l){r.addStats(d,s[d]),o.addStats(d,s[d]);continue}s[d].ActivationTimeUtc>l.ActivationTimeUtc?(r.addStats(d,s[d]),o.addStats(d,s[d])):r.addStats(d,c[d]),delete c[d]}for(var d in c)c.hasOwnProperty(d)&&r.addStats(d,c[d]);n.add(0,r);var u=o.getStats();for(var f in u)if(u.hasOwnProperty(f)){n.add(1,o);break}return n};var r="<data>",o="</data>"},function(e,t,n){"use strict";var a=n(19),i=function(){function e(e){if(!e)throw new Error("data must not be null");if(!e.question)throw new Error("data.question must not be null or empty");this.data=e,this.userComment=""}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getType=function(){return"Comment"},e.prototype.getQuestion=function(){return this.data.question},e.prototype.setSubmittedText=function(e){this.userComment=e},e.prototype.getSubmittedText=function(){return this.userComment},e.prototype.getDomElements=function(e){if(!e)throw new Error("Document must not be null");var t=e.createElement(a.DOM_COMMENT_TAGNAME);return t.appendChild(e.createTextNode(this.getSubmittedText())),[t]},e.prototype.getJsonElements=function(){var e={};return e[a.JSON_COMMENT_KEYNAME]=this.getSubmittedText(),e},e.prototype.getComponentJson=function(){var e;return(e={})[a.JSON_QUESTION_KEYNAME]=this.getQuestion(),e},e}();!function(e){e.CommentComponentData=function(){}}(i||(i={})),e.exports=i},function(e,t,n){"use strict";var a=n(19),i=function(){function e(e){if(!e)throw new Error("data must not be null");if(!e.question)throw new Error("data.question must not be null or empty");if(!e.title)throw new Error("data.title must not be null or empty");if(!e.yesButtonLabel)throw new Error("data.yesButtonLabel must not be null or empty");if(!e.noButtonLabel)throw new Error("data.noButtonLabel must not be null or empty");this.data=e,this.selectedButton=0}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getType=function(){return"Prompt"},e.prototype.getTitle=function(){return this.data.title},e.prototype.getQuestion=function(){return this.data.question},e.prototype.getYesButtonText=function(){return this.data.yesButtonLabel},e.prototype.getNoButtonText=function(){return this.data.noButtonLabel},e.prototype.setButtonSelected=function(e){e&&(this.selectedButton=e)},e.prototype.getButtonSelected=function(){return this.selectedButton},e.prototype.getDomElements=function(e){if(!e)throw new Error("Document must not be null");var t=e.createElement(a.DOM_PROMPT_TAGNAME);return t.appendChild(e.createTextNode(this.promptButtonToString(this.getButtonSelected()))),[t]},e.prototype.getJsonElements=function(){var e={};return e[a.JSON_PROMPT_KEYNAME]=this.promptButtonToString(this.getButtonSelected()),e},e.prototype.getComponentJson=function(){var e;return(e={})[a.JSON_TITLE_KEYNAME]=this.getTitle(),e[a.JSON_QUESTION_KEYNAME]=this.getQuestion(),e[a.JSON_PROMPTYESTEXT_KEYNAME]=this.getYesButtonText(),e[a.JSON_PROMPTNOTEXT_KEYNAME]=this.getNoButtonText(),e},e.prototype.promptButtonToString=function(e){switch(e){case 0:return"Unselected";case 1:return"Yes";case 2:return"No";default:return"Unknown"}},e}();!function(e){e.PromptComponentData=function(){}}(i||(i={})),e.exports=i},function(e,t,n){"use strict";var a=n(19),i=function(){function e(e){if(!e)throw new Error("data must not be null");if(!e.question)throw new Error("data.question must not be null or empty");if(!e.ratingValuesAscending||e.ratingValuesAscending.length<2)throw new Error("data.ratingValuesAscending must not be null or have less than two choices");e.ratingValuesAscending.forEach(function(e){if(!e)throw new Error("rating values must not contain null or empty")}),this.data=e,this.selectedIndex=-1}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getType=function(){return"Rating"},e.prototype.getQuestion=function(){return this.data.question},e.prototype.getRatingValuesAscending=function(){return this.data.ratingValuesAscending},e.prototype.getSelectedRating=function(){return this.isRatingIndexValid(this.selectedIndex)?this.data.ratingValuesAscending[this.selectedIndex]:""},e.prototype.setSelectedRatingIndex=function(e){this.isRatingIndexValid(e)?this.selectedIndex=e:this.selectedIndex=-1},e.prototype.getSelectedRatingIndex=function(){return this.selectedIndex},e.prototype.getDomElements=function(e){if(!e)throw new Error("Document must not be null");var t=e.createElement(a.DOM_RATING_TAGNAME);return this.isRatingIndexValid(this.getSelectedRatingIndex())?t.appendChild(e.createTextNode(this.getNormalizedRatingScore().toFixed(6))):t.appendChild(e.createTextNode("Not rated")),[t]},e.prototype.getJsonElements=function(){var e={};return this.isRatingIndexValid(this.getSelectedRatingIndex())?e[a.JSON_RATING_KEYNAME]=this.getNormalizedRatingScore():e[a.JSON_RATING_KEYNAME]="Not rated",e},e.prototype.getComponentJson=function(){var e;return(e={})[a.JSON_QUESTION_KEYNAME]=this.getQuestion(),e[a.JSON_RATINGOPTIONS_KEYNAME]=this.getRatingValuesAscending(),e},e.prototype.getNormalizedRatingScore=function(){return this.isRatingIndexValid(this.getSelectedRatingIndex())?this.data.isZeroBased?this.selectedIndex/(this.data.ratingValuesAscending.length-1):(this.selectedIndex+1)/this.data.ratingValuesAscending.length:-1},e.prototype.isRatingIndexValid=function(e){return e>=0&&e<this.data.ratingValuesAscending.length},e}();!function(e){e.RatingComponentData=function(){}}(i||(i={})),e.exports=i},function(e,t,n){"use strict";var a=n(73),i=n(15),r=n(74),o=n(48),s=n(9),c=[],d=0,l={},u=function(){function e(e,t){if(this.activityContext={},!e)throw new Error("callback must not be null");this.trackedActivityMap={},this.callback=e,this.loggerCallback=t}return e.resetSessionActivity=function(){l={}},e.prototype.logActivity=function(e,t,n){void 0===t&&(t=1),this.logActivity_private(e,0,t,null,n)},e.prototype.logActivityStartTime=function(e,t){this.logActivity_private(e,1,0,t,null)},e.prototype.logActivityStopTime=function(e,t){this.logActivity_private(e,2,0,t,null)},e.prototype.SetActivityTrackingContracts=function(e,t){void 0===t&&(t=new o.SurveyStatCollectionEventActivity);var n=0;if(e&&0!==e.length&&t){for(var s={},c=[],d=0,u=e;d<u.length;d++){var f=u[d],p=f.trackingSet;if(-1===c.indexOf(f.surveyId)){c.push(f.surveyId);for(var m=t.getBySurveyId(f.surveyId),_=[p.getList().length],h=new Array(p.getList().length),b=0,g=0,v=0,y=p.getList();v<y.length;v++){var S=y[v];if(_[g]=0,S.getIsAggregate()&&m&&b<m.Counts.length&&(_[g]=m.Counts[b++]),l[S.getActivity()])for(var D=0,I=l[S.getActivity()];D<I.length;D++){var x=I[D];if(x.surveyId===f.surveyId){h[g]=x;break}}g++}var C=new a(p);C.initCounts(_,h,!1);for(var O=0,w=C.generateActivityIndexList();O<w.length;O++){var E=w[O],A=new r.IndexedTracker;A.index=E.index,A.surveyId=f.surveyId,A.tracker=C,s[E.activity]||(s[E.activity]=[]),s[E.activity].push(A)}}else n++}if(n>0){var L=this.loggerCallback&&this.loggerCallback();L&&L.log_Error(i.TelemetryEvent.SurveyActivity.SetActivityTrackingContracts.DuplicateSurveyID,"Duplicate surveyId passed in activityTrackingContracts. Duplicate count: "+n)}this.copyObject(this.trackedActivityMap,s)}},e.prototype.clearSurveys=function(){var e=this;Object.getOwnPropertyNames(this.trackedActivityMap).forEach(function(t){delete e.trackedActivityMap[t]})},e.prototype.saveSessionTrackingActivity=function(e){l[e]=this.trackedActivityMap[e]},e.prototype.getCount=function(e,t){var n=this.getIndexedTracker(e,t);return n?n.tracker.getCount(n.index):0},e.prototype.getSessionCount=function(e,t){var n=this.getIndexedTracker(e,t);return n?n.tracker.getSessionCount(n.index):0},e.prototype.moveSessionCountIntoBaseCount=function(e,t){var n=this.getIndexedTracker(e,t);return n?n.tracker.moveSessionCountIntoBaseCount(n.index):0},e.prototype.getSurveyIds=function(e){if(!s.isNOU(e)){var t=this.trackedActivityMap[e];if(t)return t.map(function(e){return e.surveyId})}},e.prototype.setCallback=function(e){this.callback=e},e.prototype.UpdateActivityTrackingContracts=function(e){if(s.isNOU(e)||0===Object.keys(e).length)this.clearSurveys();else for(var t in this.trackedActivityMap)if(this.trackedActivityMap.hasOwnProperty(t))for(var n=this.trackedActivityMap[t],a=n.length-1;a>=0;--a)e.hasOwnProperty(n[a].surveyId)||n.splice(a,1)},e.prototype.getIndexedTracker=function(e,t){var n=this.trackedActivityMap[e];if(n){for(var a,i=0,r=n;i<r.length;i++){var o=r[i];if(o.surveyId===t){a=o;break}}return a}},e.prototype.resetQueuedActivities=function(){c=[]},e.prototype.logActivity_private=function(t,n,a,r,o){var s=this;if(this.callback&&!this.callback.shouldAcceptActivity(t)&&(d++,c.length<e.MaxPendingActivitiesQueueSize&&c.push({activityName:t,logType:n,increment:a,timestamp:r})),t===e.FloodgateStartActivityName){if(d>0){var l=c.slice(0,25).map(function(e){return e.activityName}),u=this.loggerCallback&&this.loggerCallback();u&&u.log_Event(i.TelemetryEvent.SurveyActivity.LogActivity.EventsReprocessed,{ActivityNames:JSON.stringify(l),Count:c.length,Dropped:d-c.length},.05),c.map(function(e){return s.logActivity_core(e.activityName,e.logType,e.increment,e.timestamp,o)})}d=0,this.resetQueuedActivities()}this.logActivity_core(t,n,a,r,o)},e.prototype.logActivity_core=function(e,t,n,a,i){var r=this.trackedActivityMap[e];if(r&&0!==r.length){var o=[];if(r.length>1){o=new Array(r.length);for(var c=0;c<o.length;c++)o[c]=c;o=s.fyShuffle(o)}else o.push(0);for(var d=0,l=o;d<l.length;d++){var u=r[l[d]];switch(t){case 1:u.tracker.startTime(u.index,a);continue;case 2:n=u.tracker.stopTime(u.index,a);case 0:break;default:continue}if(i){var f=u.surveyId;this.activityContext[f]=this.activityContext[f]||[],this.activityContext[f].push({activityName:e,context:i})}if(2===u.tracker.incrementActivity(u.index,n)){this.executeCallback(u.surveyId);break}}}},e.prototype.executeCallback=function(e){this.callback.run(e,this.activityContext[e])},e.prototype.copyObject=function(e,t){Object.keys(t).forEach(function(n){e[n]=t[n]})},e.FloodgateStartActivityName="FloodgateFirstStart",e.MaxPendingActivitiesQueueSize=100,e}();e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileBasedCampaignStateProvider=t.HostBasedCampaignStateProvider=t.CampaignStateProviderFactory=t.CampaignState=void 0;var a=n(14),i=n(15),r=n(20),o=n(38),s=n(9),c=a.FileType,d=s.getDistantPast,l=s.isBoolean,u=s.isDate,f=s.isNOU,p=s.isString,m=s.isUtcDatetimeString,_=s.stringToDate,h=function(){function e(e,t,n,a,i,r,o,s,c,d,l,u){if(this.CampaignId=e,this.LastNominationTimeUtc=t,this.LastNominationBuildNumber=n,this.DeleteAfterSecondsWhenStale=a,this.ForceCandidacy=i,this.IsCandidate=r,this.DidCandidateTriggerSurvey=o,this.LastSurveyActivatedTimeUtc=s,this.LastSurveyId=c,this.LastSurveyStartTimeUtc=d,this.LastSurveyExpirationTimeUtc=l,this.LastCooldownEndTimeUtc=u,!this.validate())throw new Error("Constructor arguments are not valid")}return e.deserialize=function(t){var n;if(!t)return null;try{n=new e(t.CampaignId,t.LastNominationTimeUtc,t.LastNominationBuildNumber,t.DeleteAfterSecondsWhenStale,!1,t.IsCandidate,t.DidCandidateTriggerSurvey,t.LastSurveyActivatedTimeUtc,t.LastSurveyId,t.LastSurveyStartTimeUtc,t.LastSurveyExpirationTimeUtc,t.LastCooldownEndTimeUtc)}catch(e){return r.FloodgateEngine.getTelemetryLogger().log_Event(i.TelemetryEvent.CampaignState.Deserialize.Failed,{ErrorMessage:e.toString()}),null}return n},e.prototype.validate=function(){if(!this.CampaignId||!p(this.CampaignId))return!1;if(f(this.LastNominationBuildNumber)||!p(this.LastNominationBuildNumber))return!1;if(!s.isNumber(this.DeleteAfterSecondsWhenStale)||this.DeleteAfterSecondsWhenStale<0)return!1;if(!l(this.IsCandidate)||!l(this.DidCandidateTriggerSurvey))return!1;if(this.IsCandidate){if(f(this.LastSurveyStartTimeUtc)||f(this.LastSurveyExpirationTimeUtc))return!1;if(!p(this.LastSurveyId))return!1}if(this.DidCandidateTriggerSurvey&&f(this.LastSurveyActivatedTimeUtc))return!1;if(f(this.LastSurveyId))this.LastSurveyId="";else if(!p(this.LastSurveyId))return!1;if(m(this.LastNominationTimeUtc))this.LastNominationTimeUtc=_(this.LastNominationTimeUtc);else if(!u(this.LastNominationTimeUtc))return!1;if(f(this.LastSurveyActivatedTimeUtc))this.LastSurveyActivatedTimeUtc=d();else if(m(this.LastSurveyActivatedTimeUtc))this.LastSurveyActivatedTimeUtc=_(this.LastSurveyActivatedTimeUtc);else if(!u(this.LastSurveyActivatedTimeUtc))return!1;if(f(this.LastSurveyStartTimeUtc))this.LastSurveyStartTimeUtc=d();else if(m(this.LastSurveyStartTimeUtc))this.LastSurveyStartTimeUtc=_(this.LastSurveyStartTimeUtc);else if(!u(this.LastSurveyStartTimeUtc))return!1;if(f(this.LastSurveyExpirationTimeUtc))this.LastSurveyExpirationTimeUtc=d();else if(m(this.LastSurveyExpirationTimeUtc))this.LastSurveyExpirationTimeUtc=_(this.LastSurveyExpirationTimeUtc);else if(!u(this.LastSurveyExpirationTimeUtc))return!1;if(f(this.LastCooldownEndTimeUtc))this.LastCooldownEndTimeUtc=d();else if(m(this.LastCooldownEndTimeUtc))this.LastCooldownEndTimeUtc=_(this.LastCooldownEndTimeUtc);else if(!u(this.LastCooldownEndTimeUtc))return!1;return!0},e.prototype.markCurrentSurveyTakenOnDate=function(e,t,n){this.DidCandidateTriggerSurvey=n,this.LastSurveyActivatedTimeUtc=null!=e?e:new Date,this.LastCooldownEndTimeUtc=s.addSecondsWithoutOverflow(this.LastSurveyActivatedTimeUtc,t)},e.prototype.getCooldownStartDate=function(){return this.IsCandidate?this.DidCandidateTriggerSurvey?this.LastSurveyActivatedTimeUtc:this.LastSurveyStartTimeUtc:this.LastNominationTimeUtc},e}();t.CampaignState=h;var b=function(){function e(){}return e.make=function(e,t){return t?new v(e,t):new y(e)},e}();t.CampaignStateProviderFactory=b;var g=function(){},v=function(){function e(e,t){if(!t)throw new Error("host-based storage must not be null");this.hostBasedStorage=t,e&&(this.fileBasedStateProvider=new y(e))}return e.prototype.load=function(){var e,t=this.getStatesFromHost();return this.fileBasedStateProvider&&(e=this.fileBasedStateProvider.load()),o.MergeAndUpdateCampaignStates(e,t).find(0)},e.prototype.save=function(e){var t=this;if(e){var n=this.getStatesFromHost(),a=o.MergeAndUpdateCampaignStates(e,n),i=a.find(1),r=a.find(0);i&&i.forEach(function(e){var n=o.makeSettingItemValue(JSON.stringify(e));t.hostBasedStorage.upsertSettingItem(c[c.CampaignStates],e.CampaignId,n)}),this.fileBasedStateProvider&&this.fileBasedStateProvider.save(r)}},e.prototype.getStatesFromHost=function(){var e=[],t=this.hostBasedStorage.readSettingList(c[c.CampaignStates]);for(var n in t)if(t.hasOwnProperty(n)){var a=t[n],s=o.extractSettingItemValueSubString(a),d={};try{d=JSON.parse(s);var l=h.deserialize(d);l&&e.push(l)}catch(e){r.FloodgateEngine.getTelemetryLogger().log_Event(i.TelemetryEvent.HostBasedCampaignStateProvider.GetStatesFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+e.toString()+".  Input:"+s})}}return e},e}();t.HostBasedCampaignStateProvider=v;var y=function(){function e(e){if(!e)throw new Error("storage must not be null");this.storage=e}return e.prototype.load=function(){var e,t=this.storage.read(c.CampaignStates);if(!t)return[];try{e=JSON.parse(t);var n=[];return e&&e.CampaignStates&&e.CampaignStates.forEach(function(e){var t=h.deserialize(e);t&&n.push(t)}),n}catch(e){return r.FloodgateEngine.getTelemetryLogger().log_Event(i.TelemetryEvent.FileBasedCampaignStateProvider.Load.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+e.toString()+".  Input:"+t}),[]}},e.prototype.save=function(e){if(e){var t=new g;t.CampaignStates=e;var n=JSON.stringify(t);this.storage.write(c.CampaignStates,n)}},e}();t.FileBasedCampaignStateProvider=y},function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SurveyActivationStats=t.FileBasedSurveyActivationStatsProvider=t.HostBasedSurveyActivationStatsProvider=t.SurveyActivationStatsProviderFactory=t.SurveyStatCollectionActivation=void 0;var r=n(14),o=r.FileType,s=n(18),c=n(15),d=n(20),l=n(38),u=n(45),f=n(9),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.fromJson=function(e){var n,a=new t;if(!e)return d.FloodgateEngine.getTelemetryLogger().log_Event(c.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed,{ErrorMessage:"Input json is null or empty."}),a;try{n=JSON.parse(e)}catch(e){return d.FloodgateEngine.getTelemetryLogger().log_Event(c.TelemetryEvent.SurveyStatCollectionActivation.FromJson.Failed,{ErrorMessage:"Json parsing failed. "+e.toString()}),a}return a.deserialize(n)?a:new t},t.toJson=function(e){return e||(d.FloodgateEngine.getTelemetryLogger().log_Event(c.TelemetryEvent.SurveyStatCollectionActivation.ToJson.Failed,{ErrorMessage:"Input json is null or empty."}),e=new t),JSON.stringify(e)},t.prototype.accumulate=function(e){if(e){var t=e.getStats();for(var n in t)t.hasOwnProperty(n)&&this.addStats(n,t[n])}},t.prototype.deserialize=function(e){var t=e.Surveys,n=new Date;for(var a in t)if(t.hasOwnProperty(a)){var i=new b;i.deserialize(t[a])&&i.ExpirationTimeUtc>n&&this.addStats(a,i)}return this.validate()},t.prototype.validate=function(){return f.isObject(this.getStats())},t}(u.SurveyStatCollection);t.SurveyStatCollectionActivation=p;var m=function(){function e(){}return e.make=function(e,t){return t?new _(e,t):new h(e)},e}();t.SurveyActivationStatsProviderFactory=m;var _=function(){function e(e,t){if(!t)throw new Error("host-based storage must not be null");this.hostBasedStorage=t,e&&(this.fileBasedStorageProvider=new h(e))}return e.prototype.load=function(){var e=this.getSurveyStatsFromHost(),t=new p;return this.fileBasedStorageProvider&&(t=this.fileBasedStorageProvider.load()),l.MergeAndUpdateSurveyActivationStats(t,e).find(0)},e.prototype.save=function(e){if(e){var t=this.getSurveyStatsFromHost(),n=l.MergeAndUpdateSurveyActivationStats(e,t),a=n.find(1),i=n.find(0);if(a){var r=a.getStats();for(var s in r)if(r.hasOwnProperty(s)){var c=l.makeSettingItemValue(JSON.stringify(r[s]));this.hostBasedStorage.upsertSettingItem(o[o.SurveyActivationStats],s,c)}}this.fileBasedStorageProvider&&this.fileBasedStorageProvider.save(i)}},e.prototype.getSurveyStatsFromHost=function(){var e=new p,t=this.hostBasedStorage.readSettingList(o[o.SurveyActivationStats]),n=new Date;for(var a in t)if(t.hasOwnProperty(a)){var i=l.extractSettingItemValueSubString(t[a]),r=new b;try{var s=JSON.parse(i);r.deserialize(s)}catch(e){d.FloodgateEngine.getTelemetryLogger().log_Event(c.TelemetryEvent.HostBasedSurveyActivationStatsProvider.GetSurveyStatsFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+e.toString()+".  Input:"+i})}r.ExpirationTimeUtc<=n?this.hostBasedStorage.deleteSettingItem(o[o.SurveyActivationStats],a):e.addStats(a,r)}return e},e}();t.HostBasedSurveyActivationStatsProvider=_;var h=function(){function e(e){if(!e)throw new Error("storage must not be null");this.storage=e}return e.prototype.load=function(){var e=this.storage.read(r.FileType.SurveyActivationStats);return e?p.fromJson(e):new p},e.prototype.save=function(e){if(e){var t=p.toJson(e);this.storage.write(r.FileType.SurveyActivationStats,t)}},e}();t.FileBasedSurveyActivationStatsProvider=h;var b=function(){function e(){this.SurveyLaunchCount=0,this.SurveyLaunchCountPerSession=0}return e.prototype.deserialize=function(e){var t,n;return this.ActivationTimeUtc=e.ActivationTimeUtc,this.ExpirationTimeUtc=e.ExpirationTimeUtc,this.Type=e.Type,this.SurveyLaunchCount=null!==(t=e.SurveyLaunchCount)&&void 0!==t?t:0,this.SurveyLaunchCountPerSession=null!==(n=e.SurveyLaunchCountPerSession)&&void 0!==n?n:0,this.validate()},e.prototype.validate=function(){return!!f.isUtcDatetimeString(this.ActivationTimeUtc)&&(this.ActivationTimeUtc=f.stringToDate(this.ActivationTimeUtc),!!f.isUtcDatetimeString(this.ExpirationTimeUtc)&&(this.ExpirationTimeUtc=f.stringToDate(this.ExpirationTimeUtc),!(!f.isNumber(this.SurveyLaunchCount)||!f.isNumber(this.SurveyLaunchCountPerSession))&&f.isEnumValue(this.Type,s.Type)))},e}();t.SurveyActivationStats=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SurveyStatCollection=void 0;var a=function(){function e(){this.Surveys={},this.Surveys={}}return e.prototype.addStats=function(e,t){this.Surveys[e]=t},e.prototype.getBySurveyId=function(e){return this.Surveys[e]},e.prototype.getStats=function(){return this.Surveys},e}();t.SurveyStatCollection=a},function(e,t,n){"use strict";var a=n(19),i=function(){function e(e){if(!e)throw new Error("data must not be null");if(!e.customerVoiceFormId)throw new Error("data.formID must not be null or empty");this.data=e}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getType=function(){return"CVSurvey"},e.prototype.getFormId=function(){return this.data.customerVoiceFormId},e.prototype.getDomElements=function(e){if(!e)throw new Error("Document must not be null");return[e.createElement(a.DOM_CVSURVEY_TAGNAME)]},e.prototype.getJsonElements=function(){var e={};return e[a.JSON_CVSURVEY_KEYNAME]=this.getFormId(),e},e.prototype.getComponentJson=function(){var e;return(e={})[a.JSON_CVSURVEYFORMID_KEYNAME]=this.getFormId(),e},e}();!function(e){e.CVSurveyComponentData=function(){}}(i||(i={})),e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileBasedGovernedChannelStateProvider=t.HostBasedGovernedChannelStateProvider=t.GovernedChannelStateProviderFactory=t.GovernedChannelState=void 0;var a=n(14),i=n(15),r=n(20),o=n(17),s=n(38),c=n(9),d=a.FileType,l=function(){function e(e,t){if(this.ChannelType=e,this.CooldownStartTimeUtc=t,!this.validate())throw new Error("Constructor arguments are not valid")}return e.deserialize=function(t){var n;if(!t)return null;try{n=new e(t.ChannelType,t.CooldownStartTimeUtc)}catch(e){return r.FloodgateEngine.getTelemetryLogger().log_Event(i.TelemetryEvent.GovernedChannelState.Deserialize.Failed,{ErrorMessage:e.toString()}),null}return n},e.prototype.validate=function(){return!!c.isEnumValue(this.ChannelType,o.GovernedChannelType)&&(c.isUtcDatetimeString(this.CooldownStartTimeUtc)?this.CooldownStartTimeUtc=c.stringToDate(this.CooldownStartTimeUtc):!c.isNOU(this.CooldownStartTimeUtc)&&c.isDate(this.CooldownStartTimeUtc)||(this.CooldownStartTimeUtc=c.getDistantPast()),!0)},e.prototype.getType=function(){return this.ChannelType},e.prototype.getCooldownStartTime=function(){return this.CooldownStartTimeUtc},e}();t.GovernedChannelState=l;var u=function(){function e(){}return e.make=function(e,t){return t?new p(e,t):new m(e)},e}();t.GovernedChannelStateProviderFactory=u;var f=function(){},p=function(){function e(e,t){if(!t)throw new Error("host-based storage must not be null");this.hostBasedStorage=t,e&&(this.fileBasedStateProvider=new m(e))}return e.prototype.load=function(){var e,t=this.getStatesFromHost();return this.fileBasedStateProvider&&(e=this.fileBasedStateProvider.load()),s.MergeAndUpdateGovernedChannelStates(e,t).find(0)},e.prototype.save=function(e){var t=this;if(e){var n=this.getStatesFromHost(),a=s.MergeAndUpdateGovernedChannelStates(e,n),i=a.find(1),r=a.find(0);i&&i.forEach(function(e){var n=s.makeSettingItemValue(JSON.stringify(e));t.hostBasedStorage.upsertSettingItem(d[d.GovernedChannelStates],String(e.getType()),n)}),this.fileBasedStateProvider&&this.fileBasedStateProvider.save(r)}},e.prototype.getStatesFromHost=function(){var e=[],t=this.hostBasedStorage.readSettingList(d[d.GovernedChannelStates]);for(var n in t)if(t.hasOwnProperty(n)){var a=t[n],o=s.extractSettingItemValueSubString(a),c={};try{c=JSON.parse(o);var u=l.deserialize(c);u&&e.push(u)}catch(e){r.FloodgateEngine.getTelemetryLogger().log_Event(i.TelemetryEvent.HostBasedGovernedChannelStateProvider.GetStatesFromHost.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+e.toString()+".  Input:"+o})}}return e},e}();t.HostBasedGovernedChannelStateProvider=p;var m=function(){function e(e){if(!e)throw new Error("storage must not be null");this.storage=e}return e.prototype.load=function(){var e,t=this.storage.read(d.GovernedChannelStates);if(!t)return[];try{e=JSON.parse(t);var n=[];return e&&e.ChannelStates&&e.ChannelStates.forEach(function(e){var t=l.deserialize(e);t&&n.push(t)}),n}catch(e){return r.FloodgateEngine.getTelemetryLogger().log_Event(i.TelemetryEvent.FileBasedGovernedChannelStateProvider.Load.Failed,{ErrorMessage:"Json parsing/deserializing failed. "+e.toString()+".  Input:"+t}),[]}},e.prototype.save=function(e){if(e){var t=new f;t.ChannelStates=e;var n=JSON.stringify(t);this.storage.write(d.GovernedChannelStates,n)}},e}();t.FileBasedGovernedChannelStateProvider=m},function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.SurveyEventActivityStats=t.SurveyStatCollectionEventActivity=void 0;var r=n(15),o=n(20),s=n(45),c=n(9),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.fromJson=function(e){var n,a=new t;if(!e)return a;try{n=JSON.parse(e)}catch(e){return o.FloodgateEngine.getTelemetryLogger().log_Event(r.TelemetryEvent.SurveyStatCollectionEventActivity.FromJson.Failed,{ErrorMessage:"Json parsing failed. "+e.toString()}),a}return a.deserialize(n)?a:new t},t.toJson=function(e){return e||(o.FloodgateEngine.getTelemetryLogger().log_Event(r.TelemetryEvent.SurveyStatCollectionEventActivity.ToJson.Failed,{ErrorMessage:"Input json is null or empty."}),e=new t),JSON.stringify(e)},t.prototype.accumulate=function(e){if(e){var t=e.getStats();for(var n in t)if(t.hasOwnProperty(n)){var a=this.getBySurveyId(n);if(a||((a=new l).Counts=[],this.addStats(n,a)),a.ExpirationTimeUtc=t[n].ExpirationTimeUtc,a.Counts.length<t[n].Counts.length){var i=a.Counts.slice();a.Counts=i}for(var r=0;r<t[n].Counts.length;r++)a.Counts[r]||(a.Counts[r]=0),a.Counts[r]+=t[n].Counts[r]}}},t.prototype.deserialize=function(e){var t=e.Surveys,n=new Date;for(var a in t)if(t.hasOwnProperty(a)){var i=new l;i.deserialize(t[a])&&i.ExpirationTimeUtc>n&&this.addStats(a,i)}return this.validate()},t.prototype.validate=function(){return c.isObject(this.getStats())},t}(s.SurveyStatCollection);t.SurveyStatCollectionEventActivity=d;var l=function(){function e(){}return e.prototype.deserialize=function(e){return this.ExpirationTimeUtc=e.ExpirationTimeUtc,this.Counts=e.Counts,this.validate()},e.prototype.validate=function(){if(!this.Counts)return!1;for(var e=0;e<this.Counts.length;e++){var t=this.Counts[e];if(!c.isNumber(t))return!1;t<0&&(this.Counts[e]=0)}return!!c.isUtcDatetimeString(this.ExpirationTimeUtc)&&(this.ExpirationTimeUtc=c.stringToDate(this.ExpirationTimeUtc),!0)},e}();t.SurveyEventActivityStats=l},function(e,t){},function(e,t,n){e.exports=function(){"use strict";var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};function t(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}var n=function(){return(n=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t,n,a){return new(n||(n=Promise))(function(i,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,s)}c((a=a.apply(e,t||[])).next())})}function i(e,t){var n,a,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,a&&(i=2&r[0]?a.return:r[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,r[1])).done)return i;switch(a=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,a=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],a=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function r(e,t,n){if(n||2===arguments.length)for(var a,i=0,r=t.length;i<r;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||t)}for(var o=function(){function e(e,t,n,a){this.left=e,this.top=t,this.width=n,this.height=a}return e.prototype.add=function(t,n,a,i){return new e(this.left+t,this.top+n,this.width+a,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var a=Array.from(n).find(function(e){return 0!==e.width});return a?new e(a.left+t.windowBounds.left,a.top+t.windowBounds.top,a.width,a.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},c=function(e){for(var t=[],n=0,a=e.length;n<a;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<a){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t},d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var a=[],i=-1,r="";++i<n;){var o=e[i];o<=65535?a.push(o):(o-=65536,a.push(55296+(o>>10),o%1024+56320)),(i+1===n||a.length>16384)&&(r+=String.fromCharCode.apply(String,a),a.length=0)}return r},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),f=0;f<l.length;f++)u[l.charCodeAt(f)]=f;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="undefined"==typeof Uint8Array?[]:new Uint8Array(256),_=0;_<p.length;_++)m[p.charCodeAt(_)]=_;for(var h=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},b=function(){function e(e,t,n,a,i,r){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=r}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="undefined"==typeof Uint8Array?[]:new Uint8Array(256),y=0;y<g.length;y++)v[g.charCodeAt(y)]=y;var S=10,D=13,I=15,x=17,C=18,O=19,w=20,E=21,A=22,L=24,k=25,M=26,P=27,T=28,U=30,F=32,H=33,R=34,N=35,B=37,j=38,V=39,z=40,G=42,K=[9001,65288],W=function(e,t){var n,a,i,r=function(e){var t,n,a,i,r,o=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var d="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(d)?d:new Uint8Array(d);for(t=0;t<s;t+=4)n=m[e.charCodeAt(t)],a=m[e.charCodeAt(t+1)],i=m[e.charCodeAt(t+2)],r=m[e.charCodeAt(t+3)],l[c++]=n<<2|a>>4,l[c++]=(15&a)<<4|i>>2,l[c++]=(3&i)<<6|63&r;return d}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),o=Array.isArray(r)?function(e){for(var t=e.length,n=[],a=0;a<t;a+=4)n.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return n}(r):new Uint32Array(r),s=Array.isArray(r)?function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n.push(e[a+1]<<8|e[a]);return n}(r):new Uint16Array(r),c=h(s,12,o[4]/2),d=2===o[5]?h(s,(24+o[4])/2):(n=o,a=Math.ceil((24+o[4])/4),n.slice?n.slice(a,i):new Uint32Array(Array.prototype.slice.call(n,a,i)));return new b(o[0],o[1],o[2],o[3],c,d)}(),q=[U,36],Q=[1,2,3,5],Y=[S,8],J=[P,M],X=Q.concat(Y),Z=[j,V,z,R,N],$=[I,D],ee=function(e,t,n,a){var i=a[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var r=n;r<=a.length;){if((c=a[++r])===t)return!0;if(c!==S)break}if(i===S)for(r=n;r>0;){var o=a[--r];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=n;s<=a.length;){var c;if((c=a[++s])===t)return!0;if(c!==S)break}if(o!==S)break}return!1},te=function(e,t){for(var n=e;n>=0;){var a=t[n];if(a!==S)return a;n--}return 0},ne=function(e,t,n,a,i){if(0===n[a])return"×";var r=a-1;if(Array.isArray(i)&&!0===i[r])return"×";var o=r-1,s=r+1,c=t[r],d=o>=0?t[o]:0,l=t[s];if(2===c&&3===l)return"×";if(-1!==Q.indexOf(c))return"!";if(-1!==Q.indexOf(l))return"×";if(-1!==Y.indexOf(l))return"×";if(8===te(r,t))return"÷";if(11===W.get(e[r]))return"×";if((c===F||c===H)&&11===W.get(e[s]))return"×";if(7===c||7===l)return"×";if(9===c)return"×";if(-1===[S,D,I].indexOf(c)&&9===l)return"×";if(-1!==[x,C,O,L,T].indexOf(l))return"×";if(te(r,t)===A)return"×";if(ee(23,A,r,t))return"×";if(ee([x,C],E,r,t))return"×";if(ee(12,12,r,t))return"×";if(c===S)return"÷";if(23===c||23===l)return"×";if(16===l||16===c)return"÷";if(-1!==[D,I,E].indexOf(l)||14===c)return"×";if(36===d&&-1!==$.indexOf(c))return"×";if(c===T&&36===l)return"×";if(l===w)return"×";if(-1!==q.indexOf(l)&&c===k||-1!==q.indexOf(c)&&l===k)return"×";if(c===P&&-1!==[B,F,H].indexOf(l)||-1!==[B,F,H].indexOf(c)&&l===M)return"×";if(-1!==q.indexOf(c)&&-1!==J.indexOf(l)||-1!==J.indexOf(c)&&-1!==q.indexOf(l))return"×";if(-1!==[P,M].indexOf(c)&&(l===k||-1!==[A,I].indexOf(l)&&t[s+1]===k)||-1!==[A,I].indexOf(c)&&l===k||c===k&&-1!==[k,T,L].indexOf(l))return"×";if(-1!==[k,T,L,x,C].indexOf(l))for(var u=r;u>=0;){if((f=t[u])===k)return"×";if(-1===[T,L].indexOf(f))break;u--}if(-1!==[P,M].indexOf(l))for(u=-1!==[x,C].indexOf(c)?o:r;u>=0;){var f;if((f=t[u])===k)return"×";if(-1===[T,L].indexOf(f))break;u--}if(j===c&&-1!==[j,V,R,N].indexOf(l)||-1!==[V,R].indexOf(c)&&-1!==[V,z].indexOf(l)||-1!==[z,N].indexOf(c)&&l===z)return"×";if(-1!==Z.indexOf(c)&&-1!==[w,M].indexOf(l)||-1!==Z.indexOf(l)&&c===P)return"×";if(-1!==q.indexOf(c)&&-1!==q.indexOf(l))return"×";if(c===L&&-1!==q.indexOf(l))return"×";if(-1!==q.concat(k).indexOf(c)&&l===A&&-1===K.indexOf(e[s])||-1!==q.concat(k).indexOf(l)&&c===C)return"×";if(41===c&&41===l){for(var p=n[r],m=1;p>0&&41===t[--p];)m++;if(m%2!=0)return"×"}return c===F&&l===H?"×":"÷"},ae=function(){function e(e,t,n,a){this.codePoints=e,this.required="!"===t,this.start=n,this.end=a}return e.prototype.slice=function(){return d.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),ie=function(e){return e>=48&&e<=57},re=function(e){return ie(e)||e>=65&&e<=70||e>=97&&e<=102},oe=function(e){return 10===e||9===e||32===e},se=function(e){return function(e){return function(e){return e>=97&&e<=122}(e)||function(e){return e>=65&&e<=90}(e)}(e)||function(e){return e>=128}(e)||95===e},ce=function(e){return se(e)||ie(e)||45===e},de=function(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e},le=function(e,t){return 92===e&&10!==t},ue=function(e,t,n){return 45===e?se(t)||le(t,n):!!se(e)||!(92!==e||!le(e,t))},fe=function(e,t,n){return 43===e||45===e?!!ie(t)||46===t&&ie(n):ie(46===e?t:e)},pe=function(e){var t=0,n=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(n=-1),t++);for(var a=[];ie(e[t]);)a.push(e[t++]);var i=a.length?parseInt(d.apply(void 0,a),10):0;46===e[t]&&t++;for(var r=[];ie(e[t]);)r.push(e[t++]);var o=r.length,s=o?parseInt(d.apply(void 0,r),10):0;69!==e[t]&&101!==e[t]||t++;var c=1;43!==e[t]&&45!==e[t]||(45===e[t]&&(c=-1),t++);for(var l=[];ie(e[t]);)l.push(e[t++]);var u=l.length?parseInt(d.apply(void 0,l),10):0;return n*(i+s*Math.pow(10,-o))*Math.pow(10,c*u)},me={type:2},_e={type:3},he={type:4},be={type:13},ge={type:8},ve={type:21},ye={type:9},Se={type:10},De={type:11},Ie={type:12},xe={type:14},Ce={type:23},Oe={type:1},we={type:25},Ee={type:24},Ae={type:26},Le={type:27},ke={type:28},Me={type:29},Pe={type:31},Te={type:32},Ue=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Te;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),a=this.peekCodePoint(2);if(ce(t)||le(n,a)){var i=ue(t,n,a)?2:1;return{type:5,value:this.consumeName(),flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),be;break;case 39:return this.consumeStringToken(39);case 40:return me;case 41:return _e;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),xe;break;case 43:case 46:if(fe(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return he;case 45:var r=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(fe(r,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(ue(r,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(45===o&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),Ee;break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(42===c&&47===(c=this.consumeCodePoint()))return this.consumeToken();if(-1===c)return this.consumeToken()}break;case 58:return Ae;case 59:return Le;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),we;break;case 64:var l=this.peekCodePoint(0),u=this.peekCodePoint(1),f=this.peekCodePoint(2);if(ue(l,u,f))return{type:7,value:this.consumeName()};break;case 91:return ke;case 92:if(le(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return Me;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ge;break;case 123:return De;case 125:return Ie;case 117:case 85:var p=this.peekCodePoint(0),m=this.peekCodePoint(1);return 43!==p||!re(m)&&63!==m||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ye;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),ve;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Se;break;case-1:return Te}return oe(e)?(this.consumeWhiteSpace(),Pe):ie(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):se(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:d(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();re(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(d.apply(void 0,e.map(function(e){return 63===e?48:e})),16),end:parseInt(d.apply(void 0,e.map(function(e){return 63===e?70:e})),16)};var a=parseInt(d.apply(void 0,e),16);if(45===this.peekCodePoint(0)&&re(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];re(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:a,end:parseInt(d.apply(void 0,i),16)}}return{type:30,start:a,end:a}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Ce)}for(;;){var a=this.consumeCodePoint();if(-1===a||41===a)return{type:22,value:d.apply(void 0,e)};if(oe(a))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:d.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Ce);if(34===a||39===a||40===a||de(a))return this.consumeBadUrlRemnants(),Ce;if(92===a){if(!le(a,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Ce;e.push(this.consumeEscapedCodePoint())}else e.push(a)}},e.prototype.consumeWhiteSpace=function(){for(;oe(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||-1===e)return;le(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t="";e>0;){var n=Math.min(5e4,e);t+=d.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var a=this._value[n];if(-1===a||void 0===a||a===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(10===a)return this._value.splice(0,n),Oe;if(92===a){var i=this._value[n+1];-1!==i&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):le(a,i)&&(t+=this.consumeStringSlice(n),t+=d(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||e.push(this.consumeCodePoint());ie(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var a=this.peekCodePoint(1);if(46===n&&ie(a))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ie(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),a=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===n||101===n)&&((43===a||45===a)&&ie(i)||ie(a)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ie(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[pe(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],a=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);return ue(a,i,r)?{type:15,number:t,flags:n,unit:this.consumeName()}:37===a?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(re(e)){for(var t=d(e);re(this.peekCodePoint(0))&&t.length<6;)t+=d(this.consumeCodePoint());oe(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||function(e){return e>=55296&&e<=57343}(n)||n>1114111?65533:n}return-1===e?65533:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(ce(t))e+=d(t);else{if(!le(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=d(this.consumeEscapedCodePoint())}}},e}(),Fe=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Ue;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Ke(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?Te:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),He=function(e){return 15===e.type},Re=function(e){return 17===e.type},Ne=function(e){return 20===e.type},Be=function(e){return 0===e.type},je=function(e,t){return Ne(e)&&e.value===t},Ve=function(e){return 31!==e.type},ze=function(e){return 31!==e.type&&4!==e.type},Ge=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Ke=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},We=function(e){return 17===e.type||15===e.type},qe=function(e){return 16===e.type||We(e)},Qe=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ye={type:17,number:0,flags:4},Je={type:16,number:50,flags:4},Xe={type:16,number:100,flags:4},Ze=function(e,t,n){var a=e[0],i=e[1];return[$e(a,t),$e(void 0!==i?i:a,n)]},$e=function(e,t){if(16===e.type)return e.number/100*t;if(He(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},et=function(e,t){if(15===t.type)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},tt=function(e){return 15===e.type&&("deg"===e.unit||"grad"===e.unit||"rad"===e.unit||"turn"===e.unit)},nt=function(e){switch(e.filter(Ne).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ye,Ye];case"to top":case"bottom":return at(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ye,Xe];case"to right":case"left":return at(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Xe,Xe];case"to bottom":case"top":return at(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Xe,Ye];case"to left":case"right":return at(270)}return 0},at=function(e){return Math.PI*e/180},it=function(e,t){if(18===t.type){var n=pt[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var a=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);return st(parseInt(a+a,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(4===t.value.length){a=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);var o=t.value.substring(3,4);return st(parseInt(a+a,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===t.value.length)return a=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),st(parseInt(a,16),parseInt(i,16),parseInt(r,16),1);if(8===t.value.length)return a=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),o=t.value.substring(6,8),st(parseInt(a,16),parseInt(i,16),parseInt(r,16),parseInt(o,16)/255)}if(20===t.type){var s=_t[t.value.toUpperCase()];if(void 0!==s)return s}return _t.TRANSPARENT},rt=function(e){return 0==(255&e)},ot=function(e){var t=255&e,n=255&e>>8,a=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+a+","+n+","+t/255+")":"rgb("+i+","+a+","+n+")"},st=function(e,t,n,a){return(e<<24|t<<16|n<<8|Math.round(255*a)<<0)>>>0},ct=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},dt=function(e,t){var n=t.filter(ze);if(3===n.length){var a=n.map(ct),i=a[0],r=a[1],o=a[2];return st(i,r,o,1)}if(4===n.length){var s=n.map(ct),c=(i=s[0],r=s[1],o=s[2],s[3]);return st(i,r,o,c)}return 0};function lt(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var ut,ft=function(e,t){var n=t.filter(ze),a=n[0],i=n[1],r=n[2],o=n[3],s=(17===a.type?at(a.number):et(0,a))/(2*Math.PI),c=qe(i)?i.number/100:0,d=qe(r)?r.number/100:0,l=void 0!==o&&qe(o)?$e(o,1):1;if(0===c)return st(255*d,255*d,255*d,1);var u=d<=.5?d*(c+1):d+c-d*c,f=2*d-u,p=lt(f,u,s+1/3),m=lt(f,u,s),_=lt(f,u,s-1/3);return st(255*p,255*m,255*_,l)},pt={hsl:ft,hsla:ft,rgb:dt,rgba:dt},mt=function(e,t){return it(e,Fe.create(t).parseComponentValue())},_t={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ht={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Ne(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},bt={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gt=function(e,t){var n=it(e,t[0]),a=t[1];return a&&qe(a)?{color:n,stop:a}:{color:n,stop:null}},vt=function(e,t){var n=e[0],a=e[e.length-1];null===n.stop&&(n.stop=Ye),null===a.stop&&(a.stop=Xe);for(var i=[],r=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var c=$e(s,t);c>r?i.push(c):i.push(r),r=c}else i.push(null)}var d=null;for(o=0;o<i.length;o++){var l=i[o];if(null===l)null===d&&(d=o);else if(null!==d){for(var u=o-d,f=(l-i[d-1])/(u+1),p=1;p<=u;p++)i[d+p-1]=f*p;d=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}})},yt=function(e,t){return Math.sqrt(e*e+t*t)},St=function(e,t,n,a,i){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var r=t[0],o=t[1],s=yt(n-r,a-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Dt=function(e,t){var n=at(180),a=[];return Ge(t).forEach(function(t,i){if(0===i){var r=t[0];if(20===r.type&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(n=nt(t));if(tt(r))return void(n=(et(0,r)+at(270))%at(360))}var o=gt(e,t);a.push(o)}),{angle:n,stops:a,type:1}},It=function(e,t){var n=0,a=3,i=[],r=[];return Ge(t).forEach(function(t,o){var s=!0;if(0===o?s=t.reduce(function(e,t){if(Ne(t))switch(t.value){case"center":return r.push(Je),!1;case"top":case"left":return r.push(Ye),!1;case"right":case"bottom":return r.push(Xe),!1}else if(qe(t)||We(t))return r.push(t),!1;return e},s):1===o&&(s=t.reduce(function(e,t){if(Ne(t))switch(t.value){case"circle":return n=0,!1;case"ellipse":return n=1,!1;case"contain":case"closest-side":return a=0,!1;case"farthest-side":return a=1,!1;case"closest-corner":return a=2,!1;case"cover":case"farthest-corner":return a=3,!1}else if(We(t)||qe(t))return Array.isArray(a)||(a=[]),a.push(t),!1;return e},s)),s){var c=gt(e,t);i.push(c)}}),{size:a,shape:n,stops:i,position:r,type:2}},xt=function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var a=Ct[t.name];if(void 0===a)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return a(e,t.values)}throw new Error("Unsupported image type "+t.type)},Ct={"linear-gradient":function(e,t){var n=at(180),a=[];return Ge(t).forEach(function(t,i){if(0===i){var r=t[0];if(20===r.type&&"to"===r.value)return void(n=nt(t));if(tt(r))return void(n=et(0,r))}var o=gt(e,t);a.push(o)}),{angle:n,stops:a,type:1}},"-moz-linear-gradient":Dt,"-ms-linear-gradient":Dt,"-o-linear-gradient":Dt,"-webkit-linear-gradient":Dt,"radial-gradient":function(e,t){var n=0,a=3,i=[],r=[];return Ge(t).forEach(function(t,o){var s=!0;if(0===o){var c=!1;s=t.reduce(function(e,t){if(c)if(Ne(t))switch(t.value){case"center":return r.push(Je),e;case"top":case"left":return r.push(Ye),e;case"right":case"bottom":return r.push(Xe),e}else(qe(t)||We(t))&&r.push(t);else if(Ne(t))switch(t.value){case"circle":return n=0,!1;case"ellipse":return n=1,!1;case"at":return c=!0,!1;case"closest-side":return a=0,!1;case"cover":case"farthest-side":return a=1,!1;case"contain":case"closest-corner":return a=2,!1;case"farthest-corner":return a=3,!1}else if(We(t)||qe(t))return Array.isArray(a)||(a=[]),a.push(t),!1;return e},s)}if(s){var d=gt(e,t);i.push(d)}}),{size:a,shape:n,stops:i,position:r,type:2}},"-moz-radial-gradient":It,"-ms-radial-gradient":It,"-o-radial-gradient":It,"-webkit-radial-gradient":It,"-webkit-gradient":function(e,t){var n=at(180),a=[],i=1;return Ge(t).forEach(function(t,n){var r=t[0];if(0===n){if(Ne(r)&&"linear"===r.value)return void(i=1);if(Ne(r)&&"radial"===r.value)return void(i=2)}if(18===r.type)if("from"===r.name){var o=it(e,r.values[0]);a.push({stop:Ye,color:o})}else if("to"===r.name)o=it(e,r.values[0]),a.push({stop:Xe,color:o});else if("color-stop"===r.name){var s=r.values.filter(ze);if(2===s.length){o=it(e,s[1]);var c=s[0];Re(c)&&a.push({stop:{type:16,number:100*c.number,flags:c.flags},color:o})}}}),1===i?{angle:(n+at(180))%at(360),stops:a,type:i}:{size:3,shape:0,stops:a,position:[],type:i}}},Ot={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return ze(e)&&function(e){return!(20===e.type&&"none"===e.value||18===e.type&&!Ct[e.name])}(e)}).map(function(t){return xt(e,t)})}},wt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Ne(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Et={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Ge(t).map(function(e){return e.filter(qe)}).map(Qe)}},At={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Ge(t).map(function(e){return e.filter(Ne).map(function(e){return e.value}).join(" ")}).map(Lt)}},Lt=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(ut||(ut={}));var kt,Mt={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Ge(t).map(function(e){return e.filter(Pt)})}},Pt=function(e){return Ne(e)||qe(e)},Tt=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Ut=Tt("top"),Ft=Tt("right"),Ht=Tt("bottom"),Rt=Tt("left"),Nt=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return Qe(t.filter(qe))}}},Bt=Nt("top-left"),jt=Nt("top-right"),Vt=Nt("bottom-right"),zt=Nt("bottom-left"),Gt=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Kt=Gt("top"),Wt=Gt("right"),qt=Gt("bottom"),Qt=Gt("left"),Yt=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return He(t)?t.number:0}}},Jt=Yt("top"),Xt=Yt("right"),Zt=Yt("bottom"),$t=Yt("left"),en={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},tn={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},nn={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Ne).reduce(function(e,t){return e|an(t.value)},0)}},an=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},rn={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},on={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(kt||(kt={}));var sn,cn={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?kt.STRICT:kt.NORMAL}},dn={name:"line-height",initialValue:"normal",prefix:!1,type:4},ln=function(e,t){return Ne(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:qe(e)?$e(e,t):t},un={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:xt(e,t)}},fn={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},pn={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},mn=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},_n=mn("top"),hn=mn("right"),bn=mn("bottom"),gn=mn("left"),vn={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Ne).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},yn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Sn=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Dn=Sn("top"),In=Sn("right"),xn=Sn("bottom"),Cn=Sn("left"),On={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},wn={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},En={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&je(t[0],"none")?[]:Ge(t).map(function(t){for(var n={color:_t.TRANSPARENT,offsetX:Ye,offsetY:Ye,blur:Ye},a=0,i=0;i<t.length;i++){var r=t[i];We(r)?(0===a?n.offsetX=r:1===a?n.offsetY=r:n.blur=r,a++):n.color=it(e,r)}return n})}},An={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Ln={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=kn[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},kn={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],a=t[1];t[2],t[3];var i=t[4],r=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[n,a,i,r,o,s]:null}},Mn={type:16,number:50,flags:4},Pn=[Mn,Mn],Tn={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(qe);return 2!==n.length?Pn:[n[0],n[1]]}},Un={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(sn||(sn={}));for(var Fn={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return sn.BREAK_ALL;case"keep-all":return sn.KEEP_ALL;default:return sn.NORMAL}}},Hn={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Re(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Rn=function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")},Nn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Re(t)?t.number:1}},Bn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},jn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Ne).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},Vn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],a=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:a.push(n.join(" ")),n.length=0}}),n.length&&a.push(n.join(" ")),a.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},zn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Gn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Re(t)?t.number:Ne(t)&&"bold"===t.value?700:400}},Kn={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Ne).map(function(e){return e.value})}},Wn={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},qn=function(e,t){return 0!=(e&t)},Qn={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},Yn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var a=[],i=t.filter(Ve),r=0;r<i.length;r++){var o=i[r],s=i[r+1];if(20===o.type){var c=s&&Re(s)?s.number:1;a.push({counter:o.value,increment:c})}}return a}},Jn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],a=t.filter(Ve),i=0;i<a.length;i++){var r=a[i],o=a[i+1];if(Ne(r)&&"none"!==r.value){var s=o&&Re(o)?o.number:0;n.push({counter:r.value,reset:s})}}return n}},Xn={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(He).map(function(e){return Rn(0,e)})}},Zn={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var a=[],i=t.filter(Be);if(i.length%2!=0)return null;for(var r=0;r<i.length;r+=2){var o=i[r].value,s=i[r+1].value;a.push({open:o,close:s})}return a}},$n=function(e,t,n){if(!e)return"";var a=e[Math.min(t,e.length-1)];return a?n?a.open:a.close:""},ea={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&je(t[0],"none")?[]:Ge(t).map(function(t){for(var n={color:255,offsetX:Ye,offsetY:Ye,blur:Ye,spread:Ye,inset:!1},a=0,i=0;i<t.length;i++){var r=t[i];je(r,"inset")?n.inset=!0:We(r)?(0===a?n.offsetX=r:1===a?n.offsetY=r:2===a?n.blur=r:n.spread=r,a++):n.color=it(e,r)}return n})}},ta={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[];return t.filter(Ne).forEach(function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}}),[0,1,2].forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n}},na={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},aa={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return He(t)?t.number:0}},ia=function(){function e(e,t){var n,a;this.animationDuration=sa(e,Xn,t.animationDuration),this.backgroundClip=sa(e,ht,t.backgroundClip),this.backgroundColor=sa(e,bt,t.backgroundColor),this.backgroundImage=sa(e,Ot,t.backgroundImage),this.backgroundOrigin=sa(e,wt,t.backgroundOrigin),this.backgroundPosition=sa(e,Et,t.backgroundPosition),this.backgroundRepeat=sa(e,At,t.backgroundRepeat),this.backgroundSize=sa(e,Mt,t.backgroundSize),this.borderTopColor=sa(e,Ut,t.borderTopColor),this.borderRightColor=sa(e,Ft,t.borderRightColor),this.borderBottomColor=sa(e,Ht,t.borderBottomColor),this.borderLeftColor=sa(e,Rt,t.borderLeftColor),this.borderTopLeftRadius=sa(e,Bt,t.borderTopLeftRadius),this.borderTopRightRadius=sa(e,jt,t.borderTopRightRadius),this.borderBottomRightRadius=sa(e,Vt,t.borderBottomRightRadius),this.borderBottomLeftRadius=sa(e,zt,t.borderBottomLeftRadius),this.borderTopStyle=sa(e,Kt,t.borderTopStyle),this.borderRightStyle=sa(e,Wt,t.borderRightStyle),this.borderBottomStyle=sa(e,qt,t.borderBottomStyle),this.borderLeftStyle=sa(e,Qt,t.borderLeftStyle),this.borderTopWidth=sa(e,Jt,t.borderTopWidth),this.borderRightWidth=sa(e,Xt,t.borderRightWidth),this.borderBottomWidth=sa(e,Zt,t.borderBottomWidth),this.borderLeftWidth=sa(e,$t,t.borderLeftWidth),this.boxShadow=sa(e,ea,t.boxShadow),this.color=sa(e,en,t.color),this.direction=sa(e,tn,t.direction),this.display=sa(e,nn,t.display),this.float=sa(e,rn,t.cssFloat),this.fontFamily=sa(e,Vn,t.fontFamily),this.fontSize=sa(e,zn,t.fontSize),this.fontStyle=sa(e,Wn,t.fontStyle),this.fontVariant=sa(e,Kn,t.fontVariant),this.fontWeight=sa(e,Gn,t.fontWeight),this.letterSpacing=sa(e,on,t.letterSpacing),this.lineBreak=sa(e,cn,t.lineBreak),this.lineHeight=sa(e,dn,t.lineHeight),this.listStyleImage=sa(e,un,t.listStyleImage),this.listStylePosition=sa(e,fn,t.listStylePosition),this.listStyleType=sa(e,pn,t.listStyleType),this.marginTop=sa(e,_n,t.marginTop),this.marginRight=sa(e,hn,t.marginRight),this.marginBottom=sa(e,bn,t.marginBottom),this.marginLeft=sa(e,gn,t.marginLeft),this.opacity=sa(e,Nn,t.opacity);var i=sa(e,vn,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=sa(e,yn,t.overflowWrap),this.paddingTop=sa(e,Dn,t.paddingTop),this.paddingRight=sa(e,In,t.paddingRight),this.paddingBottom=sa(e,xn,t.paddingBottom),this.paddingLeft=sa(e,Cn,t.paddingLeft),this.paintOrder=sa(e,ta,t.paintOrder),this.position=sa(e,wn,t.position),this.textAlign=sa(e,On,t.textAlign),this.textDecorationColor=sa(e,Bn,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=sa(e,jn,null!==(a=t.textDecorationLine)&&void 0!==a?a:t.textDecoration),this.textShadow=sa(e,En,t.textShadow),this.textTransform=sa(e,An,t.textTransform),this.transform=sa(e,Ln,t.transform),this.transformOrigin=sa(e,Tn,t.transformOrigin),this.visibility=sa(e,Un,t.visibility),this.webkitTextStrokeColor=sa(e,na,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=sa(e,aa,t.webkitTextStrokeWidth),this.wordBreak=sa(e,Fn,t.wordBreak),this.zIndex=sa(e,Hn,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rt(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return qn(this.display,4)||qn(this.display,33554432)||qn(this.display,268435456)||qn(this.display,536870912)||qn(this.display,67108864)||qn(this.display,134217728)},e}(),ra=function(e,t){this.content=sa(e,Qn,t.content),this.quotes=sa(e,Zn,t.quotes)},oa=function(e,t){this.counterIncrement=sa(e,Yn,t.counterIncrement),this.counterReset=sa(e,Jn,t.counterReset)},sa=function(e,t,n){var a=new Ue,i=null!=n?n.toString():t.initialValue;a.write(i);var r=new Fe(a.read());switch(t.type){case 2:var o=r.parseComponentValue();return t.parse(e,Ne(o)?o.value:t.initialValue);case 0:return t.parse(e,r.parseComponentValue());case 1:return t.parse(e,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(t.format){case"angle":return et(0,r.parseComponentValue());case"color":return it(e,r.parseComponentValue());case"image":return xt(e,r.parseComponentValue());case"length":var s=r.parseComponentValue();return We(s)?s:Ye;case"length-percentage":var c=r.parseComponentValue();return qe(c)?c:Ye;case"time":return Rn(0,r.parseComponentValue())}}},ca=function(e,t){var n=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(e);return 1===n||t===n},da=function(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,ca(t,3),this.styles=new ia(e,window.getComputedStyle(t,null)),oi(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),ca(t,4)&&(this.flags|=16)},la="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ua="undefined"==typeof Uint8Array?[]:new Uint8Array(256),fa=0;fa<la.length;fa++)ua[la.charCodeAt(fa)]=fa;for(var pa=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},ma=function(){function e(e,t,n,a,i,r){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=a,this.index=i,this.data=r}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),_a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ha="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ba=0;ba<_a.length;ba++)ha[_a.charCodeAt(ba)]=ba;var ga,va=8,ya=9,Sa=11,Da=12,Ia=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var a=[],i=-1,r="";++i<n;){var o=e[i];o<=65535?a.push(o):(o-=65536,a.push(55296+(o>>10),o%1024+56320)),(i+1===n||a.length>16384)&&(r+=String.fromCharCode.apply(String,a),a.length=0)}return r},xa=function(e,t){var n,a,i,r=function(e){var t,n,a,i,r,o=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var d="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(d)?d:new Uint8Array(d);for(t=0;t<s;t+=4)n=ua[e.charCodeAt(t)],a=ua[e.charCodeAt(t+1)],i=ua[e.charCodeAt(t+2)],r=ua[e.charCodeAt(t+3)],l[c++]=n<<2|a>>4,l[c++]=(15&a)<<4|i>>2,l[c++]=(3&i)<<6|63&r;return d}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),o=Array.isArray(r)?function(e){for(var t=e.length,n=[],a=0;a<t;a+=4)n.push(e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a]);return n}(r):new Uint32Array(r),s=Array.isArray(r)?function(e){for(var t=e.length,n=[],a=0;a<t;a+=2)n.push(e[a+1]<<8|e[a]);return n}(r):new Uint16Array(r),c=pa(s,12,o[4]/2),d=2===o[5]?pa(s,(24+o[4])/2):(n=o,a=Math.ceil((24+o[4])/4),n.slice?n.slice(a,i):new Uint32Array(Array.prototype.slice.call(n,a,i)));return new ma(o[0],o[1],o[2],o[3],c,d)}(),Ca=function(e){return xa.get(e)},Oa=function(e,t,n){var a=n-2,i=t[a],r=t[n-1],o=t[n];if(2===r&&3===o)return"×";if(2===r||3===r||4===r)return"÷";if(2===o||3===o||4===o)return"÷";if(r===va&&-1!==[va,ya,Sa,Da].indexOf(o))return"×";if(!(r!==Sa&&r!==ya||o!==ya&&10!==o))return"×";if((r===Da||10===r)&&10===o)return"×";if(13===o||5===o)return"×";if(7===o)return"×";if(1===r)return"×";if(13===r&&14===o){for(;5===i;)i=t[--a];if(14===i)return"×"}if(15===r&&15===o){for(var s=0;15===i;)s++,i=t[--a];if(s%2==0)return"×"}return"÷"},wa=function(e){var t=function(e){for(var t=[],n=0,a=e.length;n<a;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<a){var r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}(e),n=t.length,a=0,i=0,r=t.map(Ca);return{next:function(){if(a>=n)return{done:!0,value:null};for(var e="×";a<n&&"×"===(e=Oa(0,r,++a)););if("×"!==e||a===n){var o=Ia.apply(null,t.slice(i,a));return i=a,{value:o,done:!1}}return{done:!0,value:null}}}},Ea=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Aa=function(e,t,n,a,i){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",n.toString()),s.setAttributeNS(null,"y",a.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},La=function(e){return new Promise(function(t,n){var a=new Image;a.onload=function(){return t(a)},a.onerror=n,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},ka={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var a=t.getBoundingClientRect(),i=Math.round(a.height);if(e.body.removeChild(n),123===i)return!0}}return!1}(document);return Object.defineProperty(ka,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ka.SUPPORT_RANGE_BOUNDS&&function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var a=t.firstChild,i=c(a.data).map(function(e){return d(e)}),r=0,o={},s=i.every(function(e,t){n.setStart(a,r),n.setEnd(a,r+e.length);var i=n.getBoundingClientRect();r+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,0===t||s});return e.body.removeChild(t),s}(document);return Object.defineProperty(ka,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,n=e.createElement("canvas"),a=n.getContext("2d");if(!a)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{a.drawImage(t,0,0),n.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(ka,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas");t.width=100,t.height=100;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var a=new Image,i=t.toDataURL();a.src=i;var r=Aa(100,100,0,0,a);return n.fillStyle="red",n.fillRect(0,0,100,100),La(r).then(function(t){n.drawImage(t,0,0);var a=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var r=e.createElement("div");return r.style.backgroundImage="url("+i+")",r.style.height="100px",Ea(a)?La(Aa(100,100,0,0,r)):Promise.reject(!1)}).then(function(e){return n.drawImage(e,0,0),Ea(n.getImageData(0,0,100,100).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(ka,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(ka,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(ka,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ka,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(ka,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Ma=function(e,t){this.text=e,this.bounds=t},Pa=function(e,t){var n=t.ownerDocument;if(n){var a=n.createElement("html2canvaswrapper");a.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(a,t);var r=s(e,a);return a.firstChild&&i.replaceChild(a.firstChild,a),r}}return o.EMPTY},Ta=function(e,t,n){var a=e.ownerDocument;if(!a)throw new Error("Node has no owner document");var i=a.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Ua=function(e){if(ka.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return function(e){for(var t,n=wa(e),a=[];!(t=n.next()).done;)t.value&&a.push(t.value.slice());return a}(e)},Fa=[32,160,4961,65792,65793,4153,4241],Ha=function(e,t,n){this.text=Ra(t.data,n.textTransform),this.textBounds=function(e,t,n,a){var i=function(e,t){return 0!==t.letterSpacing?Ua(e):function(e,t){if(ka.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return function(e,t){for(var n,a=function(e,t){var n=c(e),a=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=function(e,t){void 0===t&&(t="strict");var n=[],a=[],i=[];return e.forEach(function(e,r){var o=W.get(e);if(o>50?(i.push(!0),o-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return a.push(r),n.push(16);if(4===o||11===o){if(0===r)return a.push(r),n.push(U);var s=n[r-1];return-1===X.indexOf(s)?(a.push(a[r-1]),n.push(s)):(a.push(r),n.push(U))}return a.push(r),31===o?n.push("strict"===t?E:B):o===G||29===o?n.push(U):43===o?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(B):n.push(U):void n.push(o)}),[a,n,i]}(e,t.lineBreak),a=n[0],i=n[1],r=n[2];return"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map(function(e){return-1!==[k,U,G].indexOf(e)?B:e})),[a,i,"keep-all"===t.wordBreak?r.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0]}(n,t),i=a[0],r=a[1],o=a[2],s=n.length,d=0,l=0;return{next:function(){if(l>=s)return{done:!0,value:null};for(var e="×";l<s&&"×"===(e=ne(n,r,i,++l,o)););if("×"!==e||l===s){var t=new ae(n,e,d,l);return d=l,{value:t,done:!1}}return{done:!0,value:null}}}}(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],r=function(){if(n.value){var e=n.value.slice(),t=c(e),a="";t.forEach(function(e){-1===Fa.indexOf(e)?a+=d(e):(a.length&&i.push(a),i.push(d(e)),a="")}),a.length&&i.push(a)}};!(n=a.next()).done;)r();return i}(e,t)}(e,t)}(t,n),r=[],s=0;return i.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(ka.SUPPORT_RANGE_BOUNDS){var i=Ta(a,s,t.length).getClientRects();if(i.length>1){var c=Ua(t),d=0;c.forEach(function(t){r.push(new Ma(t,o.fromDOMRectList(e,Ta(a,d+s,t.length).getClientRects()))),d+=t.length})}else r.push(new Ma(t,o.fromDOMRectList(e,i)))}else{var l=a.splitText(t.length);r.push(new Ma(t,Pa(e,a))),a=l}else ka.SUPPORT_RANGE_BOUNDS||(a=a.splitText(t.length));s+=t.length}),r}(e,this.text,n,t)},Ra=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Na,Ba);case 2:return e.toUpperCase();default:return e}},Na=/(^|\s|:|-|\(|\))([a-z])/g,Ba=function(e,t,n){return e.length>0?t+n.toUpperCase():e},ja=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.src=n.currentSrc||n.src,a.intrinsicWidth=n.naturalWidth,a.intrinsicHeight=n.naturalHeight,a.context.cache.addImage(a.src),a}return t(n,e),n}(da),Va=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.canvas=n,a.intrinsicWidth=n.width,a.intrinsicHeight=n.height,a}return t(n,e),n}(da),za=function(e){function n(t,n){var a=e.call(this,t,n)||this,i=new XMLSerializer,r=s(t,n);return n.setAttribute("width",r.width+"px"),n.setAttribute("height",r.height+"px"),a.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),a.intrinsicWidth=n.width.baseVal.value,a.intrinsicHeight=n.height.baseVal.value,a.context.cache.addImage(a.svg),a}return t(n,e),n}(da),Ga=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.value=n.value,a}return t(n,e),n}(da),Ka=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.start=n.start,a.reversed="boolean"==typeof n.reversed&&!0===n.reversed,a}return t(n,e),n}(da),Wa=[{type:15,flags:0,unit:"px",number:3}],qa=[{type:16,flags:0,number:50}],Qa=function(e){function n(t,n){var a,i,r,s=e.call(this,t,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=0===(i="password"===(a=n).type?new Array(a.value.length+1).join("•"):a.value).length?a.placeholder||"":i,"checkbox"!==s.type&&"radio"!==s.type||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(r=s.bounds).width>r.height?new o(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new o(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r),s.type){case"checkbox":s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Wa;break;case"radio":s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=qa}return s}return t(n,e),n}(da),Ya=function(e){function n(t,n){var a=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return a.value=i&&i.text||"",a}return t(n,e),n}(da),Ja=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.value=n.value,a}return t(n,e),n}(da),Xa=function(e){function n(t,n){var a=e.call(this,t,n)||this;a.src=n.src,a.width=parseInt(n.width,10)||0,a.height=parseInt(n.height,10)||0,a.backgroundColor=a.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){a.tree=ti(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?mt(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):_t.TRANSPARENT,r=n.contentWindow.document.body?mt(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):_t.TRANSPARENT;a.backgroundColor=rt(i)?rt(r)?a.styles.backgroundColor:r:i}}catch(e){}return a}return t(n,e),n}(da),Za=["OL","UL","MENU"],$a=function(e,t,n,a){for(var i=t.firstChild,r=void 0;i;i=r)if(r=i.nextSibling,ii(i)&&i.data.trim().length>0)n.textNodes.push(new Ha(e,i,n.styles));else if(ri(i))if(yi(i)&&i.assignedNodes)i.assignedNodes().forEach(function(t){return $a(e,t,n,a)});else{var o=ei(e,i);o.styles.isVisible()&&(ni(i,o,a)?o.flags|=4:ai(o.styles)&&(o.flags|=2),-1!==Za.indexOf(i.tagName)&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?$a(e,i.shadowRoot,o,a):gi(i)||ui(i)||vi(i)||$a(e,i,o,a))}},ei=function(e,t){return _i(t)?new ja(e,t):pi(t)?new Va(e,t):ui(t)?new za(e,t):ci(t)?new Ga(e,t):di(t)?new Ka(e,t):li(t)?new Qa(e,t):vi(t)?new Ya(e,t):gi(t)?new Ja(e,t):hi(t)?new Xa(e,t):new da(e,t)},ti=function(e,t){var n=ei(e,t);return n.flags|=4,$a(e,t,n,n),n},ni=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||fi(e)&&n.styles.isTransparent()},ai=function(e){return e.isPositioned()||e.isFloating()},ii=function(e){return e.nodeType===Node.TEXT_NODE},ri=function(e){return e.nodeType===Node.ELEMENT_NODE},oi=function(e){return ri(e)&&void 0!==e.style&&!si(e)},si=function(e){return"object"==typeof e.className},ci=function(e){return"LI"===e.tagName},di=function(e){return"OL"===e.tagName},li=function(e){return"INPUT"===e.tagName},ui=function(e){return"svg"===e.tagName},fi=function(e){return"BODY"===e.tagName},pi=function(e){return"CANVAS"===e.tagName},mi=function(e){return"VIDEO"===e.tagName},_i=function(e){return"IMG"===e.tagName},hi=function(e){return"IFRAME"===e.tagName},bi=function(e){return"STYLE"===e.tagName},gi=function(e){return"TEXTAREA"===e.tagName},vi=function(e){return"SELECT"===e.tagName},yi=function(e){return"SLOT"===e.tagName},Si=function(e){return e.tagName.indexOf("-")>0},Di=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){return this.counters[e]||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,a=e.counterReset,i=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var r=[];return i&&a.forEach(function(e){var n=t.counters[e.counter];r.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),r},e}(),Ii={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},xi={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Ci={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Oi={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},wi=function(e,t,n,a,i,r){return e<t||e>n?Mi(e,i,r.length>0):a.integers.reduce(function(t,n,i){for(;e>=n;)e-=n,t+=a.values[i];return t},"")+r},Ei=function(e,t,n,a){var i="";do{n||e--,i=a(e)+i,e/=t}while(e*t>=t);return i},Ai=function(e,t,n,a,i){var r=n-t+1;return(e<0?"-":"")+(Ei(Math.abs(e),r,a,function(e){return d(Math.floor(e%r)+t)})+i)},Li=function(e,t,n){void 0===n&&(n=". ");var a=t.length;return Ei(Math.abs(e),a,!1,function(e){return t[Math.floor(e%a)]})+n},ki=function(e,t,n,a,i,r){if(e<-9999||e>9999)return Mi(e,4,i.length>0);var o=Math.abs(e),s=i;if(0===o)return t[0]+s;for(var c=0;o>0&&c<=4;c++){var d=o%10;0===d&&qn(r,1)&&""!==s?s=t[d]+s:d>1||1===d&&0===c||1===d&&1===c&&qn(r,2)||1===d&&1===c&&qn(r,4)&&e>100||1===d&&c>1&&qn(r,8)?s=t[d]+(c>0?n[c-1]:"")+s:1===d&&c>0&&(s=n[c-1]+s),o=Math.floor(o/10)}return(e<0?a:"")+s},Mi=function(e,t,n){var a=n?". ":"",i=n?"、":"",r=n?", ":"",o=n?" ":"";switch(t){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var s=Ai(e,48,57,!0,a);return s.length<4?"0"+s:s;case 4:return Li(e,"〇一二三四五六七八九",i);case 6:return wi(e,1,3999,Ii,3,a).toLowerCase();case 7:return wi(e,1,3999,Ii,3,a);case 8:return Ai(e,945,969,!1,a);case 9:return Ai(e,97,122,!1,a);case 10:return Ai(e,65,90,!1,a);case 11:return Ai(e,1632,1641,!0,a);case 12:case 49:return wi(e,1,9999,xi,3,a);case 35:return wi(e,1,9999,xi,3,a).toLowerCase();case 13:return Ai(e,2534,2543,!0,a);case 14:case 30:return Ai(e,6112,6121,!0,a);case 15:return Li(e,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return Li(e,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return ki(e,"零一二三四五六七八九","十百千萬","負",i,14);case 47:return ki(e,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",i,15);case 42:return ki(e,"零一二三四五六七八九","十百千萬","负",i,14);case 41:return ki(e,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",i,15);case 26:return ki(e,"〇一二三四五六七八九","十百千万","マイナス",i,0);case 25:return ki(e,"零壱弐参四伍六七八九","拾百千万","マイナス",i,7);case 31:return ki(e,"영일이삼사오육칠팔구","십백천만","마이너스",r,7);case 33:return ki(e,"零一二三四五六七八九","十百千萬","마이너스",r,0);case 32:return ki(e,"零壹貳參四五六七八九","拾百千","마이너스",r,7);case 18:return Ai(e,2406,2415,!0,a);case 20:return wi(e,1,19999,Oi,3,a);case 21:return Ai(e,2790,2799,!0,a);case 22:return Ai(e,2662,2671,!0,a);case 22:return wi(e,1,10999,Ci,3,a);case 23:return Li(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Li(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ai(e,3302,3311,!0,a);case 28:return Li(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return Li(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return Ai(e,3792,3801,!0,a);case 37:return Ai(e,6160,6169,!0,a);case 38:return Ai(e,4160,4169,!0,a);case 39:return Ai(e,2918,2927,!0,a);case 40:return Ai(e,1776,1785,!0,a);case 43:return Ai(e,3046,3055,!0,a);case 44:return Ai(e,3174,3183,!0,a);case 45:return Ai(e,3664,3673,!0,a);case 46:return Ai(e,3872,3881,!0,a);default:return Ai(e,48,57,!0,a)}},Pi=function(e){if(!e)return"";var t="";return e.split("").forEach(function(e){"&"==e?e="&amp;":"'"==e?e="&#039;":'"'==e?e="&quot;":"<"==e?e="&lt;":">"==e&&(e="&gt;"),t+=e}),t},Ti=function(e){return e?"<!DOCTYPE "+Pi(e.name)+Pi(e.internalSubset)+(e.publicId?'"'+Pi(e.publicId)+'"':"")+(e.systemId?'"'+Pi(e.systemId)+'"':"")+"><html></html>":"<html></html>"};window.trustedTypes&&(ga=window.trustedTypes.createPolicy("html2canvas",{createHTML:function(e,t){return Ti(t)}}));var Ui,Fi=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Di,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,r=Ri(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var o,s=e.defaultView.pageXOffset,c=e.defaultView.pageYOffset,d=r.contentWindow,l=d.document,u=ji(r).then(function(){return a(n,void 0,void 0,function(){var e,n;return i(this,function(a){switch(a.label){case 0:return this.scrolledElements.forEach(Ki),d&&(d.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||d.scrollY===t.top&&d.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(d.scrollX-t.left,d.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:a.sent(),a.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Bi(l)]:[3,4];case 3:a.sent(),a.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then(function(){return e(l,n)}).then(function(){return r})]:[2,r]}})})});return l.open(),l.write((o=document.doctype,void 0!==ga?ga.createHTML("",o):Ti(o))),Gi(this.referenceElement.ownerDocument,s,c),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},e.prototype.createElementClone=function(e){if(ca(e,2),pi(e))return this.createCanvasClone(e);if(mi(e))return this.createVideoClone(e);if(bi(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return _i(t)&&(_i(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Si(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return zi(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e},""),a=e.cloneNode(!1);return a.textContent=n,a}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var a=e.cloneNode(!1);try{a.width=e.width,a.height=e.height;var i=e.getContext("2d"),r=a.getContext("2d");if(r)if(!this.options.allowTaint&&i)r.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}r.drawImage(e,0,0)}return a}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return a},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",e)}var a=e.ownerDocument.createElement("canvas");return a.width=e.offsetWidth,a.height=e.offsetHeight,a},e.prototype.appendChildNode=function(e,t,n){ri(t)&&("SCRIPT"===t.tagName||t.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ri(t)&&bi(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var a=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ri(i)&&yi(i)&&"function"==typeof i.assignedNodes){var r=i.assignedNodes();r.length&&r.forEach(function(e){return a.appendChildNode(t,e,n)})}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(ii(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ri(e)&&(oi(e)||si(e))){var a=this.createElementClone(e);a.style.transitionProperty="none";var i=n.getComputedStyle(e),r=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&oi(a)&&(this.clonedReferenceElement=a),fi(a)&&Qi(a);var s=this.counters.parse(new oa(this.context,i)),c=this.resolvePseudoContent(e,a,r,Ui.BEFORE);Si(e)&&(t=!0),mi(e)||this.cloneChildNodes(e,a,t),c&&a.insertBefore(c,a.firstChild);var d=this.resolvePseudoContent(e,a,o,Ui.AFTER);return d&&a.appendChild(d),this.counters.pop(s),(i&&(this.options.copyStyles||si(e))&&!hi(e)||t)&&zi(i,a),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([a,e.scrollLeft,e.scrollTop]),(gi(e)||vi(e))&&(gi(a)||vi(a))&&(a.value=e.value),a}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,a){var i=this;if(n){var r=n.content,o=t.ownerDocument;if(o&&r&&"none"!==r&&"-moz-alt-content"!==r&&"none"!==n.display){this.counters.parse(new oa(this.context,n));var s=new ra(this.context,n),c=o.createElement("html2canvaspseudoelement");zi(n,c),s.content.forEach(function(t){if(0===t.type)c.appendChild(o.createTextNode(t.value));else if(22===t.type){var n=o.createElement("img");n.src=t.value,n.style.opacity="1",c.appendChild(n)}else if(18===t.type){if("attr"===t.name){var a=t.values.filter(Ne);a.length&&c.appendChild(o.createTextNode(e.getAttribute(a[0].value)||""))}else if("counter"===t.name){var r=t.values.filter(ze),d=r[0],l=r[1];if(d&&Ne(d)){var u=i.counters.getCounterValue(d.value),f=l&&Ne(l)?pn.parse(i.context,l.value):3;c.appendChild(o.createTextNode(Mi(u,f,!1)))}}else if("counters"===t.name){var p=t.values.filter(ze),m=(d=p[0],p[1]);if(l=p[2],d&&Ne(d)){var _=i.counters.getCounterValues(d.value),h=l&&Ne(l)?pn.parse(i.context,l.value):3,b=m&&0===m.type?m.value:"",g=_.map(function(e){return Mi(e,h,!1)}).join(b);c.appendChild(o.createTextNode(g))}}}else if(20===t.type)switch(t.value){case"open-quote":c.appendChild(o.createTextNode($n(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode($n(s.quotes,--i.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(t.value))}}),c.className=Wi+" "+qi;var d=a===Ui.BEFORE?" "+Wi:" "+qi;return si(t)?t.className.baseValue+=d:t.className+=d,c}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Ui||(Ui={}));var Hi,Ri=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),e.body.appendChild(n),n},Ni=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Bi=function(e){return Promise.all([].slice.call(e.images,0).map(Ni))},ji=function(e){return new Promise(function(t,n){var a=e.contentWindow;if(!a)return n("No window assigned for iframe");var i=a.document;a.onload=e.onload=function(){a.onload=e.onload=null;var n=setInterval(function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))},50)}})},Vi=["all","d","content"],zi=function(e,t){for(var n=e.length-1;n>=0;n--){var a=e.item(n);-1===Vi.indexOf(a)&&t.style.setProperty(a,e.getPropertyValue(a))}return t},Gi=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},Ki=function(e){var t=e[0],n=e[1],a=e[2];t.scrollLeft=n,t.scrollTop=a},Wi="___html2canvas___pseudoelement_before",qi="___html2canvas___pseudoelement_after",Qi=function(e){Yi(e,"."+Wi+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+qi+':after{\n    content: "" !important;\n    display: none !important;\n}')},Yi=function(e,t){var n=e.ownerDocument;if(n){var a=n.createElement("style");a.textContent=t,e.appendChild(a)}},Ji=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Xi=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:ir(e)||tr(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return a(this,void 0,void 0,function(){var t,n,a,r,o=this;return i(this,function(i){switch(i.label){case 0:return t=Ji.isSameOrigin(e),n=!nr(e)&&!0===this._options.useCORS&&ka.SUPPORT_CORS_IMAGES&&!t,a=!nr(e)&&!t&&!ir(e)&&"string"==typeof this._options.proxy&&ka.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||nr(e)||ir(e)||a||n?(r=e,a?[4,this.proxy(r)]:[3,2]):[2];case 1:r=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var a=new Image;a.onload=function(){return e(a)},a.onerror=t,(ar(r)||n)&&(a.crossOrigin="anonymous"),a.src=r,!0===a.complete&&setTimeout(function(){return e(a)},500),o._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var a=e.substring(0,256);return new Promise(function(i,r){var o=ka.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)i(s.response);else{var e=new FileReader;e.addEventListener("load",function(){return i(e.result)},!1),e.addEventListener("error",function(e){return r(e)},!1),e.readAsDataURL(s.response)}else r("Failed to proxy resource "+a+" with status code "+s.status)},s.onerror=r;var c=n.indexOf("?")>-1?"&":"?";if(s.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var d=t._options.imageTimeout;s.timeout=d,s.ontimeout=function(){return r("Timed out ("+d+"ms) proxying "+a)}}s.send()})},e}(),Zi=/^data:image\/svg\+xml/i,$i=/^data:image\/.*;base64,/i,er=/^data:image\/.*/i,tr=function(e){return ka.SUPPORT_SVG_DRAWING||!rr(e)},nr=function(e){return er.test(e)},ar=function(e){return $i.test(e)},ir=function(e){return"blob"===e.substr(0,4)},rr=function(e){return"svg"===e.substr(-3).toLowerCase()||Zi.test(e)},or=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),sr=function(e,t,n){return new or(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},cr=function(){function e(e,t,n,a){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=a}return e.prototype.subdivide=function(t,n){var a=sr(this.start,this.startControl,t),i=sr(this.startControl,this.endControl,t),r=sr(this.endControl,this.end,t),o=sr(a,i,t),s=sr(i,r,t),c=sr(o,s,t);return n?new e(this.start,a,o,c):new e(c,s,r,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),dr=function(e){return 1===e.type},lr=function(e){var t=e.styles,n=e.bounds,a=Ze(t.borderTopLeftRadius,n.width,n.height),i=a[0],r=a[1],o=Ze(t.borderTopRightRadius,n.width,n.height),s=o[0],c=o[1],d=Ze(t.borderBottomRightRadius,n.width,n.height),l=d[0],u=d[1],f=Ze(t.borderBottomLeftRadius,n.width,n.height),p=f[0],m=f[1],_=[];_.push((i+s)/n.width),_.push((p+l)/n.width),_.push((r+m)/n.height),_.push((c+u)/n.height);var h=Math.max.apply(Math,_);h>1&&(i/=h,r/=h,s/=h,c/=h,l/=h,u/=h,p/=h,m/=h);var b=n.width-s,g=n.height-u,v=n.width-l,y=n.height-m,S=t.borderTopWidth,D=t.borderRightWidth,I=t.borderBottomWidth,x=t.borderLeftWidth,C=$e(t.paddingTop,e.bounds.width),O=$e(t.paddingRight,e.bounds.width),w=$e(t.paddingBottom,e.bounds.width),E=$e(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||r>0?ur(n.left+x/3,n.top+S/3,i-x/3,r-S/3,Hi.TOP_LEFT):new or(n.left+x/3,n.top+S/3),this.topRightBorderDoubleOuterBox=i>0||r>0?ur(n.left+b,n.top+S/3,s-D/3,c-S/3,Hi.TOP_RIGHT):new or(n.left+n.width-D/3,n.top+S/3),this.bottomRightBorderDoubleOuterBox=l>0||u>0?ur(n.left+v,n.top+g,l-D/3,u-I/3,Hi.BOTTOM_RIGHT):new or(n.left+n.width-D/3,n.top+n.height-I/3),this.bottomLeftBorderDoubleOuterBox=p>0||m>0?ur(n.left+x/3,n.top+y,p-x/3,m-I/3,Hi.BOTTOM_LEFT):new or(n.left+x/3,n.top+n.height-I/3),this.topLeftBorderDoubleInnerBox=i>0||r>0?ur(n.left+2*x/3,n.top+2*S/3,i-2*x/3,r-2*S/3,Hi.TOP_LEFT):new or(n.left+2*x/3,n.top+2*S/3),this.topRightBorderDoubleInnerBox=i>0||r>0?ur(n.left+b,n.top+2*S/3,s-2*D/3,c-2*S/3,Hi.TOP_RIGHT):new or(n.left+n.width-2*D/3,n.top+2*S/3),this.bottomRightBorderDoubleInnerBox=l>0||u>0?ur(n.left+v,n.top+g,l-2*D/3,u-2*I/3,Hi.BOTTOM_RIGHT):new or(n.left+n.width-2*D/3,n.top+n.height-2*I/3),this.bottomLeftBorderDoubleInnerBox=p>0||m>0?ur(n.left+2*x/3,n.top+y,p-2*x/3,m-2*I/3,Hi.BOTTOM_LEFT):new or(n.left+2*x/3,n.top+n.height-2*I/3),this.topLeftBorderStroke=i>0||r>0?ur(n.left+x/2,n.top+S/2,i-x/2,r-S/2,Hi.TOP_LEFT):new or(n.left+x/2,n.top+S/2),this.topRightBorderStroke=i>0||r>0?ur(n.left+b,n.top+S/2,s-D/2,c-S/2,Hi.TOP_RIGHT):new or(n.left+n.width-D/2,n.top+S/2),this.bottomRightBorderStroke=l>0||u>0?ur(n.left+v,n.top+g,l-D/2,u-I/2,Hi.BOTTOM_RIGHT):new or(n.left+n.width-D/2,n.top+n.height-I/2),this.bottomLeftBorderStroke=p>0||m>0?ur(n.left+x/2,n.top+y,p-x/2,m-I/2,Hi.BOTTOM_LEFT):new or(n.left+x/2,n.top+n.height-I/2),this.topLeftBorderBox=i>0||r>0?ur(n.left,n.top,i,r,Hi.TOP_LEFT):new or(n.left,n.top),this.topRightBorderBox=s>0||c>0?ur(n.left+b,n.top,s,c,Hi.TOP_RIGHT):new or(n.left+n.width,n.top),this.bottomRightBorderBox=l>0||u>0?ur(n.left+v,n.top+g,l,u,Hi.BOTTOM_RIGHT):new or(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||m>0?ur(n.left,n.top+y,p,m,Hi.BOTTOM_LEFT):new or(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||r>0?ur(n.left+x,n.top+S,Math.max(0,i-x),Math.max(0,r-S),Hi.TOP_LEFT):new or(n.left+x,n.top+S),this.topRightPaddingBox=s>0||c>0?ur(n.left+Math.min(b,n.width-D),n.top+S,b>n.width+D?0:Math.max(0,s-D),Math.max(0,c-S),Hi.TOP_RIGHT):new or(n.left+n.width-D,n.top+S),this.bottomRightPaddingBox=l>0||u>0?ur(n.left+Math.min(v,n.width-x),n.top+Math.min(g,n.height-I),Math.max(0,l-D),Math.max(0,u-I),Hi.BOTTOM_RIGHT):new or(n.left+n.width-D,n.top+n.height-I),this.bottomLeftPaddingBox=p>0||m>0?ur(n.left+x,n.top+Math.min(y,n.height-I),Math.max(0,p-x),Math.max(0,m-I),Hi.BOTTOM_LEFT):new or(n.left+x,n.top+n.height-I),this.topLeftContentBox=i>0||r>0?ur(n.left+x+E,n.top+S+C,Math.max(0,i-(x+E)),Math.max(0,r-(S+C)),Hi.TOP_LEFT):new or(n.left+x+E,n.top+S+C),this.topRightContentBox=s>0||c>0?ur(n.left+Math.min(b,n.width+x+E),n.top+S+C,b>n.width+x+E?0:s-x+E,c-(S+C),Hi.TOP_RIGHT):new or(n.left+n.width-(D+O),n.top+S+C),this.bottomRightContentBox=l>0||u>0?ur(n.left+Math.min(v,n.width-(x+E)),n.top+Math.min(g,n.height+S+C),Math.max(0,l-(D+O)),u-(I+w),Hi.BOTTOM_RIGHT):new or(n.left+n.width-(D+O),n.top+n.height-(I+w)),this.bottomLeftContentBox=p>0||m>0?ur(n.left+x+E,n.top+y,Math.max(0,p-(x+E)),m-(I+w),Hi.BOTTOM_LEFT):new or(n.left+x+E,n.top+n.height-(I+w))};!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Hi||(Hi={}));var ur=function(e,t,n,a,i){var r=(Math.sqrt(2)-1)/3*4,o=n*r,s=a*r,c=e+n,d=t+a;switch(i){case Hi.TOP_LEFT:return new cr(new or(e,d),new or(e,d-s),new or(c-o,t),new or(c,t));case Hi.TOP_RIGHT:return new cr(new or(e,t),new or(e+o,t),new or(c,d-s),new or(c,d));case Hi.BOTTOM_RIGHT:return new cr(new or(c,t),new or(c,t+s),new or(e+o,d),new or(e,d));case Hi.BOTTOM_LEFT:default:return new cr(new or(c,d),new or(c-o,d),new or(e,t+s),new or(e,t))}},fr=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},pr=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},mr=function(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6},_r=function(e,t){this.path=e,this.target=t,this.type=1},hr=function(e){this.opacity=e,this.type=2,this.target=6},br=function(e){return 1===e.type},gr=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},vr=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},yr=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new lr(this.container),this.container.styles.opacity<1&&this.effects.push(new hr(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,a=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new mr(n,a,i))}if(0!==this.container.styles.overflowX){var r=fr(this.curves),o=pr(this.curves);gr(r,o)?this.effects.push(new _r(r,6)):(this.effects.push(new _r(r,2)),this.effects.push(new _r(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,a=this.effects.slice(0);n;){var i=n.effects.filter(function(e){return!br(e)});if(t||0!==n.container.styles.position||!n.parent){if(a.unshift.apply(a,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var r=fr(n.curves),o=pr(n.curves);gr(r,o)||a.unshift(new _r(o,6))}}else a.unshift.apply(a,i);n=n.parent}return a.filter(function(t){return qn(t.target,e)})},e}(),Sr=function(e,t,n,a){e.container.elements.forEach(function(i){var r=qn(i.flags,4),o=qn(i.flags,2),s=new yr(i,e);qn(i.styles.display,2048)&&a.push(s);var c=qn(i.flags,8)?[]:a;if(r||o){var d=r||i.styles.isPositioned()?n:t,l=new vr(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var f=0;d.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(f=t,!1):f>0}),d.negativeZIndex.splice(f,0,l)}else if(u>0){var p=0;d.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(p=t+1,!1):p>0}),d.positiveZIndex.splice(p,0,l)}else d.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?d.nonPositionedFloats.push(l):d.nonPositionedInlineLevel.push(l);Sr(s,l,r?l:n,c)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),Sr(s,t,n,c);qn(i.flags,8)&&Dr(i,c)})},Dr=function(e,t){for(var n=e instanceof Ka?e.start:1,a=e instanceof Ka&&e.reversed,i=0;i<t.length;i++){var r=t[i];r.container instanceof Ga&&"number"==typeof r.container.value&&0!==r.container.value&&(n=r.container.value),r.listValue=Mi(n,r.container.styles.listStyleType,!0),n+=a?-1:1}},Ir=function(e,t){switch(t){case 0:return Cr(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Cr(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Cr(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Cr(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},xr=function(e,t){var n=[];return dr(e)?n.push(e.subdivide(.5,!1)):n.push(e),dr(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Cr=function(e,t,n,a){var i=[];return dr(e)?i.push(e.subdivide(.5,!1)):i.push(e),dr(n)?i.push(n.subdivide(.5,!0)):i.push(n),dr(a)?i.push(a.subdivide(.5,!0).reverse()):i.push(a),dr(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},Or=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},wr=function(e){var t=e.styles,n=e.bounds,a=$e(t.paddingLeft,n.width),i=$e(t.paddingRight,n.width),r=$e(t.paddingTop,n.width),o=$e(t.paddingBottom,n.width);return n.add(a+t.borderLeftWidth,r+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+a+i),-(t.borderTopWidth+t.borderBottomWidth+r+o))},Er=function(e,t,n){var a=function(e,t){return 0===e?t.bounds:2===e?wr(t):Or(t)}(Mr(e.styles.backgroundOrigin,t),e),i=function(e,t){return 0===e?t.bounds:2===e?wr(t):Or(t)}(Mr(e.styles.backgroundClip,t),e),r=kr(Mr(e.styles.backgroundSize,t),n,a),o=r[0],s=r[1],c=Ze(Mr(e.styles.backgroundPosition,t),a.width-o,a.height-s);return[Pr(Mr(e.styles.backgroundRepeat,t),c,r,a,i),Math.round(a.left+c[0]),Math.round(a.top+c[1]),o,s]},Ar=function(e){return Ne(e)&&e.value===ut.AUTO},Lr=function(e){return"number"==typeof e},kr=function(e,t,n){var a=t[0],i=t[1],r=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(qe(o)&&s&&qe(s))return[$e(o,n.width),$e(s,n.height)];var c=Lr(r);if(Ne(o)&&(o.value===ut.CONTAIN||o.value===ut.COVER))return Lr(r)?n.width/n.height<r!=(o.value===ut.COVER)?[n.width,n.width/r]:[n.height*r,n.height]:[n.width,n.height];var d=Lr(a),l=Lr(i),u=d||l;if(Ar(o)&&(!s||Ar(s)))return d&&l?[a,i]:c||u?u&&c?[d?a:i*r,l?i:a/r]:[d?a:n.width,l?i:n.height]:[n.width,n.height];if(c){var f=0,p=0;return qe(o)?f=$e(o,n.width):qe(s)&&(p=$e(s,n.height)),Ar(o)?f=p*r:s&&!Ar(s)||(p=f/r),[f,p]}var m=null,_=null;if(qe(o)?m=$e(o,n.width):s&&qe(s)&&(_=$e(s,n.height)),null===m||s&&!Ar(s)||(_=d&&l?m/a*i:n.height),null!==_&&Ar(o)&&(m=d&&l?_/i*a:n.width),null!==m&&null!==_)return[m,_];throw new Error("Unable to calculate background-size for element")},Mr=function(e,t){var n=e[t];return void 0===n?e[0]:n},Pr=function(e,t,n,a,i){var r=t[0],o=t[1],s=n[0],c=n[1];switch(e){case 2:return[new or(Math.round(a.left),Math.round(a.top+o)),new or(Math.round(a.left+a.width),Math.round(a.top+o)),new or(Math.round(a.left+a.width),Math.round(c+a.top+o)),new or(Math.round(a.left),Math.round(c+a.top+o))];case 3:return[new or(Math.round(a.left+r),Math.round(a.top)),new or(Math.round(a.left+r+s),Math.round(a.top)),new or(Math.round(a.left+r+s),Math.round(a.height+a.top)),new or(Math.round(a.left+r),Math.round(a.height+a.top))];case 1:return[new or(Math.round(a.left+r),Math.round(a.top+o)),new or(Math.round(a.left+r+s),Math.round(a.top+o)),new or(Math.round(a.left+r+s),Math.round(a.top+o+c)),new or(Math.round(a.left+r),Math.round(a.top+o+c))];default:return[new or(Math.round(i.left),Math.round(i.top)),new or(Math.round(i.left+i.width),Math.round(i.top)),new or(Math.round(i.left+i.width),Math.round(i.height+i.top)),new or(Math.round(i.left),Math.round(i.height+i.top))]}},Tr=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),a=this._document.createElement("img"),i=this._document.createElement("span"),r=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",r.appendChild(n),a.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",a.width=1,a.height=1,a.style.margin="0",a.style.padding="0",a.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode("Hidden Text")),n.appendChild(i),n.appendChild(a);var o=a.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode("Hidden Text")),n.style.lineHeight="normal",a.style.verticalAlign="super";var s=a.offsetTop-n.offsetTop+2;return r.removeChild(n),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),Ur=function(e,t){this.context=e,this.options=t},Fr=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a._activeEffects=[],a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),n.canvas||(a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px"),a.fontMetrics=new Tr(document),a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.ctx.textBaseline="bottom",a._activeEffects=[],a.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),a}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),function(e){return 2===e.type}(e)&&(this.ctx.globalAlpha=e.opacity),function(e){return 0===e.type}(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),br(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return a(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return a(this,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return qn(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var a=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Ua(e.text).reduce(function(t,i){return a.ctx.fillText(i,t,e.bounds.top+n),t+a.ctx.measureText(i).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=jr(e.fontFamily).join(", "),a=He(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,a,n].join(" "),n,a]},n.prototype.renderTextNode=function(e,t){return a(this,void 0,void 0,function(){var n,a,r,o,s,c,d,l,u=this;return i(this,function(i){return n=this.createFontStyle(t),a=n[0],r=n[1],o=n[2],this.ctx.font=a,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(r,o),c=s.baseline,d=s.middle,l=t.paintOrder,e.textBounds.forEach(function(e){l.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=ot(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,c);var a=t.textShadow;a.length&&e.text.trim().length&&(a.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=ot(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,c)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=ot(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+c),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+d),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=ot(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+c)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var a=wr(e),i=pr(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return a(this,void 0,void 0,function(){var t,a,r,s,c,d,l,u,f,p,m,_,h,b,g,v,y,S;return i(this,function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,a=e.curves,r=t.styles,s=0,c=t.textNodes,i.label=1;case 1:return s<c.length?(d=c[s],[4,this.renderTextNode(d,r)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof ja))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return g=i.sent(),this.renderReplacedElement(t,a,g),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Va&&this.renderReplacedElement(t,a,t.canvas),!(t instanceof za))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return g=i.sent(),this.renderReplacedElement(t,a,g),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof Xa&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:l=i.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Qa&&(u=Math.min(t.bounds.width,t.bounds.height),"checkbox"===t.type?t.checked&&(this.ctx.save(),this.path([new or(t.bounds.left+.39363*u,t.bounds.top+.79*u),new or(t.bounds.left+.16*u,t.bounds.top+.5549*u),new or(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new or(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new or(t.bounds.left+.72983*u,t.bounds.top+.23*u),new or(t.bounds.left+.84*u,t.bounds.top+.34085*u),new or(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=ot(707406591),this.ctx.fill(),this.ctx.restore()):"radio"===t.type&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ot(707406591),this.ctx.fill(),this.ctx.restore())),Hr(t)&&t.value.length){switch(f=this.createFontStyle(r),y=f[0],p=f[1],m=this.fontMetrics.getMetrics(y,p).baseline,this.ctx.font=y,this.ctx.fillStyle=ot(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Nr(t.styles.textAlign),S=wr(t),_=0,t.styles.textAlign){case 1:_+=S.width/2;break;case 2:_+=S.width}h=S.add(_,0,0,-S.height/2+1),this.ctx.save(),this.path([new or(S.left,S.top),new or(S.left+S.width,S.top),new or(S.left+S.width,S.top+S.height),new or(S.left,S.top+S.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ma(t.value,h),r.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!qn(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(b=t.styles.listStyleImage).type)return[3,18];g=void 0,v=b.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(v)];case 16:return g=i.sent(),this.ctx.drawImage(g,t.bounds.left-(g.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+v),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(y=this.createFontStyle(r)[0],this.ctx.font=y,this.ctx.fillStyle=ot(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",S=new o(t.bounds.left,t.bounds.top+$e(t.styles.paddingTop,t.bounds.width),t.bounds.width,ln(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ma(e.listValue,S),r.letterSpacing,ln(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return a(this,void 0,void 0,function(){var t,n,a,r,o,s,c,d,l,u,f,p,m,_,h;return i(this,function(i){switch(i.label){case 0:return qn(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(h=n[t],[4,this.renderStack(h)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),a=0,r=e.nonInlineLevel,i.label=7;case 7:return a<r.length?(h=r[a],[4,this.renderNode(h)]):[3,10];case 8:i.sent(),i.label=9;case 9:return a++,[3,7];case 10:o=0,s=e.nonPositionedFloats,i.label=11;case 11:return o<s.length?(h=s[o],[4,this.renderStack(h)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:c=0,d=e.nonPositionedInlineLevel,i.label=15;case 15:return c<d.length?(h=d[c],[4,this.renderStack(h)]):[3,18];case 16:i.sent(),i.label=17;case 17:return c++,[3,15];case 18:l=0,u=e.inlineLevel,i.label=19;case 19:return l<u.length?(h=u[l],[4,this.renderNode(h)]):[3,22];case 20:i.sent(),i.label=21;case 21:return l++,[3,19];case 22:f=0,p=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return f<p.length?(h=p[f],[4,this.renderStack(h)]):[3,26];case 24:i.sent(),i.label=25;case 25:return f++,[3,23];case 26:m=0,_=e.positiveZIndex,i.label=27;case 27:return m<_.length?(h=_[m],[4,this.renderStack(h)]):[3,30];case 28:i.sent(),i.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var a=dr(e)?e.start:e;0===n?t.ctx.moveTo(a.x,a.y):t.ctx.lineTo(a.x,a.y),dr(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,a){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,a),this.ctx.fill(),this.ctx.translate(-n,-a)},n.prototype.resizeImage=function(e,t,n){var a;if(e.width===t&&e.height===n)return e;var i=(null!==(a=this.canvas.ownerDocument)&&void 0!==a?a:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return a(this,void 0,void 0,function(){var t,n,a,r,o,s;return i(this,function(c){switch(c.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var r,o,s,c,d,l,u,f,p,m,_,h,b,g,v,y,S,D,I,x,C,O,w,E,A,L,k,M,P,T,U;return i(this,function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];r=void 0,o=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,a.context.cache.match(o)];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),a.context.logger.error("Error loading background-image "+o),[3,4];case 4:return r&&(s=Er(e,t,[r.width,r.height,r.width/r.height]),y=s[0],O=s[1],w=s[2],I=s[3],x=s[4],g=a.ctx.createPattern(a.resizeImage(r,I,x),"repeat"),a.renderRepeat(y,g,O,w)),[3,6];case 5:1===n.type?(c=Er(e,t,[null,null,null]),y=c[0],O=c[1],w=c[2],I=c[3],x=c[4],d=function(e,t,n){var a="number"==typeof e?e:function(e,t,n){var a=t/2,i=n/2,r=$e(e[0],t)-a,o=i-$e(e[1],n);return(Math.atan2(o,r)+2*Math.PI)%(2*Math.PI)}(e,t,n),i=Math.abs(t*Math.sin(a))+Math.abs(n*Math.cos(a)),r=t/2,o=n/2,s=i/2,c=Math.sin(a-Math.PI/2)*s,d=Math.cos(a-Math.PI/2)*s;return[i,r-d,r+d,o-c,o+c]}(n.angle,I,x),l=d[0],u=d[1],f=d[2],p=d[3],m=d[4],(_=document.createElement("canvas")).width=I,_.height=x,h=_.getContext("2d"),b=h.createLinearGradient(u,p,f,m),vt(n.stops,l).forEach(function(e){return b.addColorStop(e.stop,ot(e.color))}),h.fillStyle=b,h.fillRect(0,0,I,x),I>0&&x>0&&(g=a.ctx.createPattern(_,"repeat"),a.renderRepeat(y,g,O,w))):function(e){return 2===e.type}(n)&&(v=Er(e,t,[null,null,null]),y=v[0],S=v[1],D=v[2],I=v[3],x=v[4],C=0===n.position.length?[Je]:n.position,O=$e(C[0],I),w=$e(C[C.length-1],x),E=function(e,t,n,a,i){var r=0,o=0;switch(e.size){case 0:0===e.shape?r=o=Math.min(Math.abs(t),Math.abs(t-a),Math.abs(n),Math.abs(n-i)):1===e.shape&&(r=Math.min(Math.abs(t),Math.abs(t-a)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)r=o=Math.min(yt(t,n),yt(t,n-i),yt(t-a,n),yt(t-a,n-i));else if(1===e.shape){var s=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-a)),c=St(a,i,t,n,!0),d=c[0],l=c[1];o=s*(r=yt(d-t,(l-n)/s))}break;case 1:0===e.shape?r=o=Math.max(Math.abs(t),Math.abs(t-a),Math.abs(n),Math.abs(n-i)):1===e.shape&&(r=Math.max(Math.abs(t),Math.abs(t-a)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)r=o=Math.max(yt(t,n),yt(t,n-i),yt(t-a,n),yt(t-a,n-i));else if(1===e.shape){s=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-a));var u=St(a,i,t,n,!1);d=u[0],l=u[1],o=s*(r=yt(d-t,(l-n)/s))}}return Array.isArray(e.size)&&(r=$e(e.size[0],a),o=2===e.size.length?$e(e.size[1],i):r),[r,o]}(n,O,w,I,x),A=E[0],L=E[1],A>0&&L>0&&(k=a.ctx.createRadialGradient(S+O,D+w,0,S+O,D+w,A),vt(n.stops,2*A).forEach(function(e){return k.addColorStop(e.stop,ot(e.color))}),a.path(y),a.ctx.fillStyle=k,A!==L?(M=e.bounds.left+.5*e.bounds.width,P=e.bounds.top+.5*e.bounds.height,U=1/(T=L/A),a.ctx.save(),a.ctx.translate(M,P),a.ctx.transform(1,0,0,T,0,0),a.ctx.translate(-M,-P),a.ctx.fillRect(S,U*(D-P)+P,I,x*U),a.ctx.restore()):a.ctx.fill())),i.label=6;case 6:return t--,[2]}})},a=this,r=0,o=e.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return r<o.length?(s=o[r],[5,n(s)]):[3,4];case 2:c.sent(),c.label=3;case 3:return r++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return a(this,void 0,void 0,function(){return i(this,function(a){return this.path(Ir(n,t)),this.ctx.fillStyle=ot(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,r){return a(this,void 0,void 0,function(){var a,o;return i(this,function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,r)]:[3,2];case 1:return i.sent(),[2];case 2:return a=function(e,t){switch(t){case 0:return Cr(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Cr(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Cr(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Cr(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}}(r,n),this.path(a),this.ctx.fillStyle=ot(e),this.ctx.fill(),o=function(e,t){switch(t){case 0:return Cr(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Cr(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Cr(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Cr(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}}(r,n),this.path(o),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return a(this,void 0,void 0,function(){var t,n,a,r,o,s,c,d,l=this;return i(this,function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rt(t.backgroundColor)||t.backgroundImage.length,a=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],r=Rr(Mr(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),rt(t.backgroundColor)||(this.ctx.fillStyle=ot(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){l.ctx.save();var n,a,i,r,o,s=fr(e.curves),c=t.inset?0:1e4,d=(n=s,a=-c+(t.inset?1:-1)*t.spread.number,i=(t.inset?1:-1)*t.spread.number,r=t.spread.number*(t.inset?-2:2),o=t.spread.number*(t.inset?-2:2),n.map(function(e,t){switch(t){case 0:return e.add(a,i);case 1:return e.add(a+r,i);case 2:return e.add(a+r,i+o);case 3:return e.add(a,i+o)}return e}));t.inset?(l.path(s),l.ctx.clip(),l.mask(d)):(l.mask(s),l.ctx.clip(),l.path(d)),l.ctx.shadowOffsetX=t.offsetX.number+c,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=ot(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?ot(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()}),i.label=2;case 2:o=0,s=0,c=a,i.label=3;case 3:return s<c.length?0!==(d=c[s]).style&&!rt(d.color)&&d.width>0?2!==d.style?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==d.style?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,o,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==d.style?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,r,o){return a(this,void 0,void 0,function(){var a,s,c,d,l,u,f,p,m,_,h,b,g,v,y,S;return i(this,function(i){return this.ctx.save(),a=function(e,t){switch(t){case 0:return xr(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return xr(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return xr(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return xr(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}}(r,n),s=Ir(r,n),2===o&&(this.path(s),this.ctx.clip()),dr(s[0])?(c=s[0].start.x,d=s[0].start.y):(c=s[0].x,d=s[0].y),dr(s[1])?(l=s[1].end.x,u=s[1].end.y):(l=s[1].x,u=s[1].y),f=0===n||2===n?Math.abs(c-l):Math.abs(d-u),this.ctx.beginPath(),3===o?this.formatPath(a):this.formatPath(s.slice(0,2)),p=t<3?3*t:2*t,m=t<3?2*t:t,3===o&&(p=t,m=t),_=!0,f<=2*p?_=!1:f<=2*p+m?(p*=h=f/(2*p+m),m*=h):(b=Math.floor((f+m)/(p+m)),g=(f-b*p)/(b-1),m=(v=(f-(b+1)*p)/b)<=0||Math.abs(m-g)<Math.abs(m-v)?g:v),_&&(3===o?this.ctx.setLineDash([0,p+m]):this.ctx.setLineDash([p,m])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ot(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(dr(s[0])&&(y=s[3],S=s[0],this.ctx.beginPath(),this.formatPath([new or(y.end.x,y.end.y),new or(S.start.x,S.start.y)]),this.ctx.stroke()),dr(s[1])&&(y=s[1],S=s[2],this.ctx.beginPath(),this.formatPath([new or(y.end.x,y.end.y),new or(S.start.x,S.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return a(this,void 0,void 0,function(){var t;return i(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ot(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),a=new yr(e,null),i=new vr(a),Sr(a,i,i,r=[]),Dr(a.container,r),t=i,[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}var a,i,r})})},n}(Ur),Hr=function(e){return e instanceof Ja||e instanceof Ya||e instanceof Qa&&"radio"!==e.type&&"checkbox"!==e.type},Rr=function(e,t){switch(e){case 0:return fr(t);case 2:return function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]}(t);default:return pr(t)}},Nr=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},Br=["-apple-system","system-ui"],jr=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===Br.indexOf(e)}):e},Vr=function(e){function n(t,n){var a=e.call(this,t,n)||this;return a.canvas=n.canvas?n.canvas:document.createElement("canvas"),a.ctx=a.canvas.getContext("2d"),a.options=n,a.canvas.width=Math.floor(n.width*n.scale),a.canvas.height=Math.floor(n.height*n.scale),a.canvas.style.width=n.width+"px",a.canvas.style.height=n.height+"px",a.ctx.scale(a.options.scale,a.options.scale),a.ctx.translate(-n.x,-n.y),a.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),a}return t(n,e),n.prototype.render=function(e){return a(this,void 0,void 0,function(){var t,n;return i(this,function(a){switch(a.label){case 0:return t=Aa(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,zr(t)];case 1:return n=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ot(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(Ur),zr=function(e){return new Promise(function(t,n){var a=new Image;a.onload=function(){t(a)},a.onerror=n,a.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Gr=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,r([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,r([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,r([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,r([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Kr=function(){function e(t,n){var a;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new Gr({id:this.instanceName,enabled:t.logging}),this.cache=null!==(a=t.cache)&&void 0!==a?a:new Xi(this,t)}return e.instanceCount=1,e}();return"undefined"!=typeof window&&Ji.setContext(window),function(e,t){return void 0===t&&(t={}),function(e,t){return a(void 0,void 0,void 0,function(){var a,r,c,d,l,u,f,p,m,_,h,b,g,v,y,S,D,I,x,C,O,w,E,A,L,k,M,P,T,U,F,H,R,N,B,j,V,z;return i(this,function(i){switch(i.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(a=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(r=a.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(w=t.allowTaint)&&void 0!==w&&w,imageTimeout:null!==(E=t.imageTimeout)&&void 0!==E?E:15e3,proxy:t.proxy,useCORS:null!==(A=t.useCORS)&&void 0!==A&&A},d=n({logging:null===(L=t.logging)||void 0===L||L,cache:t.cache},c),l={windowWidth:null!==(k=t.windowWidth)&&void 0!==k?k:r.innerWidth,windowHeight:null!==(M=t.windowHeight)&&void 0!==M?M:r.innerHeight,scrollX:null!==(P=t.scrollX)&&void 0!==P?P:r.pageXOffset,scrollY:null!==(T=t.scrollY)&&void 0!==T?T:r.pageYOffset},u=new o(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),f=new Kr(d,u),p=null!==(U=t.foreignObjectRendering)&&void 0!==U&&U,m={allowTaint:null!==(F=t.allowTaint)&&void 0!==F&&F,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:p,copyStyles:p},f.logger.debug("Starting document clone with size "+u.width+"x"+u.height+" scrolled to "+-u.left+","+-u.top),_=new Fi(f,e,m),(h=_.clonedReferenceElement)?[4,_.toIFrame(a,u)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return b=i.sent(),g=fi(h)||"HTML"===h.tagName?function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var a=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new o(0,0,a,i)}(h.ownerDocument):s(f,h),v=g.width,y=g.height,S=g.left,D=g.top,I=function(e,t,n){var a=t.ownerDocument,i=a.documentElement?mt(e,getComputedStyle(a.documentElement).backgroundColor):_t.TRANSPARENT,r=a.body?mt(e,getComputedStyle(a.body).backgroundColor):_t.TRANSPARENT,o="string"==typeof n?mt(e,n):null===n?_t.TRANSPARENT:4294967295;return t===a.documentElement?rt(i)?rt(r)?o:r:i:o}(f,h,t.backgroundColor),x={canvas:t.canvas,backgroundColor:I,scale:null!==(R=null!==(H=t.scale)&&void 0!==H?H:r.devicePixelRatio)&&void 0!==R?R:1,x:(null!==(N=t.x)&&void 0!==N?N:0)+S,y:(null!==(B=t.y)&&void 0!==B?B:0)+D,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(v),height:null!==(V=t.height)&&void 0!==V?V:Math.ceil(y)},p?(f.logger.debug("Document cloned, using foreign object rendering"),[4,new Vr(f,x).render(h)]):[3,3];case 2:return C=i.sent(),[3,5];case 3:return f.logger.debug("Document cloned, element located at "+S+","+D+" with size "+v+"x"+y+" using computed rendering"),f.logger.debug("Starting DOM parsing"),O=ti(f,h),I===O.styles.backgroundColor&&(O.styles.backgroundColor=_t.TRANSPARENT),f.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),[4,new Fr(f,x).render(O)];case 4:C=i.sent(),i.label=5;case 5:return(null===(z=t.removeContainer)||void 0===z||z)&&(Fi.destroy(b)||f.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),f.logger.debug("Finished rendering"),[2,C]}})})}(e,t)}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RATINGS_LIST_LENGTH=t.CVSurveyPositionDefaults=t.CV_LOG_EVENT=t.CV_CANCEL_EVENT=t.CV_LOADED_EVENT=t.CV_SUBMIT_EVENT=t.EVENT_HANDLER_ERROR=t.GATECRASH_ON_SURVEY_LOAD=t.GATECRASH_ON_SURVEY_CANCEL=t.EVENT_RESPONSE_DATA_ERROR=t.GATECRASH_ON_SURVEY_DATA_SUBMIT=t.GATECRASH_RENDER_ERROR=t.SURVEY_DIV_ID=t.RESPONSE_PAGE_IFRAME_ID=t.OVERLAY_DIV_ID=t.IFRAME_ID=t.ICON_DIV_ID=t.FORMSPRO_BASE_URL=t.DEFAULT_BASE_URL=t.DEFAULT_TEXT_CONTENT=t.DEFAULT_FRAME_CONTAINER_WIDTH=t.DEFAULT_FRAME_CONTAINER_HEIGHT=t.DEFAULT_FRAME_CONTAINER_ID=t.DEFAULT_ERR_MSG=t.DEFAULT_EXPAND_HEIGHT=t.DEFAULT_COLLAPSE_HEIGHT=t.CDN_URL=t.CONTAINTER_SPAN_TEXT_ID=t.CONTAINER_BUTTON_ID=t.CLOSE_ICON_SOURCE=t.CLOSE_ICON_ID=t.CLOSE_BUTTON_ID=t.BUTTON_IFRAME_ID=t.BUTTON_CONTAINER_COLLAPSE=t.BUTTON_CONTAINER=t.ARROW_ICON_ID=void 0,t.ARROW_ICON_ID="MfpEmbed_Icon_Arrow",t.BUTTON_CONTAINER="MfpEmbed_Button_Container",t.BUTTON_CONTAINER_COLLAPSE="MfpEmbed_Button_Container_Collapse",t.BUTTON_IFRAME_ID="MfpEmbed_Button_Iframe",t.CLOSE_BUTTON_ID="closeButton",t.CLOSE_ICON_ID="MfpEmbed_CrossButton",t.CLOSE_ICON_SOURCE="cross.svg",t.CONTAINER_BUTTON_ID="MfpEmbed_Button",t.CONTAINTER_SPAN_TEXT_ID="MfpEmbed_Span",t.CDN_URL="https://mfpembedcdnwus2.azureedge.net/mfpembedcontwus2/",t.DEFAULT_COLLAPSE_HEIGHT="48px",t.DEFAULT_EXPAND_HEIGHT="480px",t.DEFAULT_ERR_MSG="gatecrash: Error thrown and could not be cast as type Error.",t.DEFAULT_FRAME_CONTAINER_ID="MfpEmbed_Popup",t.DEFAULT_FRAME_CONTAINER_HEIGHT="600px",t.DEFAULT_FRAME_CONTAINER_WIDTH="320px",t.DEFAULT_TEXT_CONTENT="Provide Feedback",t.DEFAULT_BASE_URL="https://customervoice.microsoft.com/",t.FORMSPRO_BASE_URL="https://forms.office.com/formspro/",t.ICON_DIV_ID="mfpembed_iconDiv",t.IFRAME_ID="MfpEmbed_Iframe",t.OVERLAY_DIV_ID="mfpembed_overlayDiv",t.RESPONSE_PAGE_IFRAME_ID="MfpEmbed_Popup_Iframe",t.SURVEY_DIV_ID="gatecrashSurvey",t.GATECRASH_RENDER_ERROR={name:"Gatecrash_Render_Error"},t.GATECRASH_ON_SURVEY_DATA_SUBMIT={name:"Gatecrash_On_Survey_Data_Submit"},t.EVENT_RESPONSE_DATA_ERROR={name:"Gatecrash_Event_Response_Data_Error"},t.GATECRASH_ON_SURVEY_CANCEL={name:"Gatecrash_On_Survey_Cancel"},t.GATECRASH_ON_SURVEY_LOAD={name:"Gatecrash_On_Survey_Load"},t.EVENT_HANDLER_ERROR={name:"Event_Handler_Error"},t.CV_SUBMIT_EVENT="CV_OnSubmit",t.CV_LOADED_EVENT="CV_OnLoaded",t.CV_CANCEL_EVENT="CV_OnCancel",t.CV_LOG_EVENT="CV_OnLog";var a=function(){function e(){}return e.cssPosition="fixed",e.cssZIndex="999",e.cssBottom="56px",e.cssRight="19px",e}();t.CVSurveyPositionDefaults=a,t.RATINGS_LIST_LENGTH=5},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a=["af","am","ar","as","az","be","bg","bn-BD","bn-IN","bs","ca","ca-Es-VALENCIA","chr-Cher","cs","cy","da","de","el","en-GB","es","es-MX","et","eu","fa","fi","fil","fr","fr-CA","ga","gd","gl","gu","ha-Latn-NG","he","hi","hr","hu","hy","id","is","it","ja","ka","kk","km-KH","kn","ko","kok","ky","lb","lo","lt","lv","mi","mk","ml","mn","mr","ms","mt","nb-NO","ne","nl","nn-NO","or","pa","pl","prs","pt-BR","pt-PT","quz","ro","ru","sd","si","sk","sl","sq","sr-Cyrl-BA","sr-Cyrl-RS","sr-Latn-RS","sv","sw","ta","te","th","tk","tr","tt","ug","uk","ur","uz-Latn-UZ","vi","zh-Hans","zh-Hant"],i={"ZH-CN":"zh-Hans","ZH-HK":"zh-Hant","ZH-MO":"zh-Hant","ZH-SG":"zh-Hans","ZH-TW":"zh-Hant"};function r(e){var t=e.toLocaleUpperCase();if(t in i)return i[t];for(var n=0,r=a;n<r.length;n++)if((d=r[n]).toUpperCase()===t)return d;for(var o=t.split("-")[0],s=0,c=a;s<c.length;s++){var d;if((d=c[s]).toUpperCase()===o)return d}return"en"}},function(e,t,n){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(80),t),i(n(81),t),i(n(82),t),i(n(83),t),i(n(84),t),i(n(85),t),i(n(86),t),i(n(87),t),i(n(26),t),i(n(88),t),i(n(89),t)},function(e,t,n){n(93),e.exports=n(94)},function(e,t,n){"use strict";e.exports=n(56).polyfill()},function(e,t,n){e.exports=function(){"use strict";function e(e){return"function"==typeof e}var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=0,a=void 0,i=void 0,r=function(e,t){f[n]=e,f[n+1]=t,2===(n+=2)&&(i?i(p):g())},o="undefined"!=typeof window?window:void 0,s=o||{},c=s.MutationObserver||s.WebKitMutationObserver,d="undefined"==typeof self&&"[object process]"==={}.toString.call(Object({})),l="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function u(){var e=setTimeout;return function(){return e(p,1)}}var f=new Array(1e3);function p(){for(var e=0;e<n;e+=2)(0,f[e])(f[e+1]),f[e]=void 0,f[e+1]=void 0;n=0}var m,_,h,b,g=void 0;function v(e,t){var n=this,a=new this.constructor(D);void 0===a[S]&&M(a);var i=n._state;if(i){var o=arguments[i-1];r(function(){return L(i,a,o,n._result)})}else E(n,a,e,t);return a}function y(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(D);return x(t,e),t}d?g=function(){return Object({}).nextTick(p)}:c?(_=0,h=new c(p),b=document.createTextNode(""),h.observe(b,{characterData:!0}),g=function(){b.data=_=++_%2}):l?((m=new MessageChannel).port1.onmessage=p,g=function(){return m.port2.postMessage(0)}):g=void 0===o?function(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(p)}:u()}catch(e){return u()}}():u();var S=Math.random().toString(36).substring(2);function D(){}function I(t,n,a){n.constructor===t.constructor&&a===v&&n.constructor.resolve===y?function(e,t){1===t._state?O(e,t._result):2===t._state?w(e,t._result):E(t,void 0,function(t){return x(e,t)},function(t){return w(e,t)})}(t,n):void 0===a?O(t,n):e(a)?function(e,t,n){r(function(e){var a=!1,i=function(e,t,n,a){try{e.call(t,n,a)}catch(e){return e}}(n,t,function(n){a||(a=!0,t!==n?x(e,n):O(e,n))},function(t){a||(a=!0,w(e,t))},e._label);!a&&i&&(a=!0,w(e,i))},e)}(t,n,a):O(t,n)}function x(e,t){if(e===t)w(e,new TypeError("You cannot resolve a promise with itself"));else if(i=typeof(a=t),null===a||"object"!==i&&"function"!==i)O(e,t);else{var n=void 0;try{n=t.then}catch(t){return void w(e,t)}I(e,t,n)}var a,i}function C(e){e._onerror&&e._onerror(e._result),A(e)}function O(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&r(A,e))}function w(e,t){void 0===e._state&&(e._state=2,e._result=t,r(C,e))}function E(e,t,n,a){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+1]=n,i[o+2]=a,0===o&&e._state&&r(A,e)}function A(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var a=void 0,i=void 0,r=e._result,o=0;o<t.length;o+=3)a=t[o],i=t[o+n],a?L(n,a,i,r):i(r);e._subscribers.length=0}}function L(t,n,a,i){var r=e(a),o=void 0,s=void 0,c=!0;if(r){try{o=a(i)}catch(e){c=!1,s=e}if(n===o)return void w(n,new TypeError("A promises callback cannot return that same promise."))}else o=i;void 0!==n._state||(r&&c?x(n,o):!1===c?w(n,s):1===t?O(n,o):2===t&&w(n,o))}var k=0;function M(e){e[S]=k++,e._state=void 0,e._result=void 0,e._subscribers=[]}var P=function(){function e(e,n){this._instanceConstructor=e,this.promise=new e(D),this.promise[S]||M(this.promise),t(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&O(this.promise,this._result))):w(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,a=n.resolve;if(a===y){var i=void 0,r=void 0,o=!1;try{i=e.then}catch(e){o=!0,r=e}if(i===v&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof i)this._remaining--,this._result[t]=e;else if(n===T){var s=new n(D);o?w(s,r):I(s,e,i),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(a(e),t)},e.prototype._settledAt=function(e,t,n){var a=this.promise;void 0===a._state&&(this._remaining--,2===e?w(a,n):this._result[t]=n),0===this._remaining&&O(a,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;E(e,void 0,function(e){return n._settledAt(1,t,e)},function(e){return n._settledAt(2,t,e)})},e}(),T=function(){function t(e){this[S]=k++,this._result=this._state=void 0,this._subscribers=[],D!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){x(e,t)},function(t){w(e,t)})}catch(t){w(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return T.prototype.then=v,T.all=function(e){return new P(this,e).promise},T.race=function(e){var n=this;return t(e)?new n(function(t,a){for(var i=e.length,r=0;r<i;r++)n.resolve(e[r]).then(t,a)}):new n(function(e,t){return t(new TypeError("You must pass an array to race."))})},T.resolve=y,T.reject=function(e){var t=new this(D);return w(t,e),t},T._setScheduler=function(e){i=e},T._setAsap=function(e){r=e},T._asap=r,T.polyfill=function(){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=T},T.Promise=T,T}()},function(e,t,n){"use strict";var a;!function(e){var t=function(){function e(){}return e.AppLaunch="AppLaunch",e.AppUsageTime="AppUsageTime",e.AppResume="AppResume",e}();e.ActivityName=t}(a||(a={})),e.exports=a},function(e,t,n){"use strict";var a;!function(e){e.RoamingSettingIdMap={CampaignStates:1258,GovernedChannelStates:1257,SurveyActivationStats:1259}}(a||(a={})),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignManager=void 0;var a=n(20),i=n(17),r=n(9),o=n(21),s=n(43),c=n(60),d=n(15),l=n(37),u=r.getDistantFuture,f=r.getDistantPast,p=r.isArray,m=r.isNOU,_=function(){function e(e,t,n,a,i,r,o,s){if(!e)throw new Error("stateProvider must not be null");if(!p(t))throw new Error("definitionProviders is either null or not an array type");if(!n)throw new Error("stringProvider must not be null");if(m(i))throw new Error("currentBuildNumber must not be null");this.campaignStates={},this.campaignDefinitions={},this.userFacts=[],this.stateProvider=e,this.definitionProviders=t,this.stringProvider=n,this.userFactsProvider=s,this.environmentProvider=a,this.currentBuildNumber=i,r=r||new Date,this.isPriorityEnabled=o}return e.isStateUpForNomination=function(t,n,a,i){if(!t||!n)return!1;if(a=a||new Date,t.ForceCandidacy)return!0;var r=n.nominationScheme.getCampaignCooldown(t.IsCandidate&&t.DidCandidateTriggerSurvey);return!!r&&(!!e.hasBuildChangeDurationElapsed(r,t.LastNominationBuildNumber,i)||e.hasTimeIntervalDurationElapsed(r,t.getCooldownStartDate(),a))},e.isDateInRange=function(e,t,n){return e=e||new Date,t=t||f(),n=n||u(),t.getTime()<=e.getTime()&&n.getTime()>=e.getTime()},e.hasTimeIntervalDurationElapsed=function(e,t,n){if(m(e)||!(e instanceof o.CampaignDurationTimeInterval))return!1;if(!t||!n)return!1;var a=r.addSecondsWithoutOverflow(t,e.intervalSeconds);return n.getTime()>=a.getTime()},e.hasBuildChangeDurationElapsed=function(e,t,n){return!m(e)&&e instanceof o.CampaignDurationSingleBuildChange&&(m(t)||m(n)?null===t!=(null===n):!(t===n))},e.isCampaignInScope=function(t,n,a,i){return!(!t||(n=n||new Date,!e.isDateInRangeWithDefinition(n,t)||t.scope&&((t.scope instanceof o.CampaignScopeUserFactAny||t.scope instanceof o.CampaignScopeUserFactAll)&&t.scope.setUserFactsProvider(i),t.scope instanceof o.CampaignScopeEnvironmentCrossProduct&&t.scope.setEnvironmentProvider(a),!t.scope.isInScope())))},e.isDateInRangeWithDefinition=function(t,n){return!!n&&(t=t||new Date,e.isDateInRange(t,n.startTime?n.startTime:u(),n.endTime))},e.prototype.getActiveSurveys=function(){var e={},t=this.getPrioritizedCampaigns();for(var n in this.campaignStates)if(this.campaignStates.hasOwnProperty(n)){var a=this.campaignStates[n];if(!a.IsCandidate)continue;var i=t[a.CampaignId];if(!i)continue;var r=c.CampaignSurveyFactory.makeSurvey(a,i,this.stringProvider);if(!r)continue;e[r.getSurveyInfo().getId()]=r}return e},e.prototype.onCampaignSurveyActivated=function(e,t,n){var a=this.campaignStates[e];if(a){t=t||new Date;var i=this.campaignDefinitions[e].nominationScheme.cooldownPeriod.asTimeIntervalSeconds();a.markCurrentSurveyTakenOnDate(t,i,n),this.saveCurrentState()}},e.prototype.getCampaignStates=function(){return this.campaignStates},e.prototype.getCampaignDefinitions=function(){return this.campaignDefinitions},e.prototype.getUserFacts=function(){return this.userFacts},e.prototype.onSurveyActivated=function(e,t){e&&this.onCampaignSurveyActivated(e.getBackEndId(),new Date,t)},e.prototype.refreshSurveyDefinitions=function(e,t){this.refreshSurveyDefinitionsPrivate(e,t||new Date)},e.prototype.refreshSurveyDefinitionsAsync=function(e,t){var n=this;return new Promise(function(a,i){n.refreshSurveyDefinitionsPrivateAsync(e,t||new Date).then(function(){a()}).catch(function(e){i(e)})})},e.prototype.getAppSurveys=function(){return this.getActiveSurveys()},e.prototype.saveCurrentState=function(){var e=r.makeArrayFromObjectValuesSortedByKeyString(this.campaignStates);this.stateProvider.save(e)},e.prototype.refreshSurveyDefinitionsPrivate=function(e,t){this.needRefreshSurveyDefinitions()?(this.lastCampaignRefreshTime=new Date,this.campaignDefinitions={},this.userFacts=[],this.loadFilterCampaigns(t,e)):this.FilterCampaignsOnRestart(t,e),this.campaignStates={},this.LoadFilterCampaignStates(t),this.evaluateCampaigns(t)},e.prototype.refreshSurveyDefinitionsPrivateAsync=function(e,t){var n;this.campaignStates={},this.campaignDefinitions={},this.userFacts=[],this.lastCampaignRefreshTime=null!==(n=this.lastCampaignRefreshTime)&&void 0!==n?n:new Date;var a=this;return new Promise(function(n,i){a.loadAndFilterCampaignDataAsync(t,e).then(function(){a.evaluateCampaigns(t),n()}).catch(function(e){i(e)})})},e.prototype.loadAndFilterCampaignDataAsync=function(e,t){e=e||new Date;for(var n=[],i=[],r=this.userFactsProvider&&this.userFactsProvider.loadAsync(),o=0,s=Object.keys(this.definitionProviders);o<s.length;o++){var c=s[o],l=this.definitionProviders[c],u=l&&l.loadAsync();m(u)||(u=u.catch(function(){a.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider"),Promise.resolve()}),i.push(u))}var f=this;return new Promise(function(o,s){Promise.all(i).then(function(i){for(var s=0,c=Object.keys(i);s<c.length;s++){var l=i[c[s]];p(l)&&(n=n.concat(l))}var u=function(a){f.userFacts=a||[],f.FilterCampaignData(e,t,n),o()};m(r)?u():r.then(function(e){u(e)}).catch(function(){a.FloodgateEngine.getTelemetryLogger().log_Error(d.TelemetryEvent.Floodgate.UserFactsLoad.Failed,"Failed to load from user facts provider"),u()})}).catch(function(e){a.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider")})})},e.prototype.loadFilterCampaigns=function(t,n){t=t||new Date;for(var i=[],r=0,o=Object.keys(this.definitionProviders);r<o.length;r++){var s=o[r];try{var c=this.definitionProviders[s]&&this.definitionProviders[s].load();p(c)&&(i=i.concat(c))}catch(e){a.FloodgateEngine.getTelemetryLogger().log_CampaignLoad_Failed("Failed to load from campaign definition provider. "+e.toString())}}try{this.userFacts=this.userFactsProvider&&this.userFactsProvider.load()||[]}catch(e){a.FloodgateEngine.getTelemetryLogger().log_Error(d.TelemetryEvent.Floodgate.UserFactsLoad.Failed,"Failed to load from user facts provider. "+e)}for(var u in i)if(i.hasOwnProperty(u)){var f=i[u];if(n&&n.indexOf(f.governedChannelType)<0&&f.businessLevel!==l.BusinessLevel.Critical)continue;if(!e.isCampaignInScope(f,t,this.environmentProvider,this.userFactsProvider))continue;this.campaignDefinitions[f.campaignId]=f}},e.prototype.FilterCampaignData=function(t,n,a){var i={};for(var o in a)if(a.hasOwnProperty(o)){if(i[(u=a[o]).campaignId]=u,n&&n.indexOf(u.governedChannelType)<0&&u.businessLevel!==l.BusinessLevel.Critical)continue;if(!e.isCampaignInScope(u,t,this.environmentProvider,this.userFactsProvider))continue;this.campaignDefinitions[u.campaignId]=u}var s=this.stateProvider.load(),c=[];for(var o in s)if(s.hasOwnProperty(o)){var d=s[o];this.campaignDefinitions.hasOwnProperty(d.CampaignId)||c.push(d),this.campaignStates[d.CampaignId]=d}for(var o in c)if(c.hasOwnProperty(o)){if(!(d=c[o]))continue;var u,f=!1;(u=i[d.CampaignId])?e.isStateUpForNomination(d,u,t,this.currentBuildNumber)&&(f=!0):d.LastNominationTimeUtc.getTime()<=r.subtractSecondsWithoutOverflow(t,d.DeleteAfterSecondsWhenStale).getTime()&&(f=!0),f&&delete this.campaignStates[d.CampaignId]}},e.prototype.getPrioritizedCampaigns=function(){var e=this,t={},n={};return Object.keys(this.campaignDefinitions||[]).forEach(function(a){var i=e.campaignDefinitions[a];e.campaignStates.hasOwnProperty(a)&&e.campaignStates[a].IsCandidate&&(t[a]=i,(i.tags&&i.tags.length>0?i.tags:[""]).forEach(function(e){var t=e+"_"+i.governedChannelType;n[t]=n[t]||[],n[t].push(i)}))}),Object.keys(n).forEach(function(a){var o;if(e.isPriorityEnabled||!a.endsWith("_"+i.GovernedChannelType.Standard)){var s=n[a];if(!(s.length<=1)){var c=r.findHighestPriorityDefinition(s),d=c[0],l=c[1],u=null!==(o=d.primaryPriority)&&void 0!==o?o:0;l&&s.forEach(function(e){var n=e.primaryPriority;!m(e.primaryPriority)&&n>u&&delete t[e.campaignId]})}}}),t},e.prototype.evaluateCampaigns=function(t){for(var n in t=t||new Date,this.campaignDefinitions)if(this.campaignDefinitions.hasOwnProperty(n)){var a=this.campaignDefinitions[n],i=this.campaignStates[a.campaignId];if(!i||e.isStateUpForNomination(i,a,t,this.currentBuildNumber)){var o=i?i.LastSurveyId:"",c=i?i.LastSurveyStartTimeUtc:f(),d=i?i.LastSurveyExpirationTimeUtc:f(),l=i?i.LastSurveyActivatedTimeUtc:f(),u=i?i.LastCooldownEndTimeUtc:f(),p=i&&i.ForceCandidacy||a.nominationScheme.evaluateNominationRules();p&&(o=r.guid(),c=a.nominationScheme.calculateSurveyStartTimeFromDate(t),d=a.nominationScheme.calculateSurveyExpirationTimeFromSurveyStartTime(c));var m=new s.CampaignState(a.campaignId,t,this.currentBuildNumber,a.nominationScheme.getActiveSurveyTimeIntervalSeconds(),!1,p,!1,l,o,c,d,u);this.campaignStates[m.CampaignId]=m}}},e.prototype.needRefreshSurveyDefinitions=function(){return!this.lastCampaignRefreshTime},e.prototype.FilterCampaignsOnRestart=function(t,n){for(var a in this.campaignDefinitions)if(this.campaignDefinitions.hasOwnProperty(a)){var i=this.campaignDefinitions[a];if(n&&n.indexOf(i.governedChannelType)<0&&i.businessLevel!==l.BusinessLevel.Critical){delete this.campaignDefinitions[i.campaignId];continue}if(!e.isCampaignInScope(i,t,this.environmentProvider,this.userFactsProvider)){delete this.campaignDefinitions[i.campaignId];continue}}},e.prototype.LoadFilterCampaignStates=function(t){var n=this.stateProvider.load(),a=[];for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];this.campaignDefinitions.hasOwnProperty(o.CampaignId)||a.push(o),this.campaignStates[o.CampaignId]=o}for(var i in a)if(a.hasOwnProperty(i)){if(!(o=a[i]))continue;var s=this.campaignDefinitions[o.CampaignId],c=!1;s?e.isStateUpForNomination(o,s,t,this.currentBuildNumber)&&(c=!0):o.LastNominationTimeUtc.getTime()<=r.subtractSecondsWithoutOverflow(t,o.DeleteAfterSecondsWhenStale).getTime()&&(c=!0),c&&delete this.campaignStates[o.CampaignId]}},e}();t.CampaignManager=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CampaignSurveyFactory=void 0;var a=n(18),i=n(61),r=n(64),o=n(65),s=n(67),c=n(68),d=n(70),l=n(71),u=n(25),f=n(9),p=n(21),m=f.dateToShortUtcString,_=f.isNOU,h=function(){function e(){}return e.makeSurvey=function(t,n,a){if(!(t&&n&&n.surveyTemplate&&a))return null;var i=e.makeSurveyDataSourceData(t,n),r=n.surveyTemplate;return r instanceof p.CampaignSurveyTemplateNps5PointStatic?l.make5Point(i,a):r instanceof p.CampaignSurveyTemplateNps11PointStatic?l.make11Point(i,a):r instanceof p.CampaignSurveyTemplateFps?o.makeFps(i,a,r):r instanceof p.CampaignSurveyTemplateNlqs?d.makeNlqs(i,a,r):r instanceof p.CampaignSurveyTemplateNps?l.makeCustom(i,a,r):r instanceof p.CampaignSurveyTemplateGenericMessagingSurface?s.makeCustom(i):r instanceof p.CampaignSurveyTemplateIntercept?c.makeIntercept(i,a,r):null},e.makeSurveyDataSourceData=function(t,n){if(!t||!n||!n.surveyTemplate)return null;var i=n.surveyTemplate,r=new u.SurveyDataSourceData;return r.activationEvent=e.makeEvent(t,i.activationEvent),r.metadata=e.makeMetadata(i.metadata),r.id=t.LastSurveyId,r.backEndIdentifier=t.CampaignId,r.expirationTimeUtc=m(t.LastSurveyExpirationTimeUtc),r.governedChannelType=n.governedChannelType,r.startTimeUtc=m(t.LastSurveyStartTimeUtc),r.additionalDataRequested=n.additionalDataRequested||[],r.launcherType=n.launcherType||a.LAUNCHER_TYPE_DEFAULT,r.preferredLaunchType=n.surveyTemplate.preferredLaunchType||"Default",r.businessLevel=n.businessLevel,_(i.maxLaunches)||(r.maxLaunches=i.maxLaunches),_(i.maxLaunchesPerSession)||(r.maxLaunchesPerSession=i.maxLaunchesPerSession),r},e.makeCountedActivityEventData=function(e){if(!e)return null;var t=new i.CountedActivityEventData;return t.activity=e.activity,t.count=e.count,t.isAggregate=e.isAggregate,t},e.makeCountedActivityEvent=function(t,n){if(!t||!n)return null;var a=e.makeCountedActivityEventData(n);return a?new i.CountedActivityEvent(a):null},e.makeCountedActivitySequenceEvent=function(t,n){if(!t||!n)return null;var a=new i.CountedActivitySequenceEventData;a.sequence=[];for(var r=0,o=n.sequence;r<o.length;r++){var s=o[r],c=e.makeCountedActivityEventData(s);if(!c)return null;a.sequence.push(c)}return new i.CountedActivitySequenceEvent(a)},e.makeEvent=function(t,n){return n instanceof p.CampaignSurveyEventCountedActivity?e.makeCountedActivityEvent(t,n):n instanceof p.CampaignSurveyEventCountedActivitySequence?e.makeCountedActivitySequenceEvent(t,n):null},e.makeMetadata=function(e){if(_(e)||_(e.contentMetadata))return null;var t=new r.Metadata;return t.contentMetadata=e.contentMetadata,new r.SurveyMetadata(t)},e}();t.CampaignSurveyFactory=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CountedActivitySequenceEventData=t.CountedActivitySequenceEvent=t.CountedActivityEventData=t.CountedActivityEvent=void 0;var a=n(62),i=n(63),r=function(){function e(e){if(!e)throw new Error("data must not be null");if(e.count<=0)throw new Error("count must be greater than 0");if(!e.activity||0===e.activity.length)throw new Error("activity must not be null or an empty string");this.data=e}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getActivity=function(){return this.data.activity},e.prototype.getCount=function(){return this.data.count},e.prototype.isAggregate=function(){return this.data.isAggregate},e.prototype.getType=function(){return"CountedActivity"},e.prototype.getTrackingSet=function(){var e=new Array;return e.push(new a.ActivityTrackingData(this.data.activity,this.data.count,this.data.isAggregate)),new i.ActivityTrackingSet(!1,e)},e}();t.CountedActivityEvent=r,t.CountedActivityEventData=function(){};var o=function(){function e(e){if(!e)throw new Error("data must not be null");if(!e.sequence)throw new Error("data.sequence must not be null");if(0===e.sequence.length)throw new Error("data.sequence size must be greater than 0");this.data=[];for(var t=0,n=e.sequence;t<n.length;t++){var a=n[t];this.data.push(new r(a))}}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getSequence=function(){return this.data},e.prototype.getType=function(){return"CountedActivitySequence"},e.prototype.getTrackingSet=function(){for(var e=new Array,t=0,n=this.data;t<n.length;t++){var r=n[t];e.push(new a.ActivityTrackingData(r.getActivity(),r.getCount(),r.isAggregate()))}return new i.ActivityTrackingSet(!0,e)},e}();t.CountedActivitySequenceEvent=o;var s=function(){function e(){}return e.prototype.CountedActivitySequenceEventData=function(){},e}();t.CountedActivitySequenceEventData=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityTrackingData=void 0;var a=function(){function e(e,t,n){this.activity=e,this.count=t,this.isAggregate=n}return e.prototype.getActivity=function(){return this.activity},e.prototype.getCount=function(){return this.count},e.prototype.setCount=function(e){this.count=e},e.prototype.getIsAggregate=function(){return this.isAggregate},e}();t.ActivityTrackingData=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityTrackingSet=void 0;var a=n(9),i=function(){function e(e,t){this.isOrdered=e,this.list=t}return e.prototype.getIsOrdered=function(){return this.isOrdered},e.prototype.getList=function(){return this.list},e.prototype.getActivityTrackingInfo=function(e,t){var n;if(0===this.list.length)return n={Activities:[],IsListOrdered:this.isOrdered},JSON.stringify(n);for(var i=0,r=this.list;i<r.length;i++){var o=r[i],s=e.getCount(o.getActivity(),t),c={Activity:o.getActivity(),ActualCount:s,Count:o.getCount(),IsAggregate:o.getIsAggregate(),IsDiscrete:s%1==0};a.isNOU(n)?n={Activities:[c],IsListOrdered:this.isOrdered}:n.Activities.push(c)}return JSON.stringify(n)},e}();t.ActivityTrackingSet=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=t.SurveyMetadata=void 0;var a=n(9),i=function(){function e(e){if(!e)throw new Error("data must not be null");if(!e.contentMetadata)throw new Error("content metadata must not be null");if(!a.isObject(e.contentMetadata))throw new Error("content metadata must be of object type");this.data=e}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getContentMetadata=function(){return this.data.contentMetadata},e}();t.SurveyMetadata=i,t.Metadata=function(){}},function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=n(18),o=n(19),s=n(39),c=n(46),d=n(66),l=n(40),u=n(41),f=n(9),p=n(30),m=n(25),_=f.isNOU,h=function(e){function t(t){var n=e.call(this)||this;if(_(t))throw new Error("data must not be null");return n.surveyInfo=new m(t.baseData),n.prompt=new l(t.promptData),n.question=t.commentData?new s(t.commentData):null,n.rating=t.ratingData?new u(t.ratingData):null,n.multipleChoice=t.multipleChoiceData?new d(t.multipleChoiceData):null,n.cvSurvey=t.cvSurveyData?new c(t.cvSurveyData):null,n}return i(t,e),t.make=function(e){try{return new t(e)}catch(e){return null}},t.makeFps=function(e,n,a){if(_(e)||_(n)||_(a))return null;var i=[],r=[],o=a.content;if(_(o)||_(o.prompt)||_(o.rating)&&_(o.multipleChoice)&&_(o.comment))return null;var f=new t.FpsSurveyData;if(f.baseData=e,f.promptData=new l.PromptComponentData,f.promptData.title=n.getCustomString(o.prompt.title),f.promptData.question=n.getCustomString(o.prompt.question),f.promptData.yesButtonLabel=n.getCustomString(o.prompt.yesLabel),f.promptData.noButtonLabel=n.getCustomString(o.prompt.noLabel),_(f.promptData.title)||_(f.promptData.question)||_(f.promptData.yesButtonLabel)||_(f.promptData.noButtonLabel))return null;if(o.rating){f.ratingData=new u.RatingComponentData,f.ratingData.question=n.getCustomString(o.rating.question),f.ratingData.isZeroBased=o.rating.isZeroBased;for(var p=0,m=o.rating.ratingValuesAscending;p<m.length;p++){var h=m[p],b=n.getCustomString(h);if(_(b))return null;i.push(b)}if(f.ratingData.ratingValuesAscending=i,_(f.ratingData.question)||_(f.ratingData.ratingValuesAscending))return null}if(o.multipleChoice){f.multipleChoiceData=new d.MultipleChoiceComponentData,f.multipleChoiceData.question=n.getCustomString(o.multipleChoice.question),f.multipleChoiceData.minNumberOfSelectedOptions=o.multipleChoice.minNumberOfSelectedOptions,f.multipleChoiceData.maxNumberOfSelectedOptions=o.multipleChoice.maxNumberOfSelectedOptions;for(var g=0,v=o.multipleChoice.availableOptions;g<v.length;g++){if(h=v[g],b=n.getCustomString(h),_(b))return null;r.push(b)}if(f.multipleChoiceData.availableOptions=r,_(f.multipleChoiceData.question)||_(f.multipleChoiceData.availableOptions))return null}return o.comment&&(f.commentData=new s.CommentComponentData,f.commentData.question=n.getCustomString(o.comment.question),_(f.commentData.question))||o.cvSurvey&&(f.cvSurveyData=new c.CVSurveyComponentData,f.cvSurveyData.customerVoiceFormId=o.cvSurvey.customerVoiceFormId,_(f.cvSurveyData.customerVoiceFormId))?null:this.make(f)},t.prototype.getType=function(){return r.Type.Fps},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getMultipleChoiceComponent=function(){return this.multipleChoice},t.prototype.getCVSurveyComponent=function(){return this.cvSurvey},t.prototype.getComponent=function(e){switch(e){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();case"MultipleChoice":return this.getMultipleChoiceComponent();case"CVSurvey":return this.getCVSurveyComponent();default:return null}},t.prototype.getDomElements=function(e){if(_(e))throw new Error("Document must not be null");var t=e.createElement(r.DOM_FPS_TAGNAME);return this.getSurveyInfo().getDomElements(e).forEach(function(e){_(e)||t.appendChild(e)}),this.getCommentComponent().getDomElements(e).forEach(function(e){_(e)||t.appendChild(e)}),this.getRatingComponent()&&this.getRatingComponent().getDomElements(e).forEach(function(e){_(e)||t.appendChild(e)}),this.getMultipleChoiceComponent()&&this.getMultipleChoiceComponent().getDomElements(e).forEach(function(e){_(e)||t.appendChild(e)}),[t]},t.prototype.getJsonElements=function(){var e,t={};return(t=f.overrideValues(this.getSurveyInfo().getJsonElements(),t))[o.JSON_APPLICATION_KEYNAME]={},t[o.JSON_APPLICATION_KEYNAME][o.JSON_EXTENDEDMANIFESTDATA_KEYNAME]=JSON.stringify(((e={})[o.JSON_SURVEYSTRINGS_KEYNAME]=this.makeSurveyStrings(),e[o.JSON_SURVEYSPECIFICDATA_KEYNAME]=this.makeResponseString(),e)),t},t.prototype.makeResponseString=function(){var e={};return this.question&&(e[o.JSON_COMMENT_KEYNAME]=[this.getCommentComponent().getSubmittedText()]),this.multipleChoice&&(e[o.JSON_MULTIPLECHOICE_KEYNAME]=[this.getMultipleChoiceComponent().getOptionSelectedStates()]),this.rating&&(e[o.JSON_RATING_KEYNAME]=[{numberOfOptions:this.getRatingComponent().getRatingValuesAscending().length,selectedRating:this.getRatingComponent().getSelectedRatingIndex()}]),JSON.stringify(e)},t.prototype.makeSurveyStrings=function(){var e={};return this.prompt&&(e[o.JSON_PROMPT_KEYNAME]=this.prompt.getComponentJson()),this.rating&&(e[o.JSON_RATING_KEYNAME]=[this.rating.getComponentJson()]),this.question&&(e[o.JSON_COMMENT_KEYNAME]=[this.question.getComponentJson()]),this.multipleChoice&&(e[o.JSON_MULTIPLECHOICE_KEYNAME]=[this.multipleChoice.getComponentJson()]),JSON.stringify(e)},t}(p.Survey);!function(e){e.FpsSurveyData=function(){}}(h||(h={})),e.exports=h},function(e,t,n){"use strict";var a=n(19),i=function(){function e(e){if(!e)throw new Error("data must not be null");if(!e.question)throw new Error("data.question must not be null or empty");if(!e.availableOptions||e.availableOptions.length<2)throw new Error("data.availableOptions must not be null or have less than two choices");e.availableOptions.forEach(function(e){if(!e)throw new Error("Option values must not contain null or empty")}),this.data=e,this.optionStates=new Array(e.availableOptions.length);for(var t=0;t<this.optionStates.length;t++)this.optionStates[t]=!1}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getType=function(){return"MultipleChoice"},e.prototype.getQuestion=function(){return this.data.question},e.prototype.getAvailableOptions=function(){return this.data.availableOptions},e.prototype.getOptionSelectedStates=function(){return this.optionStates},e.prototype.getMinNumberofSelectedOptions=function(){return this.data.minNumberOfSelectedOptions},e.prototype.getMaxNumberofSelectedOptions=function(){return this.data.maxNumberOfSelectedOptions},e.prototype.setOptionSelectedStates=function(e){for(var t=0;t<e.length;t++)this.optionStates[t]=e[t]},e.prototype.ValidateMinNumberofSelectedOptions=function(){var e=0;return this.optionStates.forEach(function(t){t&&e++}),e>=this.getMinNumberofSelectedOptions()},e.prototype.ValidateMaxNumberofSelectedOptions=function(){var e=0;return this.optionStates.forEach(function(t){t&&e++}),e<=this.getMaxNumberofSelectedOptions()},e.prototype.getDomElements=function(e){if(!e)throw new Error("Document must not be null");var t=e.createElement(a.DOM_MULTIPLECHOICE_TAGNAME);return t.appendChild(e.createTextNode(this.getOptionSelectedStates().toString())),[t]},e.prototype.getJsonElements=function(){var e={};return e[a.JSON_MULTIPLECHOICE_KEYNAME]=this.getOptionSelectedStates().toString(),e},e.prototype.getComponentJson=function(){var e;return(e={})[a.JSON_QUESTION_KEYNAME]=this.getQuestion(),e[a.JSON_RATINGOPTIONS_KEYNAME]=this.getAvailableOptions(),e},e}();!function(e){e.MultipleChoiceComponentData=function(){}}(i||(i={})),e.exports=i},function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=n(18),o=n(9),s=n(30),c=n(25),d=o.isNOU,l=function(e){function t(t){var n=e.call(this)||this;if(!t)throw new Error("data must not be null");if(n.surveyInfo=new c(t.baseData),d(n.surveyInfo.getMetadata()))throw new Error("metadata must not be null");return n}return i(t,e),t.make=function(e){try{return new t(e)}catch(e){return null}},t.makeCustom=function(e){if(d(e))return null;var n=new t.GenericMessagingSurfaceSurveyData;return n.baseData=e,this.make(n)},t.prototype.getType=function(){return r.Type.GenericMessagingSurface},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getComponent=function(e){return null},t.prototype.getDomElements=function(e){return[]},t.prototype.getJsonElements=function(){return{}},t}(s.Survey);!function(e){e.GenericMessagingSurfaceSurveyData=function(){}}(l||(l={})),e.exports=l},function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=n(18),o=n(69),s=n(9),c=n(30),d=n(25),l=s.isNOU,u=function(e){function t(t){var n=e.call(this)||this;if(l(t))throw new Error("data must not be null");return n.surveyInfo=new d(t.baseData),n.intercept=new o(t.interceptData),n}return i(t,e),t.make=function(e){try{return new t(e)}catch(e){return null}},t.makeIntercept=function(e,n,a){if(l(e)||l(n)||l(a))return null;var i=a.content;if(l(i)||l(i.intercept))return null;var r=new t.InterceptSurveyData;return r.baseData=e,r.interceptData=new o.InterceptComponentData,r.interceptData.title=n.getCustomString(i.intercept.title),r.interceptData.question=n.getCustomString(i.intercept.question),r.interceptData.url=n.getCustomString(i.intercept.url),l(r.interceptData.title)||l(r.interceptData.question)||l(r.interceptData.url)?null:this.make(r)},t.prototype.getType=function(){return r.Type.Intercept},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getInterceptComponent=function(){return this.intercept},t.prototype.getComponent=function(e){return"Intercept"===e?this.getInterceptComponent():null},t.prototype.getDomElements=function(e){return[]},t.prototype.getJsonElements=function(){return{}},t}(c.Survey);!function(e){e.InterceptSurveyData=function(){}}(u||(u={})),e.exports=u},function(e,t,n){"use strict";var a=n(19),i=function(){function e(e){if(!e)throw new Error("data must not be null");if(!e.question)throw new Error("data.question must not be null or empty");if(!e.title)throw new Error("data.title must not be null or empty");if(!e.url)throw new Error("data.url must not be null or empty");this.data=e}return e.make=function(t){try{return new e(t)}catch(e){return null}},e.prototype.getType=function(){return"Intercept"},e.prototype.getTitle=function(){return this.data.title},e.prototype.getQuestion=function(){return this.data.question},e.prototype.getUrl=function(){return this.data.url},e.prototype.getDomElements=function(e){if(!e)throw new Error("Document must not be null");return[e.createElement(a.DOM_INTERCEPT_TAGNAME)]},e.prototype.getJsonElements=function(){var e;return(e={})[a.JSON_INTERCEPT_KEYNAME]="",e},e.prototype.getComponentJson=function(){var e;return(e={})[a.JSON_TITLE_KEYNAME]=this.getTitle(),e[a.JSON_QUESTION_KEYNAME]=this.getQuestion(),e[a.JSON_INTERCEPTURL_KEYNAME]=this.getUrl(),e},e}();!function(e){e.InterceptComponentData=function(){}}(i||(i={})),e.exports=i},function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=n(18),o=n(39),s=n(40),c=n(41),d=n(9),l=n(30),u=n(25),f=d.isNOU,p=d.overrideValues,m=function(e){function t(t){var n=e.call(this)||this;if(f(t))throw new Error("data must not be null");return n.surveyInfo=new u(t.baseData),n.prompt=new s(t.promptData),n.question=new o(t.commentData),n.rating=new c(t.ratingData),n}return i(t,e),t.make=function(e){try{return new t(e)}catch(e){return null}},t.makeNlqs=function(e,n,a){if(f(e)||f(n)||f(a))return null;var i=[],r=a.content;if(f(r)||f(r.comment)||f(r.prompt)||f(r.rating))return null;var d=new t.NlqsSurveyData;d.baseData=e,d.promptData=new s.PromptComponentData,d.ratingData=new c.RatingComponentData,d.commentData=new o.CommentComponentData,d.promptData.title=n.getCustomString(r.prompt.title),d.promptData.question=n.getCustomString(r.prompt.question),d.promptData.yesButtonLabel=n.getCustomString(r.prompt.yesLabel),d.promptData.noButtonLabel=n.getCustomString(r.prompt.noLabel),d.ratingData.question=n.getCustomString(r.rating.question),d.ratingData.isZeroBased=r.rating.isZeroBased,d.commentData.question=n.getCustomString(r.comment.question);for(var l=0,u=r.rating.ratingValuesAscending;l<u.length;l++){var p=u[l],m=n.getCustomString(p);if(f(m))return null;i.push(m)}return d.ratingData.ratingValuesAscending=i,f(d.ratingData.question)||f(d.commentData.question)||f(d.promptData.title)||f(d.promptData.question)||f(d.promptData.yesButtonLabel)||f(d.promptData.noButtonLabel)||f(d.ratingData.ratingValuesAscending)?null:this.make(d)},t.prototype.getType=function(){return r.Type.Nlqs},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getComponent=function(e){switch(e){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();default:return null}},t.prototype.getDomElements=function(e){if(f(e))throw new Error("Document must not be null");var t=e.createElement(r.DOM_NLQS_TAGNAME);return this.getSurveyInfo().getDomElements(e).forEach(function(e){f(e)||t.appendChild(e)}),this.getCommentComponent().getDomElements(e).forEach(function(e){f(e)||t.appendChild(e)}),this.getRatingComponent().getDomElements(e).forEach(function(e){f(e)||t.appendChild(e)}),[t]},t.prototype.getJsonElements=function(){var e={};return e=p(this.getSurveyInfo().getJsonElements(),e),e=p(this.getCommentComponent().getJsonElements(),e),p(this.getRatingComponent().getJsonElements(),e)},t}(l.Survey);!function(e){e.NlqsSurveyData=function(){}}(m||(m={})),e.exports=m},function(e,t,n){"use strict";var a,i=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=n(18),o=n(19),s=n(39),c=n(46),d=n(40),l=n(41),u=n(9),f=n(30),p=n(25),m=u.isNOU,_=u.overrideValues,h=function(e){function t(t){var n=e.call(this)||this;if(!t)throw new Error("data must not be null");return n.surveyInfo=new p(t.baseData),n.prompt=new d(t.promptData),n.question=new s(t.commentData),n.rating=new l(t.ratingData),n.cvSurvey=t.cvSurveyData?new c(t.cvSurveyData):null,n}return i(t,e),t.make=function(e){try{return new t(e)}catch(e){return null}},t.makeCustom=function(e,n,a){if(m(e)||m(n)||m(a))return null;var i=[],r=a.content;if(m(r)||m(r.comment)||m(r.prompt)||m(r.rating))return null;var o=new t.NpsSurveyData;o.baseData=e,o.promptData=new d.PromptComponentData,o.ratingData=new l.RatingComponentData,o.commentData=new s.CommentComponentData,o.promptData.title=n.getCustomString(r.prompt.title),o.promptData.question=n.getCustomString(r.prompt.question),o.promptData.yesButtonLabel=n.getCustomString(r.prompt.yesLabel),o.promptData.noButtonLabel=n.getCustomString(r.prompt.noLabel),o.ratingData.question=n.getCustomString(r.rating.question),o.ratingData.isZeroBased=r.rating.isZeroBased,o.commentData.question=n.getCustomString(r.comment.question);for(var u=0,f=r.rating.ratingValuesAscending;u<f.length;u++){var p=f[u],_=n.getCustomString(p);if(m(_))return null;i.push(_)}return o.ratingData.ratingValuesAscending=i,m(o.ratingData.question)||m(o.commentData.question)||m(o.promptData.title)||m(o.promptData.question)||m(o.promptData.yesButtonLabel)||m(o.promptData.noButtonLabel)||m(o.ratingData.ratingValuesAscending)||r.cvSurvey&&(o.cvSurveyData=new c.CVSurveyComponentData,o.cvSurveyData.customerVoiceFormId=r.cvSurvey.customerVoiceFormId,m(o.cvSurveyData.customerVoiceFormId))?null:this.make(o)},t.make5Point=function(e,n){if(!e||!n)return null;var a=new t.NpsSurveyData;a.baseData=e,a.ratingData=new l.RatingComponentData,a.ratingData.isZeroBased=!1,a.commentData=new s.CommentComponentData,a.promptData=new d.PromptComponentData,a.ratingData.question=n.loadStringResource(4),a.commentData.question=n.loadStringResource(21),a.promptData.title=n.loadStringResource(0),a.promptData.question=n.loadStringResource(1),a.promptData.yesButtonLabel=n.loadStringResource(2),a.promptData.noButtonLabel=n.loadStringResource(3);var i=new Array(5);return i[0]=n.loadStringResource(16),i[1]=n.loadStringResource(17),i[2]=n.loadStringResource(18),i[3]=n.loadStringResource(19),i[4]=n.loadStringResource(20),a.ratingData.question&&a.commentData.question&&a.promptData.title&&a.promptData.question&&a.promptData.yesButtonLabel&&a.promptData.noButtonLabel&&i[0]&&i[1]&&i[2]&&i[3]&&i[4]?(a.ratingData.ratingValuesAscending=i,this.make(a)):null},t.make11Point=function(e,n){if(!e||!n)return null;var a=new t.NpsSurveyData;a.baseData=e,a.ratingData=new l.RatingComponentData,a.ratingData.isZeroBased=!0,a.commentData=new s.CommentComponentData,a.promptData=new d.PromptComponentData,a.ratingData.question=n.loadStringResource(4),a.commentData.question=n.loadStringResource(21),a.promptData.title=n.loadStringResource(0),a.promptData.question=n.loadStringResource(1),a.promptData.yesButtonLabel=n.loadStringResource(2),a.promptData.noButtonLabel=n.loadStringResource(3);var i=new Array(11);return i[0]=n.loadStringResource(5),i[1]=n.loadStringResource(6),i[2]=n.loadStringResource(7),i[3]=n.loadStringResource(8),i[4]=n.loadStringResource(9),i[5]=n.loadStringResource(10),i[6]=n.loadStringResource(11),i[7]=n.loadStringResource(12),i[8]=n.loadStringResource(13),i[9]=n.loadStringResource(14),i[10]=n.loadStringResource(15),a.ratingData.question&&a.commentData.question&&a.promptData.title&&a.promptData.question&&a.promptData.yesButtonLabel&&a.promptData.noButtonLabel&&i[0]&&i[1]&&i[2]&&i[3]&&i[4]&&i[5]&&i[6]&&i[7]&&i[8]&&i[9]&&i[10]?(a.ratingData.ratingValuesAscending=i,this.make(a)):null},t.prototype.getType=function(){return r.Type.Nps},t.prototype.getSurveyInfo=function(){return this.surveyInfo},t.prototype.getCommentComponent=function(){return this.question},t.prototype.getPromptComponent=function(){return this.prompt},t.prototype.getRatingComponent=function(){return this.rating},t.prototype.getCVSurveyComponent=function(){return this.cvSurvey},t.prototype.getComponent=function(e){switch(e){case"Comment":return this.getCommentComponent();case"Prompt":return this.getPromptComponent();case"Rating":return this.getRatingComponent();case"CVSurvey":return this.getCVSurveyComponent();default:return null}},t.prototype.getDomElements=function(e){if(!e)throw new Error("Document must not be null");var t=e.createElement(r.DOM_NPS_TAGNAME);return this.getSurveyInfo().getDomElements(e).forEach(function(e){e&&t.appendChild(e)}),this.getCommentComponent().getDomElements(e).forEach(function(e){e&&t.appendChild(e)}),this.getRatingComponent().getDomElements(e).forEach(function(e){e&&t.appendChild(e)}),[t]},t.prototype.getJsonElements=function(){var e,t={};return t=_(this.getSurveyInfo().getJsonElements(),t),t=_(this.getCommentComponent().getJsonElements(),t),(t=_(this.getRatingComponent().getJsonElements(),t))[o.JSON_APPLICATION_KEYNAME]={},t[o.JSON_APPLICATION_KEYNAME][o.JSON_EXTENDEDMANIFESTDATA_KEYNAME]=JSON.stringify(((e={})[o.JSON_SURVEYSTRINGS_KEYNAME]=this.makeSurveyStrings(),e)),t},t.prototype.makeSurveyStrings=function(){var e={};return this.prompt&&(e[o.JSON_PROMPT_KEYNAME]=this.prompt.getComponentJson()),this.rating&&(e[o.JSON_RATING_KEYNAME]=[this.rating.getComponentJson()]),this.question&&(e[o.JSON_COMMENT_KEYNAME]=[this.question.getComponentJson()]),JSON.stringify(e)},t}(f.Survey);!function(e){e.NpsSurveyData=function(){}}(h||(h={})),e.exports=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FloodgateSettings=void 0;var a=function(){function e(){}return e.toJson=function(e){return JSON.stringify(e)},e.fromJson=function(e){return JSON.parse(e)},e}();t.FloodgateSettings=a},function(e,t,n){"use strict";var a=function(){function e(e){if(!e)throw new Error("trackingSet must not be null");if(e.getList().length>32)throw new Error("trackingSet list size must be less than 32");this.isOrdered=e.getIsOrdered(),this.trackedActivities=e.getList(),this.currentIndex=0,this.activationMask=0,this.currentActivationFlags=0,this.isActivationByInitPending=!1,this.currentCounts=new Array(this.trackedActivities.length),this.currentStartTimes=new Array(this.trackedActivities.length),this.currentSessionCounts=new Array(this.trackedActivities.length);for(var t=0;t<this.trackedActivities.length;t++)this.currentCounts[t]=0,this.currentSessionCounts[t]=0;for(t=0;t<this.trackedActivities.length;t++)this.activationMask|=1<<t,this.trackedActivities[t].getCount()<1&&this.trackedActivities[t].setCount(1)}return e.prototype.getCount=function(e){return this.isValidIndex(e)?this.currentCounts[e]:0},e.prototype.getSessionCount=function(e){return this.isValidIndex(e)?this.currentSessionCounts[e]:0},e.prototype.getStartTime=function(e){return this.isValidIndex(e)?this.currentStartTimes[e]:null},e.prototype.moveSessionCountIntoBaseCount=function(e){if(!this.isValidIndex(e))return 0;var t=this.currentSessionCounts[e];return this.currentSessionCounts[e]=0,t},e.prototype.initCounts=function(e,t,n){void 0===n&&(n=!1);for(var a=0;a<this.trackedActivities.length&&!(this.isOrdered&&a>this.currentIndex);a++)a<t.length&&t[a]&&(this.currentSessionCounts[a]=this.currentCounts[a]=t[a].tracker.getSessionCount(t[a].index),this.currentStartTimes[a]=t[a].tracker.getStartTime(t[a].index)),this.trackedActivities[a].getIsAggregate()&&a<e.length&&(this.currentCounts[a]+=e[a]),this.hasCountCrossedThreshold(a)&&this.finishActivityAtIndex(a);this.isActivated()&&!n&&(this.isActivationByInitPending=!0)},e.prototype.generateActivityIndexList=function(){for(var t=new Array,n=0;n<this.trackedActivities.length;n++){var a=new e.ActivityIndex;a.activity=this.trackedActivities[n].getActivity(),a.index=n,t.push(a)}return t},e.prototype.incrementActivity=function(e,t){if(!this.isValidIndex(e))return 0;if(t<0)throw new Error("increment must be non-negative");if(this.isOrdered&&e>this.currentIndex)return 0;var n=!this.hasCountCrossedThreshold(e);return this.currentCounts[e]+=t,this.currentSessionCounts[e]+=t,this.isActivationByInitPending?this.isPermittedIndexForActivationByInit(e)?this.commitActivation():0:n&&this.hasCountCrossedThreshold(e)?(this.finishActivityAtIndex(e),this.isActivated()?this.commitActivation():1):0},e.prototype.startTime=function(e,t){this.isValidIndex(e)&&(this.currentStartTimes[e]=t||new Date)},e.prototype.stopTime=function(e,t){if(!this.isValidIndex(e))return 0;var n=this.currentStartTimes[e];if(this.currentStartTimes[e]=null,!n)return 0;if(n>(t=t||new Date))return 0;var a=(t.getTime()-n.getTime())/1e3;return a%1==0&&(a+=.001),a},e.prototype.isValidIndex=function(e){return e<this.trackedActivities.length},e.prototype.isActivated=function(){return(this.currentActivationFlags&this.activationMask)===this.activationMask},e.prototype.finishActivityAtIndex=function(e){if(!this.isValidIndex(e))throw new Error("Index is not valid");this.currentActivationFlags|=1<<e,e+1<this.trackedActivities.length&&(this.currentIndex=e+1)},e.prototype.hasCountCrossedThreshold=function(e){if(!this.isValidIndex(e))throw new Error("Index is not valid");return this.currentCounts[e]>=this.trackedActivities[e].getCount()},e.prototype.isPermittedIndexForActivationByInit=function(e){return!this.isOrdered||e+1===this.currentCounts.length},e.prototype.commitActivation=function(){return this.isActivationByInitPending=!1,2},e}();!function(e){e.ActivityIndex=function(){}}(a||(a={})),e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedTracker=void 0,t.IndexedTracker=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityTrackingContract=void 0,t.ActivityTrackingContract=function(e,t){this.surveyId=e,this.trackingSet=t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasSurveyReachedMaxLaunches=t.hasSurveyReachedMaxLaunchesPerSession=t.isCriticalSurvey=t.isBusinessCriticalSurvey=t.isMultiLaunchSurvey=void 0;var a=n(11),i=n(9);function r(e){var t=null==e?void 0:e.getMaxLaunches();return i.isNumber(t)&&t>1}function o(e){var t=null==e?void 0:e.getBusinessLevel();return!i.isNOU(t)&&t===a.ISurveyInfo.BusinessLevel.Critical}t.isMultiLaunchSurvey=r,t.isBusinessCriticalSurvey=o,t.isCriticalSurvey=function(e){return r(e)||o(e)},t.hasSurveyReachedMaxLaunchesPerSession=function(e,t){var n;return!r(e)||!i.isNumber(e.getMaxLaunchesPerSession())||(null!==(n=t[e.getId()])&&void 0!==n?n:0)>=e.getMaxLaunchesPerSession()},t.hasSurveyReachedMaxLaunches=function(e,t){return!r(e)||((null==t?void 0:t.SurveyLaunchCount)||0)>=e.getMaxLaunches()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateUserFacts=t.deserializeUserFacts=void 0;var a=n(78);t.deserializeUserFacts=function(e){var t=[];for(var n in e.UserFacts)if(e.UserFacts.hasOwnProperty(n)){var i=e.UserFacts[n];i&&t.push(a.UserFact.deserialize(i))}return 0===t.length&&(t=null),t},t.validateUserFacts=function(e){if(e)for(var t in e)if(e.hasOwnProperty(t)&&!e[t])return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserFact=void 0;var a=n(15),i=n(20),r=n(9),o=r.isNOU,s=r.isNumber,c=r.isArray,d=[0,1,2,3,4,5],l=function(){function e(e){this.input=e}return e.deserialize=function(t){return this.validate(t)?new e(t):null},e.validate=function(e){if(!e)return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Input is null or undefined for user fact"),!1;if(!e.Value&&e.Values&&(e.Value=e.Values),o(e.Name)||o(e.Type)||o(e.Value))return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Either of the required parameters Name: "+e.Name+", Type: "+e.Type+" or Value: "+e.Value+" are not provided for the user fact"),!1;if(!this.validateUserFactType(e.Type))return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid UserFactType value "+e.Type+" is provided for user fact"),!1;if(6===e.Type)return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Unsupported UserFactType value "+e.Type+" is provided for user fact"),!1;if(e.LatencyType&&!this.validateLatencyType(e.LatencyType))return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid LatencyType value "+e.LatencyType+" is provided for user fact of type "+e.Type),!1;if(e.LatencyType&&0!==e.LatencyType&&o(e.LatencyDurationInSeconds))return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"LatencyDurationInSeconds value "+e.LatencyDurationInSeconds+" is not provided for user fact of type "+e.Type),!1;if(e.LatencyDurationInSeconds&&!s(e.LatencyDurationInSeconds))return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Invalid LatencyDurationInSeconds value "+e.LatencyDurationInSeconds+" is provided for user fact of type "+e.Type),!1;if(1===e.Type&&o(e.IntervalType))return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecDeserialization.Failed,"Required parameter intervalType is not provided for user fact of type "+e.Type),!1;var t=this.getComparatorTypes(e.Type);return!(e.Comparator&&!function(e,t){return-1!==t.indexOf(e)}(e.Comparator,t)&&(i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,"Unsupported comparator type for user fact of type "+e.Type),1))},e.getComparatorTypes=function(e){switch(e){case 0:return[0,1];case 4:return[0,1,6,7,8,9];case 5:return[6,7,8,9];case 1:case 2:case 3:case 6:return d}return d},e.validateLatencyType=function(e){return 0===e||3===e||1===e||2===e},e.validateUserFactType=function(e){return 0===e||2===e||3===e||4===e||1===e||5===e||6===e},e.prototype.isAMatch=function(e){if(!e||!e.userFactValue)return!1;if(!this.isLatencyAcceptable(e))return!1;try{var t=this.getType();return 0===t?function(e,t,n){return u(!!e,!!JSON.parse(t.userFactValue.toLowerCase()),n)}(this.getValue(),e,this.getComparator()):2===t?function(e,t,n){var a=Date.parse(t.userFactValue);if(!p(a,t.userFactValue,t.userFactName))return!1;var i=Date.parse(e);return!!p(i,e,null,2)&&u(i,a,n)}(this.getValue(),e,this.getComparator()):3===t?function(e,t,n){var a=parseInt(t.userFactValue,10);return!!p(a,t.userFactValue,t.userFactName)&&u(e,a,n)}(this.getValue(),e,this.getComparator()):4===t?function(e,t,n){return u(e.toLowerCase(),t.userFactValue.toLowerCase(),n)}(this.getValue(),e,this.getComparator()):1===t?function(e,t,n,r){var o=Date.parse(t.userFactValue);if(!p(o,t.userFactValue,t.userFactName))return!1;var s=Date.now(),c=0===r?s-o:o-s;return c<0?(i.FloodgateEngine.getTelemetryLogger().log_Event(a.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch,{ErrorMessage:"Interval type not acceptable - { Spec: "+e+', Name: "'+t.userFactName+'" }',TimeMilliseconds:c,Type:""+r}),!1):u(864e5*e,c,n)}(this.getValue(),e,this.getComparator(),this.getIntervalType()):5===t?function(e,t,n){return u(e,t.userFactValue,n)}(this.getValue(),e,this.getComparator()):(i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,"Unsupported type of user fact was provided "+t),!1)}catch(e){return i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,e),!1}},e.prototype.getType=function(){return this.input.Type},e.prototype.getName=function(){return this.input.Name},e.prototype.getValue=function(){return this.input.Value},e.prototype.getComparator=function(){return this.input.Comparator||0},e.prototype.getLatencyType=function(){return this.input.LatencyType||0},e.prototype.getLatencyDurationInSeconds=function(){return this.input.LatencyDurationInSeconds},e.prototype.getIntervalType=function(){return this.input.IntervalType},e.prototype.isLatencyAcceptable=function(e){var t=this.getType();return!(!o(this.getLatencyDurationInSeconds())&&!function(e,t,n){var a;switch(e){case 0:break;case 1:a=n.sourceDateTime;break;case 2:a=n.storageDateTime;break;case 3:a=n.clientIngestionDateTime}if(!o(a)){var i=Date.parse(a);return Date.now()-i<=1e3*t}return!0}(this.getLatencyType(),this.getLatencyDurationInSeconds(),e)&&(i.FloodgateEngine.getTelemetryLogger().log_Event(a.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Mismatch,{ErrorMessage:'Latency duration not acceptable - { Name: "'+e.userFactName+'" }',TimeMilliseconds:this.getLatencyDurationInSeconds(),Type:""+t}),1))},e}();function u(e,t,n){switch(n){case 0:return t===e;case 1:return t!==e;case 2:return t>e;case 3:return t>=e;case 4:return t<e;case 5:return t<=e;case 6:return f(e,t);case 7:return!f(e,t);case 8:return f(t,e);case 9:return!f(t,e)}}function f(e,t){if("string"==typeof t){var n=t.toLowerCase();if("string"==typeof e)return-1!==e.toLowerCase().indexOf(n);if(c(e))return e.some(function(e){return e&&e.toString().toLowerCase()===n})}return!!c(e)&&-1!==e.indexOf(t)}function p(e,t,n,r){if(!s(e)){var o="User fact "+n+" has invalid value "+t;return r&&(o="Invalid value "+t+" was provided for user fact of type "+r),i.FloodgateEngine.getTelemetryLogger().log_Error(a.TelemetryEvent.Floodgate.UserFactsSpecIsAMatch.Failed,o),!1}return!0}t.UserFact=l},function(e,t,n){var a;a=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e,10),this.low<0&&(this.high=-1)}return e.prototype.Equals=function(t){var n=new e(t);return this.low===n.low&&this.high===n.high},e}();t.Int64=a;var i=function(){function e(e){this.low=0,this.high=0,this.low=parseInt(e,10)}return e.prototype.Equals=function(t){var n=new e(t);return this.low===n.low&&this.high===n.high},e}();t.UInt64=i;var r=function(){function e(){}return e.ToByte=function(e){return this.ToUInt8(e)},e.ToInt16=function(e){return 32767&e|(32768&e)<<16>>16},e.ToInt32=function(e){return 2147483647&e|2147483648&e},e.ToUInt8=function(e){return 255&e},e.ToUInt32=function(e){return 4294967295&e},e}();t.Number=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NotSet=0]="NotSet",e[e.DistinguishedName=1]="DistinguishedName",e[e.GenericData=2]="GenericData",e[e.IPV4Address=3]="IPV4Address",e[e.IPv6Address=4]="IPv6Address",e[e.MailSubject=5]="MailSubject",e[e.PhoneNumber=6]="PhoneNumber",e[e.QueryString=7]="QueryString",e[e.SipAddress=8]="SipAddress",e[e.SmtpAddress=9]="SmtpAddress",e[e.Identity=10]="Identity",e[e.Uri=11]="Uri",e[e.Fqdn=12]="Fqdn",e[e.IPV4AddressLegacy=13]="IPV4AddressLegacy"}(t.AWTPiiKind||(t.AWTPiiKind={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),i=n(1),r=n(3),o=function(){function e(){}return e.getPayloadBlob=function(e,t){var n=new a.IO.MemoryStream,i=new a.CompactBinaryProtocolWriter(n);return i.WriteFieldBegin(a.BondDataType.BT_MAP,3),i.WriteMapContainerBegin(t,a.BondDataType.BT_STRING,a.BondDataType.BT_LIST),Object.keys(e).forEach(function(t){i.WriteString(t);var n=e[t];i.WriteContainerBegin(1,a.BondDataType.BT_STRUCT),i.WriteFieldBegin(a.BondDataType.BT_STRING,2),i.WriteString("act_default_source"),i.WriteFieldBegin(a.BondDataType.BT_STRING,5),i.WriteString(r.newGuid()),i.WriteFieldBegin(a.BondDataType.BT_INT64,6),i.WriteInt64(r.numberToBondInt64(Date.now())),i.WriteFieldBegin(a.BondDataType.BT_LIST,8),i.WriteContainerBegin(n.length,a.BondDataType.BT_STRUCT);for(var o=0;o<n.length;++o)i.WriteBlob(n[o]);i.WriteStructEnd(!1)}),i.WriteStructEnd(!1),n.GetBuffer()},e.getEventBlob=function(e){var t=new a.IO.MemoryStream,n=new a.CompactBinaryProtocolWriter(t);n.WriteFieldBegin(a.BondDataType.BT_STRING,1),n.WriteString(e.id),n.WriteFieldBegin(a.BondDataType.BT_INT64,3),n.WriteInt64(r.numberToBondInt64(e.timestamp)),n.WriteFieldBegin(a.BondDataType.BT_STRING,5),n.WriteString(e.type),n.WriteFieldBegin(a.BondDataType.BT_STRING,6),n.WriteString(e.name);var o=[],s=[];return Object.keys(e.properties).forEach(function(t){e.properties[t].pii===i.AWTPiiKind.NotSet?o.push(t):s.push(t)}),o.length&&(n.WriteFieldBegin(a.BondDataType.BT_MAP,13),n.WriteMapContainerBegin(o.length,a.BondDataType.BT_STRING,a.BondDataType.BT_STRING),o.forEach(function(t){n.WriteString(t),n.WriteString(e.properties[t].value)})),s.length&&(n.WriteFieldBegin(a.BondDataType.BT_MAP,30),n.WriteMapContainerBegin(s.length,a.BondDataType.BT_STRING,a.BondDataType.BT_STRUCT),s.forEach(function(t){n.WriteString(t),n.WriteFieldBegin(a.BondDataType.BT_INT32,1),n.WriteInt32(1),n.WriteFieldBegin(a.BondDataType.BT_INT32,2),n.WriteInt32(e.properties[t].pii),n.WriteFieldBegin(a.BondDataType.BT_STRING,3),n.WriteString(e.properties[t].value),n.WriteStructEnd(!1)})),n.WriteStructEnd(!1),t.GetBuffer()},e.base64Encode=function(e){return a.Encoding.Base64.GetString(e)},e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=/[xy]/g;t.numberToBondInt64=function(e){var t=new a.Int64("0");return t.low=4294967295&e,t.high=Math.floor(e/4294967296),t},t.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(i,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},t.isPii=function(e){return!isNaN(e)&&null!==e&&e>=0&&e<=13}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.2.2",t.FullVersionString="AWT-Web-CJS-"+t.Version},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);t.AWTPiiKind=a.AWTPiiKind;var i=n(13);t.AWT=i.default,t.AWT_COLLECTOR_URL_UNITED_STATES="https://us.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_GERMANY="https://de.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_JAPAN="https://jp.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_AUSTRALIA="https://au.pipe.aria.microsoft.com/Collector/3.0/",t.AWT_COLLECTOR_URL_EUROPE="https://eu.pipe.aria.microsoft.com/Collector/3.0/"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BT_STOP=0]="BT_STOP",e[e.BT_STOP_BASE=1]="BT_STOP_BASE",e[e.BT_UINT8=3]="BT_UINT8",e[e.BT_UINT32=5]="BT_UINT32",e[e.BT_UINT64=6]="BT_UINT64",e[e.BT_STRING=9]="BT_STRING",e[e.BT_STRUCT=10]="BT_STRUCT",e[e.BT_LIST=11]="BT_LIST",e[e.BT_MAP=13]="BT_MAP",e[e.BT_INT32=16]="BT_INT32",e[e.BT_INT64=17]="BT_INT64",e[e.BT_UNAVAILABLE=127]="BT_UNAVAILABLE"}(t.BondDataType||(t.BondDataType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=function(){function e(){}return e.GetBytes=function(e){for(var t=[],n=0;n<e.length;++n){var a=e.charCodeAt(n);a<128?t.push(a):a<2048?t.push(192|a>>6,128|63&a):a<55296||a>=57344?t.push(224|a>>12,128|a>>6&63,128|63&a):(a=65536+((1023&a)<<10|1023&e.charCodeAt(++n)),t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|63&a))}return t},e}();t.Utf8=i;var r=function(){function e(){}return e.GetString=function(e){for(var t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=[],i=e.length%3,r=0,o=e.length-i;r<o;r+=3){var s=(e[r]<<16)+(e[r+1]<<8)+e[r+2];a.push([n.charAt((t=s)>>18&63),n.charAt(t>>12&63),n.charAt(t>>6&63),n.charAt(63&t)].join(""))}switch(i){case 1:s=e[e.length-1],a.push(n.charAt(s>>2)),a.push(n.charAt(s<<4&63)),a.push("==");break;case 2:var c=(e[e.length-2]<<8)+e[e.length-1];a.push(n.charAt(c>>10)),a.push(n.charAt(c>>4&63)),a.push(n.charAt(c<<2&63)),a.push("=")}return a.join("")},e}();t.Base64=r;var o=function(){function e(){}return e.GetBytes=function(e){for(var t=[];4294967168&e;)t.push(127&e|128),e>>>=7;return t.push(127&e),t},e}();t.Varint=o;var s=function(){function e(){}return e.GetBytes=function(e){for(var t=e.low,n=e.high,a=[];n||4294967168&t;)a.push(127&t|128),t=(127&n)<<25|t>>>7,n>>>=7;return a.push(127&t),a},e}();t.Varint64=s;var c=function(){function e(){}return e.EncodeZigzag32=function(e){return(e=a.Number.ToInt32(e))<<1^e>>31},e.EncodeZigzag64=function(e){var t=e.low,n=e.high,i=n<<1|t>>>31,r=t<<1;2147483648&n&&(i=~i,r=~r);var o=new a.UInt64("0");return o.low=r,o.high=i,o},e}();t.Zigzag=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=function(){function e(){this._buffer=[]}return e.prototype.WriteByte=function(e){this._buffer.push(a.Number.ToByte(e))},e.prototype.Write=function(e,t,n){for(;n--;)this.WriteByte(e[t++])},e.prototype.GetBuffer=function(){return this._buffer},e}();t.MemoryStream=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6);t.BondDataType=a.BondDataType;var i=n(7);t.Encoding=i;var r=n(8);t.IO=r;var o=n(0);t.Int64=o.Int64,t.UInt64=o.UInt64,t.Number=o.Number;var s=function(){function e(e){this._stream=e}return e.prototype.WriteBlob=function(e){this._stream.Write(e,0,e.length)},e.prototype.WriteContainerBegin=function(e,t){this.WriteUInt8(t),this.WriteUInt32(e)},e.prototype.WriteMapContainerBegin=function(e,t,n){this.WriteUInt8(t),this.WriteUInt8(n),this.WriteUInt32(e)},e.prototype.WriteFieldBegin=function(e,t){t<=5?this._stream.WriteByte(e|t<<5):t<=255?(this._stream.WriteByte(192|e),this._stream.WriteByte(t)):(this._stream.WriteByte(224|e),this._stream.WriteByte(t),this._stream.WriteByte(t>>8))},e.prototype.WriteInt32=function(e){e=i.Zigzag.EncodeZigzag32(e),this.WriteUInt32(e)},e.prototype.WriteInt64=function(e){this.WriteUInt64(i.Zigzag.EncodeZigzag64(e))},e.prototype.WriteString=function(e){if(""===e)this.WriteUInt32(0);else{var t=i.Utf8.GetBytes(e);this.WriteUInt32(t.length),this._stream.Write(t,0,t.length)}},e.prototype.WriteStructEnd=function(e){this.WriteUInt8(e?a.BondDataType.BT_STOP_BASE:a.BondDataType.BT_STOP)},e.prototype.WriteUInt32=function(e){var t=i.Varint.GetBytes(o.Number.ToUInt32(e));this._stream.Write(t,0,t.length)},e.prototype.WriteUInt64=function(e){var t=i.Varint64.GetBytes(e);this._stream.Write(t,0,t.length)},e.prototype.WriteUInt8=function(e){this._stream.WriteByte(o.Number.ToUInt8(e))},e}();t.CompactBinaryProtocolWriter=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){this._killedTokenDictionary={}}return e.prototype.setKillSwitchTenants=function(e,t){var n=this;if(e&&t)try{var a=e.split(",");if("this-request-only"===t)return a;var i=1e3*parseInt(t,10);a.forEach(function(e){n._killedTokenDictionary[e]=Date.now()+i})}catch(e){return[]}return[]},e.prototype.isTenantKilled=function(e){return void 0!==this._killedTokenDictionary[e]&&this._killedTokenDictionary[e]>Date.now()||(delete this._killedTokenDictionary[e],!1)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),i=function(){function e(e,t){this._maxRequestSize=e,this._outboundQueue=t,this._currentBatch={},this._currentBatchSize=0}return e.prototype.addEventToBatch=function(e){var t=a.default.getEventBlob(e);t.length>this._maxRequestSize||(this._currentBatchSize+t.length>this._maxRequestSize?this.flushBatch():(void 0===this._currentBatch[e.tenantToken]&&(this._currentBatch[e.tenantToken]=[]),this._currentBatch[e.tenantToken].push(t),this._currentBatchSize+=t.length))},e.prototype.flushBatch=function(){this._currentBatchSize>0&&(this._outboundQueue.push(this._currentBatch),this._currentBatch={},this._currentBatchSize=0)},e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(){}return e.shouldRetryForStatus=function(e){return!(e>=300&&e<500&&408!==e||501===e||505===e)},e.getMillisToBackoffForRetry=function(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(4,e)*n,Math.min(t,12e4)},e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(14),r=n(3),o=n(4),s=/^[a-zA-Z0-9]([a-zA-Z0-9]|_){2,98}[a-zA-Z0-9]$/,c=/\./g,d=/^[a-zA-Z0-9](([a-zA-Z0-9|_|\.]){0,98}[a-zA-Z0-9])?$/,l=function(){function e(){}return e.initialize=function(e,t){if(void 0===t&&(t={}),this._isInitialized)throw"Already Initialized";this._defaultTenantToken=e,this._overrideValuesFromConfig(t),i.default.initialize(this._config),this._isInitialized=!0},e.flush=function(e){this._isInitialized&&!this._isDestroyed&&i.default.flush(e)},e.flushAndTeardown=function(){this._isInitialized&&!this._isDestroyed&&(this._isDestroyed=!0,i.default.flushAndTeardown())},e.setContext=function(e,t,n){void 0===n&&(n="allTkns"),null!==(t=this._sanitizeProperty(e,t))&&(this._contextProperties[n]||(this._contextProperties[n]={}),this._contextProperties[n][e]=t)},e.logEvent=function(e){var t=this;if(this._isInitialized){if(!e.name||!e.properties)return;e.name=e.name.toLowerCase(),e.name.replace(c,"_");var n="";if(e.type?(e.type.toLowerCase(),n="custom."):e.type="custom",!s.test(e.name)||!s.test(e.type))return;if(e.type=n+e.type,isNaN(e.timestamp)&&(e.timestamp=(new Date).getTime()),e.tenantToken||(e.tenantToken=this._defaultTenantToken),e.id=r.newGuid(),Object.keys(e.properties).forEach(function(n){e.properties[n]=t._sanitizeProperty(n,e.properties[n]),null===e.properties[n]&&delete e.properties[n]}),this._addContextIfAbsent(e,e.tenantToken),this._addContextIfAbsent(e,"allTkns"),0===Object.keys(e.properties).length)return;this._setDefaultProperty(e,"EventInfo.InitId",this._getInitId(e.tenantToken)),this._setDefaultProperty(e,"EventInfo.Sequence",this._getSequenceId(e.tenantToken)),this._setDefaultProperty(e,"EventInfo.SdkVersion",o.FullVersionString),this._setDefaultProperty(e,"EventInfo.Name",e.name),this._setDefaultProperty(e,"EventInfo.Time",new Date(e.timestamp).toISOString()),i.default.sendEvent(e)}},e._overrideValuesFromConfig=function(e){e.collectorUrl&&(this._config.collectorUrl=e.collectorUrl),e.sendingTimer>1e3&&(this._config.sendingTimer=e.sendingTimer)},e._getInitId=function(e){return void 0===this._initIdMap[e]&&(this._initIdMap[e]=r.newGuid()),this._initIdMap[e]},e._getSequenceId=function(e){return void 0===this._sequenceIdMap[e]&&(this._sequenceIdMap[e]=0),(++this._sequenceIdMap[e]).toString()},e._setDefaultProperty=function(e,t,n){e.properties[t]={value:n,pii:a.AWTPiiKind.NotSet}},e._addContextIfAbsent=function(e,t){if(this._contextProperties[t]){var n=this._contextProperties[t];Object.keys(n).forEach(function(t){e.properties[t]||(e.properties[t]=n[t])})}},e._sanitizeProperty=function(e,t){return"string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t||(t={value:t}),d.test(e)&&null!=t&&null!==t.value&&void 0!==t.value&&""!==t.value?(void 0===t.pii&&(t.pii=a.AWTPiiKind.NotSet),t.value=t.value.toString(),r.isPii(t.pii)?t:null):null},e._isInitialized=!1,e._isDestroyed=!1,e._contextProperties={},e._sequenceIdMap={},e._initIdMap={},e._config={collectorUrl:"https://browser.pipe.aria.microsoft.com/Collector/3.0/",sendingTimer:1e3},e}();t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(11),i=n(2),r=n(12),o=n(10),s=n(4),c=function(){function e(){}return e.initialize=function(e){this._inboundQueues.push([]),this._recordBatcher=new a.default(2936012,this._outboundQueue),this._newEventsAllowed=!0,"undefined"==typeof Uint8Array&&(this._urlString+="&content-encoding=base64"),this._sendingTimer=e.sendingTimer,this._urlString=e.collectorUrl+this._urlString+"&x-apikey="},e.sendEvent=function(e){var t=this;this._newEventsAllowed&&(this._inboundQueues[this._inboundQueues.length-1].push(e),!this._running&&this._timeout<0&&!this._isCurrentlyFlushing&&(this._timeout=setTimeout(function(){return t._batchAndSendEvents(!1)},this._sendingTimer)))},e.flushAndTeardown=function(){this._newEventsAllowed=!1,this._batchAndSendEvents(!0)},e.flush=function(e){this._inboundQueues.push([]),this._isCurrentlyFlushing?this._flushQueue.push(e):(this._isCurrentlyFlushing=!0,this._flush(e))},e._batchAndSendEvents=function(e){for(this._running=!0;this._inboundQueues[0].length>0&&this._outboundQueue.length<1;)this._recordBatcher.addEventToBatch(this._inboundQueues[0].pop());0===this._outboundQueue.length&&this._recordBatcher.flushBatch(),this._sendRequest(this._outboundQueue.pop(),0,e)},e._retryRequestIfNeeded=function(e,t,n,a,i){var o=this,s=!0;e&&void 0!==e.status&&(this._killSwitch.setKillSwitchTenants(e.getResponseHeader("kill-tokens"),e.getResponseHeader("kill-duration-seconds")).forEach(function(e){delete t[e],n--}),(!r.default.shouldRetryForStatus(e.status)||n<=0)&&(s=!1)),s&&i<4?setTimeout(function(){return o._sendRequest(t,i+1,!1)},r.default.getMillisToBackoffForRetry(i)):this._handleRequestFinished(null)},e._sendRequest=function(e,t,n){var a=this;try{var r=new XMLHttpRequest,o=0,s="";if(Object.keys(e).forEach(function(t){a._killSwitch.isTenantKilled(t)?delete e[t]:(s.length>0&&(s+=","),s+=t,o++)}),r.open("POST",this._urlString+s,!n),n||(r.ontimeout=function(){a._retryRequestIfNeeded(r,e,o,s,t)},r.onerror=function(){a._retryRequestIfNeeded(r,e,o,s,t)},r.onload=function(){a._handleRequestFinished(r)}),o>0){var c=i.default.getPayloadBlob(e,o);"undefined"==typeof Uint8Array?r.send(i.default.base64Encode(c)):r.send(new Uint8Array(c))}else n&&this._handleRequestFinished(null)}catch(e){this._handleRequestFinished(null)}},e._handleRequestFinished=function(e){var t=this;e&&this._killSwitch.setKillSwitchTenants(e.getResponseHeader("kill-tokens"),e.getResponseHeader("kill-duration-seconds")),this._inboundQueues[0].length>0?this._timeout=setTimeout(function(){return t._batchAndSendEvents(!1)},this._sendingTimer):(this._timeout=-1,this._running=!1)},e._flush=function(e){var t=this;this._running||(this._timeout>-1&&(clearTimeout(this._timeout),this._timeout=-1),this._inboundQueues[0].length>0&&this._batchAndSendEvents(!1)),this._checkPrimaryInboundQueueEmpty(function(){t._inboundQueues.shift(),null!=e&&e(),t._flushQueue.length>0?setTimeout(function(){return t._flush(t._flushQueue.shift())},t._sendingTimer):(t._isCurrentlyFlushing=!1,t._inboundQueues[0].length>0&&(t._timeout=setTimeout(function(){return t._batchAndSendEvents(!1)},t._sendingTimer)))})},e._checkPrimaryInboundQueueEmpty=function(e){var t=this;0===this._inboundQueues[0].length?this._checkOutboundQueueEmptyAndSent(e):setTimeout(function(){return t._checkPrimaryInboundQueueEmpty(e)},250)},e._checkOutboundQueueEmptyAndSent=function(e){var t=this;this._running?setTimeout(function(){return t._checkOutboundQueueEmptyAndSent(e)},250):e()},e._outboundQueue=[],e._inboundQueues=[],e._newEventsAllowed=!1,e._killSwitch=new o.default,e._isCurrentlyFlushing=!1,e._flushQueue=[],e._running=!1,e._timeout=-1,e._urlString="?qsp=true&content-type=application%2Fbond-compact-binary&client-id=NO_AUTH&sdk-version="+s.FullVersionString,e}();t.default=c},function(e,t,n){e.exports=n(5)}])},e.exports=a()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationState=void 0,function(e){e[e.Undefined=0]="Undefined",e[e.Created=10]="Created",e[e.Sent=20]="Sent",e[e.Duplicated=30]="Duplicated",e[e.Seen=40]="Seen",e[e.Tried=50]="Tried",e[e.Kept=60]="Kept",e[e.Rejected=70]="Rejected"}(t.AnnotationState||(t.AnnotationState={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GridConstants=void 0;var a=function(){function e(){}return e.lowerIndexBound=1,e.maxNumberOfRows=1048576,e.maxNumberOfColumns=16384,e.firstColumnName="A",e.lastColumnName="XFD",e}();t.GridConstants=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BinaryClassificationAnnotation=t.Annotation=void 0;var a=n(26),i=function(){function e(t){a.SchemaObject.assign(e,this,t)}return Object.defineProperty(e.prototype,"metadata",{get:function(){return this.M_},set:function(e){this.M_=e},enumerable:!1,configurable:!0}),e.getTypeName=function(){return"AugLoop_Core_Annotation"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.Annotation=i;var r=function(){function e(t){a.SchemaObject.assign(e,this,t)}return Object.defineProperty(e.prototype,"metadata",{get:function(){return this.M_},set:function(e){this.M_=e},enumerable:!1,configurable:!0}),e.getTypeName=function(){return"AugLoop_Core_BinaryClassificationAnnotation"},e.getBaseTypes=function(){return["AugLoop_Core_Annotation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.BinaryClassificationAnnotation=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserCommand=t.Event=void 0;var a=n(26),i=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_Event"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.Event=i;var r=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_UserCommand"},e.getBaseTypes=function(){return["AugLoop_Core_Event"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.UserCommand=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignalOperation=t.MicroSyncOperation=t.DeltaUpdateOperation=t.VisibilityOperation=t.FocusOperation=t.PurgeOperation=t.DeleteOperation=t.UpdateOperation=t.UpdateAnnotationMetaDataOperation=t.MoveOperation=t.AddOperation=t.OperationWithSiblingContext=t.Operation=t.ItemChangesDelta=t.ItemDelta=void 0;var a=n(26),i=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_ItemDelta"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.ItemDelta=i;var r=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_ItemChangesDelta"},e.getBaseTypes=function(){return["AugLoop_Core_ItemDelta"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.ItemChangesDelta=r;var o=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_Operation"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.Operation=o;var s=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_OperationWithSiblingContext"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.OperationWithSiblingContext=s;var c=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_AddOperation"},e.getBaseTypes=function(){return["AugLoop_Core_OperationWithSiblingContext","AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.AddOperation=c;var d=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_MoveOperation"},e.getBaseTypes=function(){return["AugLoop_Core_OperationWithSiblingContext","AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.MoveOperation=d;var l=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_UpdateAnnotationMetaDataOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.UpdateAnnotationMetaDataOperation=l;var u=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_UpdateOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.UpdateOperation=u;var f=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_DeleteOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.DeleteOperation=f;var p=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_PurgeOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.PurgeOperation=p;var m=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_FocusOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.FocusOperation=m;var _=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_VisibilityOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.VisibilityOperation=_;var h=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_DeltaUpdateOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.DeltaUpdateOperation=h;var b=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_MicroSyncOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.MicroSyncOperation=b;var g=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Signals_SignalOperation"},e.getBaseTypes=function(){return["AugLoop_Core_Operation"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.SignalOperation=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Signal=void 0;var a=n(26),i=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Signals_Signal"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.Signal=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserCommandsHolder=t.EventsHolder=t.TenantContextHolder=t.UserContextHolder=t.ContextHolder=t.DynamicContext=t.GridNeighborhoodContext=t.GridCell=t.SubDocument=t.Document=t.Session=t.TileGroup=t.Binary=t.Blob=void 0;var a=n(26),i=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_Blob"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.Blob=i;var r=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_Binary"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.Binary=r;var o=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_TileGroup"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.TileGroup=o;var s=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_Session"},e.getBaseTypes=function(){return["AugLoop_Core_TileGroup"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.Session=s;var c=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_Document"},e.getBaseTypes=function(){return["AugLoop_Core_TileGroup"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.Document=c;var d=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_SubDocument"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.SubDocument=d;var l=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_GridCell"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.GridCell=l;var u=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_GridNeighborhoodContext"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.GridNeighborhoodContext=u;var f=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_DynamicContext"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.DynamicContext=f;var p=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_ContextHolder"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.ContextHolder=p;var m=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_UserContextHolder"},e.getBaseTypes=function(){return["AugLoop_Core_ContextHolder"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.UserContextHolder=m;var _=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_TenantContextHolder"},e.getBaseTypes=function(){return["AugLoop_Core_ContextHolder"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.TenantContextHolder=_;var h=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_EventsHolder"},e.getBaseTypes=function(){return[]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.EventsHolder=h;var b=function(){function e(t){a.SchemaObject.assign(e,this,t)}return e.getTypeName=function(){return"AugLoop_Core_UserCommandsHolder"},e.getBaseTypes=function(){return["AugLoop_Core_EventsHolder"]},e.typeGuard=function(t){return a.SchemaObject.matchesTypesFor(t,[e.getTypeName()])},e.H_={T_:e.getTypeName(),B_:e.getBaseTypes()},e}();t.UserCommandsHolder=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unitTestExports=t.getQuestionAnswers=t.getSurveyQuestionAnswer=t.shouldIncludeSurveyQuesitonAnswer=t.validatePromptValue=t.renderCVSurvey=void 0;var a=n(92),i=n(51),r=!1,o=!1,s=[],c=[],d=[],l=!1,u=!1,f=!1,p=0,m=!0,_=function(e,t,n,a,i){void 0===i&&(i=!1),L.unsubscribeEventHandler(e),t.addEventListener(n,a,{once:i}),L.registeredEventHandlers[e]={element:t,event:n,handler:a}},h=function(e){var t=L.registeredEventHandlers[e];t&&(t.element.removeEventListener(t.event,t.handler),delete L.registeredEventHandlers[e])};function b(e){return function(t,n){var a,r;try{e(t,n)}catch(t){var o=null!==(a=t.message)&&void 0!==a?a:i.DEFAULT_ERR_MSG;try{e(i.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:i.EVENT_HANDLER_ERROR,customProperties:{ErrorMessage:o}})}catch(e){var s=null!==(r=e.message)&&void 0!==r?r:i.DEFAULT_ERR_MSG;console.error("ERROR: Cannot call survey logging callback. Unable to log the following error: "+o+" Logging callback failed with error: "+s)}}}}function g(e){return null==e}function v(e,t,n,a){if(!e)return t(i.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:i.GATECRASH_RENDER_ERROR,customProperties:{Message:"Parent div name not provided."},isMainContext:m}),null;var r=document.createElement("div");r.id=e,"Dark"!==n.uiHostCVSurveyDispatcher&&"HighContrast"!==n.uiHostCVSurveyDispatcher||(r.style.backgroundColor="Black");var o=function(e){return[e&&e.cssPosition?e.cssPosition:i.CVSurveyPositionDefaults.cssPosition,e&&e.cssZIndex?e.cssZIndex:i.CVSurveyPositionDefaults.cssZIndex,e&&e.cssBottom?e.cssBottom:i.CVSurveyPositionDefaults.cssBottom,e&&e.cssRight?e.cssRight:i.CVSurveyPositionDefaults.cssRight]}(a),s=o[0],c=o[1],d=o[2],l=o[3];r.style.position=s,r.style.zIndex=c,r.style.bottom=d,r.style.right=l,document.body.appendChild(r);var u=document.getElementById(e);return u?(u.style.display="none",u):(t(i.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:i.GATECRASH_RENDER_ERROR,customProperties:{Message:"Parent element with id "+e+" not found."},isMainContext:m}),null)}function y(e,t,n,a,o){var u,f,_=null==o?void 0:o.data;function b(e){e?d.length&&s.unshift(""+d.pop()):s.length&&d.push(""+s.shift()),t&&(t.style.minWidth=d.length?""+d.slice(-1):"590px")}if(!g(_)){if("string"==typeof _&&_.includes("ResponsePageHeight")){var v=_.split(":"),y=t.ownerDocument.getElementById(i.IFRAME_ID);if(y&&y.style)return void(y.style.height=v[2]+"px")}var D=null===(u=_.FormTitle)||void 0===u?void 0:u.includes("IsDispatcherSurvey=true");if("ResponsePageLoaded"===_.Type)return D&&(p-=1),!(null==_?void 0:_.Message)&&function(e){if(!g(e)){var t=e.split(",").slice(1),n=t.map(function(e){return(""+e).split("=")[1]});s.push.apply(s,n);var a=t.map(function(e){return(""+e).split("=")[0].trim()});c.push.apply(c,a)}}(_.FormTitle),b(),t.style.display=D?"none":"inherit",e(i.CV_LOADED_EVENT,{dateTime:new Date,eventType:_.Type,hasSurveyPromptShown:_.FormTitle.includes("prompt"),hasSurveyDispatcher:D,isMainContext:m}),null==t||t.blur(),void(!1!==n&&-1!=p&&I(r,t,e,a));if("FormResponseBack"===_.Type&&b(!0),"FormResponseCanceled"===_.Type)return e(i.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:i.GATECRASH_ON_SURVEY_CANCEL,customProperties:{Message:"gatecrash: survey cancel triggered: FormResponseCanceled"},isMainContext:m}),void S(t,e,"FormResponseCanceled");if("FormResponseSubmitted"===_.Type||"FormPartialResponseSubmitted"===_.Type){p+=1,b(),D||e(i.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:i.GATECRASH_ON_SURVEY_DATA_SUBMIT,customProperties:{Message:"gatecrash: onSubmitCallback has been triggered for type:  + "+_.Type},isMainContext:m});try{D||(e(i.CV_SUBMIT_EVENT,{dateTime:new Date,eventType:_.Type,formTitle:_.FormTitle,pageNumber:p.toString(),pageInfo:x(_.Message),isMainContext:m}),l&&S(t,e))}catch(t){e(i.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:i.GATECRASH_ON_SURVEY_DATA_SUBMIT,customProperties:{Message:"gatecrash: Error: "+t},isMainContext:m}),h("WindowMessage")}finally{"FormResponseSubmitted"===_.Type&&p>0&&((null===(f=null==_?void 0:_.FormTitle)||void 0===f?void 0:f.includes("thankyou"))?(r=!1,!1!==n&&I(r,t,e,a,!0,D)):S(t,e,void 0))}}}}function S(e,t,n){var a;if(a=function(){g(t)||h("WindowMessage")},h("CloseButtonMouseEnter"),h("CloseButtonMouseLeave"),h("CloseButtonClick"),h("SurveyContainerMouseOver"),h("SurveyContainerFocusIn"),a(),null==e||e.remove(),r=!1,t&&0==l&&0==u&&0==f){var o={dateTime:new Date,eventType:null!=n?n:"Unknown",isMainContext:m};!function(e){var t=c[p];if("Unknown"==e.eventType)switch(t){case"prompt":e.eventType="PromptClosed";break;case"rating":e.eventType="FormClosed";break;case"additional":e.eventType="AdditionalPromptClosed";break;case"thankyou":f=!0,e.eventType="ThankYouPageClosed";break;default:e.eventType="FormClosed",e.pageNumber=t}else"FormResponseCanceled"==e.eventType&&"rating"!==t&&(e.eventType="FormClosed",e.pageNumber=(p+1).toString())}(o),t(i.CV_CANCEL_EVENT,o)}}function D(e,t,n,r){var o=!1;try{new a.SurveyEmbed(null==t?void 0:t.customerVoiceFormId,i.DEFAULT_BASE_URL).renderInline(e,t,r),o=!0}catch(e){var s=e.message;throw n(i.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:i.GATECRASH_RENDER_ERROR,customProperties:{ErrorMessage:null!=s?s:i.DEFAULT_ERR_MSG},isMainContext:m}),e}return o}function I(e,t,n,a,r,s){if(void 0===s&&(s=!1),!e){var c=1==r?"ThankYouPageAutoDismissed":"FormAutoDismissed",d=void 0;a.autoDismiss?d=a.autoDismiss:(d=!0===r?5e3:28e3,!0===r&&!0===s&&!1===o&&(d=2e4,o=!0));var l=setTimeout(function(){S(t,n,c)},d);if(t.ownerDocument.getElementById(i.IFRAME_ID)){var u=function(){clearTimeout(l),e=!0};_("SurveyContainerMouseOver",t,"mouseover",u,!0),_("SurveyContainerFocusIn",t,"focusin",u,!0)}}}function x(e){if(g(e))throw new Error("Error: Submit messages are null/undefined or length of 0");for(var t=[],n=0;n<e.length;n++)if(e[n].questionAnswers.length>0){l=C(e[n].questionAnswers[0].subtitle,e[n].questionAnswers[0].answer[0]),"additional"!=e[n].questionAnswers[0].subtitle||g(e[n].questionAnswers[0].answer[0])||(e[n].questionAnswers[0].answer[0]==e[n].questionAnswers[0].optionList[0]?e[n].questionAnswers[0].answer[0]="2":(e[n].questionAnswers[0].answer[0]="1",u=!0));var a=w(e[n].questionAnswers),i={pageType:e[n].PageType,questionAnswers:a};t.push(i)}return t}function C(e,t){return"prompt"==e&&!g(t)&&0==l&&"1"==t}function O(e){return"label"!=e.subtitle}function w(e){if(g(e))throw new Error("Error: current message is null/undefined or length of 0");for(var t=[],n=0;n<e.length;n++){var a=e[n];O(a)&&t.push(E(a))}return t}function E(e){var t=e,n={questionType:t.subtitle,questionId:t.questionId,questionValue:t.title,answerValue:t.answer};return g(t.optionList)||(n.insightfulQuestionAnswers=A(t.answer,t.optionList),n.insightfulQuestionOptions=t.optionList),"rating"===t.subtitle&&(n.ratingsListLength=g(t.optionList)?i.RATINGS_LIST_LENGTH:t.optionList.length),n}function A(e,t){return null==t?void 0:t.map(function(t){var n;return null!==(n=null==e?void 0:e.includes(t))&&void 0!==n&&n})}t.renderCVSurvey=function(e,t,n,a,r){void 0===r&&(r=!0),m=r;var o=b(t),s="string"==typeof e?v(e,o,n,a):e;if(s){!function(e,t,n,a){var i,r=y.bind(null,t,e,null==a||a,n);_("WindowMessage",null!==(i=e.ownerDocument.defaultView)&&void 0!==i?i:window,"message",r)}(s,o,n,null==a?void 0:a.timeOutEnabled);try{D(s,n,o,null==a?void 0:a.cancelButtonEnabled),function(e){e.style.padding="0px",e.style.paddingRight="10px",e.style.paddingLeft="10px"}(s),!1!==(null==a?void 0:a.closeButtonEnabled)&&function(e,t,n){if(!g(e)){var a=e.ownerDocument.createElement("div"),r=e.ownerDocument.createElement("button");r.id=i.CLOSE_BUTTON_ID,a.id=i.SURVEY_DIV_ID,r.textContent="X",a.appendChild(r),e.insertBefore(a,e.childNodes[0]);var o="float: right; background: none; border: 0px;\n  padding: 3px; margin-top: 5px; font-size: large; font-weigth: bolder";"Dark"!==n.uiHostCVSurveyDispatcher&&"HighContrast"!==n.uiHostCVSurveyDispatcher||(o+="; color: white"),r.setAttribute("style",o),function(e,t,n,a){var i=function(){e.style.backgroundColor="lightgray"};"HighContrast"===a.uiHostCVSurveyDispatcher&&(i=function(){e.style.backgroundColor="yellow"}),_("CloseButtonMouseEnter",e,"mouseenter",i),_("CloseButtonMouseLeave",e,"mouseleave",function(){e.style.background="none"});var r=S.bind(null,n,t,null);_("CloseButtonClick",e,"click",r)}(r,t,e,n)}}(s,o,n)}catch(e){var c=e.message;o(i.CV_LOG_EVENT,{dateTime:new Date,eventType:"GatecrashEvent",eventId:i.GATECRASH_RENDER_ERROR,customProperties:{ErrorMessage:null!=c?c:i.DEFAULT_ERR_MSG},isMainContext:m})}}},t.validatePromptValue=C,t.shouldIncludeSurveyQuesitonAnswer=O,t.getSurveyQuestionAnswer=E,t.getQuestionAnswers=A;var L={registeredEventHandlers:{},subscribeEventHandler:_,unsubscribeEventHandler:h,safeWrapHandleSurveyEvent:b,createSurveyContainer:v,renderSurvey:D,getPageInfo:x,getQuestionList:w};t.unitTestExports={internal:L}.internal},function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.SurveyEmbed=void 0;var i=n(51),r=function(){function e(e,t){if(this._formId=e,!this._formId)throw new Error("form_id should be provided.");this._baseUrl=t||i.DEFAULT_BASE_URL,this._compact="false"}return e.prototype.renderInline=function(e,t,n){if(!e)throw new Error("Parent element not provided to renderInline");var a=this.createSurveyIFrame(t,n);e.textContent="",e.appendChild(a)},e.prototype.createSurveyIFrame=function(e,t){var n=document.createElement("iframe");return n.src=this.generateUrl(e,t),n.id=i.IFRAME_ID,n.width="100%",n.height="100%",n.style.border="none",n},e.prototype.generateUrl=function(e,t){if(null==e)throw new Error("user_context is requred");var n=this._baseUrl+"Pages/ResponsePage.aspx?",i=!1!==t?"true":"false";n+=this._getQueryStringParameter("id",this._formId),n+="&"+this._getQueryStringParameter("embed","true"),this._compact&&(n+="&"+this._getQueryStringParameter("compact",this._compact));var r,o=e.urlParams;try{r=JSON.stringify(a(a({},e),{urlParams:void 0}))}catch(e){r="{}"}if(r&&(n+="&"+this._getQueryStringParameter("ctx",r)),!e||!Object.prototype.hasOwnProperty.call(e,"locale"))throw new Error("locale should be provided");return(n+="&lang="+e.locale)+"&datawithevent=true&showcancel="+i+"&embed=true&oembedocv="+i+"&themecolor="+(o&&o.appPrimaryColor?o.appPrimaryColor:"")+"&autosubmit=true&autonavigate=true&disableresponsive=true&hostappdomain="+window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+"/"},e.prototype._getQueryStringParameter=function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)},e}();t.SurveyEmbed=r},function(e,t,n){"use strict";n.r(t),n.d(t,"getEngineStartPromise",function(){return ze}),n.d(t,"resetEngine",function(){return qe}),n.d(t,"setEngineStartPromise",function(){return Ve}),n.d(t,"start",function(){return Ke}),n.d(t,"startInternal",function(){return Ge}),n.d(t,"stop",function(){return We}),n.d(t,"initialize",function(){return Bt}),n.d(t,"showSurvey",function(){return jt}),n.d(t,"showFormSurvey",function(){return Vt}),n.d(t,"showCustomSurvey",function(){return zt}),n.d(t,"renderSurvey",function(){return Gt}),n.d(t,"reset",function(){return Kt}),n.d(t,"getSettingIdMap",function(){return Wt});var a=n(29),i=n(1),r=n(8),o=n(10),s=n(6),c=n(11),d=n(13),l=n(7),u=n(24),f=n(2),p=n(14),m="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==m&&m,_="URLSearchParams"in m,h="Symbol"in m&&"iterator"in Symbol,b="FileReader"in m&&"Blob"in m&&function(){try{return new Blob,!0}catch(e){return!1}}(),g="FormData"in m,v="ArrayBuffer"in m;if(v)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],S=ArrayBuffer.isView||function(e){return e&&y.indexOf(Object.prototype.toString.call(e))>-1};function D(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function I(e){return"string"!=typeof e&&(e=String(e)),e}function x(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return h&&(t[Symbol.iterator]=function(){return t}),t}function C(e){this.map={},e instanceof C?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function O(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function w(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function E(e){var t=new FileReader,n=w(t);return t.readAsArrayBuffer(e),n}function A(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function L(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:b&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:g&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:_&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():v&&b&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=A(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):v&&(ArrayBuffer.prototype.isPrototypeOf(e)||S(e))?this._bodyArrayBuffer=A(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):_&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},b&&(this.blob=function(){var e=O(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?O(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(E)}),this.text=function(){var e,t,n,a=O(this);if(a)return a;if(this._bodyBlob)return e=this._bodyBlob,n=w(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),a=0;a<t.length;a++)n[a]=String.fromCharCode(t[a]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}C.prototype.append=function(e,t){e=D(e),t=I(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},C.prototype.delete=function(e){delete this.map[D(e)]},C.prototype.get=function(e){return e=D(e),this.has(e)?this.map[e]:null},C.prototype.has=function(e){return this.map.hasOwnProperty(D(e))},C.prototype.set=function(e,t){this.map[D(e)]=I(t)},C.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},C.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),x(e)},C.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),x(e)},C.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),x(e)},h&&(C.prototype[Symbol.iterator]=C.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(e,t){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,a,i=(t=t||{}).body;if(e instanceof M){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new C(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new C(t.headers)),this.method=(a=(n=t.method||this.method||"GET").toUpperCase(),k.indexOf(a)>-1?a:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var r=/([?&])_=[^&]*/;r.test(this.url)?this.url=this.url.replace(r,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function P(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),a=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(i))}}),t}function T(e,t){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new C(t.headers),this.url=t.url||"",this._initBody(e)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},L.call(M.prototype),L.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:0,statusText:""});return e.type="error",e};var U=[301,302,303,307,308];T.redirect=function(e,t){if(-1===U.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})};var F=m.DOMException;try{new F}catch(e){(F=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack}).prototype=Object.create(Error.prototype),F.prototype.constructor=F}function H(e,t){return new Promise(function(n,a){var i=new M(e,t);if(i.signal&&i.signal.aborted)return a(new F("Aborted","AbortError"));var r=new XMLHttpRequest;function o(){r.abort()}r.onload=function(){var e,t,a={status:r.status,statusText:r.statusText,headers:(e=r.getAllResponseHeaders()||"",t=new C,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var n=e.split(":"),a=n.shift().trim();if(a){var i=n.join(":").trim();t.append(a,i)}}),t)};a.url="responseURL"in r?r.responseURL:a.headers.get("X-Request-URL");var i="response"in r?r.response:r.responseText;setTimeout(function(){n(new T(i,a))},0)},r.onerror=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},r.ontimeout=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},r.onabort=function(){setTimeout(function(){a(new F("Aborted","AbortError"))},0)},r.open(i.method,function(e){try{return""===e&&m.location.href?m.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?r.withCredentials=!0:"omit"===i.credentials&&(r.withCredentials=!1),"responseType"in r&&(b?r.responseType="blob":v&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(r.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof C?i.headers.forEach(function(e,t){r.setRequestHeader(t,e)}):Object.getOwnPropertyNames(t.headers).forEach(function(e){r.setRequestHeader(e,I(t.headers[e]))}),i.signal&&(i.signal.addEventListener("abort",o),r.onreadystatechange=function(){4===r.readyState&&i.signal.removeEventListener("abort",o)}),r.send(void 0===i._bodyInit?null:i._bodyInit)})}H.polyfill=!0,m.fetch||(m.fetch=H,m.Headers=C,m.Request=M,m.Response=T);var R=n(3),N=R.l,B=function(){function e(e){this.sessionId=e}return e.prototype.sendGetRequest=function(e,t,n,a){return Object(s.b)(this,void 0,void 0,function(){var i;return Object(s.d)(this,function(r){return i={method:"GET",headers:this.createHeaders(t)},[2,n?this.timeoutFetch(e,i,null!=a?a:5e3):fetch(e,i)]})})},e.prototype.sendPostRequest=function(e,t,n,a,i){return Object(s.b)(this,void 0,void 0,function(){var r;return Object(s.d)(this,function(o){return r={method:"POST",headers:this.createHeaders(n),body:t},[2,a?this.timeoutFetch(e,r,null!=i?i:5e3):fetch(e,r)]})})},e.prototype.createHeaders=function(e){var t="undefined"!=typeof Headers&&new Headers;return t&&(N(e)||t.append("Authorization","Bearer "+e),t.append("X-CorrelationId",R.i()),this.sessionId&&t.append("X-UserSessionId",this.sessionId)),t},e.prototype.timeoutFetch=function(e,t,n){return void 0===t&&(t={}),new Promise(function(a,i){fetch(e,t).then(a,i),setTimeout(function(){return i(new Error("Service request timed out"))},n)})},e}();function j(e,t){void 0===t&&(t=!0);var n="";for(var a in e||[])if(e.hasOwnProperty(a)){var i=e[a];null!=i&&"object"!=typeof i&&(n+=(n?"&":"")+a+"="+(t?encodeURIComponent(i):i))}return n}var V=n(34),z=n(16),G=n(53);function K(e){return new Promise(function(t){setTimeout(t,e)})}function W(e,t){var n=e&&e[t];return n||Object.getOwnPropertyDescriptor(e,t)?n:void 0}function q(e,t){if(!e)return Promise.resolve(null);var n=W(e,t);return n?Promise.resolve(n):new Promise(function(n,a){var i;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){n(i=e)}})})}function Q(e,t,n,a){return void 0===a&&(a=100),Object(s.b)(this,void 0,void 0,function(){var i;return Object(s.d)(this,function(r){switch(r.label){case 0:return(i=W(e,t))||0===n?[2,i]:[4,K(a)];case 1:return r.sent(),[2,Q(e,t,n-1,a)]}})})}function Y(e,t){return new Promise(function(n,a){e.activateAnnotation(t,{callback:function(e){try{var a=(e&&e.items?e.items:[]).filter(function(e){return t===G.SchemaObject.getTypeNameFor(e.body)});n(a&&a[0]&&a[0].body)}catch(e){n({error:e})}}})})}function J(e){return void 0===e&&(e=100),Object(s.b)(this,void 0,void 0,function(){var t,n,a;return Object(s.d)(this,function(i){switch(i.label){case 0:return(t=W(window,"augLoop"))?[3,7]:(n=Object(d.a)("TulipsAugLoopPackageDelayLoad",-1))>0?[4,K(n)]:[3,2];case 1:return i.sent(),t=W(window,"augLoop"),[3,7];case 2:return a=Object(d.a)("TulipsAugLoopLoadRetryTimes",5),[4,Q(window,"augLoop",a,e)];case 3:return(t=i.sent())?[3,5]:[4,q(window,"augLoop")];case 4:t=i.sent(),i.label=5;case 5:return e>0?[4,K(e)]:[3,7];case 6:i.sent(),i.label=7;case 7:return[2,t]}})})}function X(e,t,n){return void 0===n&&(n=100),Object(s.b)(this,void 0,void 0,function(){var a,i,r;return Object(s.d)(this,function(o){switch(o.label){case 0:return(i=t)?[4,t()]:[3,2];case 1:i=o.sent(),o.label=2;case 2:return(a=i)?[3,5]:[4,J(n)];case 3:if(!o.sent())throw new Error("Unable to get AL runtime");if(!(r=window.augLoop.ALFactoryGlobal.getAugLoopRuntimeManager().getSession()))throw new Error("Unable to get AL session promise");return[4,r];case 4:if(!(a=o.sent()))throw new Error("Unable to get AL session");o.label=5;case 5:return[2,Y(a,e)]}})})}var Z,$,ee=function(){},te=function(){function e(e,t,n,a,i,r,o,s,c,d,l,u,f,p,m){var _,h,b,g;this.locale="en-us",this.country="US",this.locale=a,this.country=i,this.authTokenCallback=o,this.augLoopCallback=s,this.app=e,this.platform=t,this.version=n,this.sessionId=r,this.campaignFlights=c,this.campaignParameters=d,this.ageGroup=l,this.authType=u,this.messagingServiceSettings=p;var v=f&&-1!==["dogfood","edog","int","microsoft"].indexOf(f.toLowerCase()),y=v?null===(_=this.messagingServiceSettings)||void 0===_?void 0:_.campaignMetadataAggregatorInt:null===(h=this.messagingServiceSettings)||void 0===h?void 0:h.campaignMetadataAggregatorProd,S=v?null===(b=this.messagingServiceSettings)||void 0===b?void 0:b.setCampaignActionInt:null===(g=this.messagingServiceSettings)||void 0===g?void 0:g.setCampaignActionProd;this.campaignMetadataAggregatorPrefix=y||"https://messaging.engagement.office.com/",this.setCampaignActionPrefix=S||"https://messaging.action.office.com/",this.tmsgCache=this.tmsgCache||m||new V.a(["MessageMetadata","UserGovernance","CampaignContent","DynamicSettings","LogLevelSettings","UserFacts"])}return e.prototype.getContent=function(e){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(t){switch(t.label){case 0:return this.tmsgCache.isItemExpired(e)?[4,this.refreshItemsInCacheFromTmsService([e])]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,this.retrieveCacheItemAndCreateContentResponse(e)]}})})},e.prototype.getMultipleContents=function(e){return Object(s.b)(this,void 0,void 0,function(){var t,n,a,i,r,o;return Object(s.d)(this,function(s){switch(s.label){case 0:return[4,this.refreshItemsInCacheFromTmsService(e)];case 1:for(s.sent(),t=new Array,n=new Array,a=0,i=e;a<i.length;a++)r=i[a],o=this.createCachedContentResponse(r),t.push(o);return this.refreshItemsInCacheFromTmsService(n),[2,t]}})})},e.prototype.getUserFactsContent=function(e){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(t){switch(t.label){case 0:return[4,this.refreshItemsInCacheFromTulipsService(e)];case 1:return t.sent(),[2,this.retrieveCacheItemAndCreateContentResponse(e)]}})})},e.prototype.sendBeaconRequestToService=function(e,t,n,a,i,r,o,c){return Object(s.b)(this,void 0,void 0,function(){var u,p,m,_,h,b,g,v,y;return Object(s.d)(this,function(S){switch(S.label){case 0:return this.sessionId=o,this.authTokenCallback=c,u=Object(d.a)("TmsAppId",l.c.TMSAppID),[4,this.getAuthToken(u)];case 1:return p=S.sent(),m=void 0,p?[3,4]:(_=this.authTokenCallback.getUserPuid)?[4,this.authTokenCallback.getUserPuid()]:[3,3];case 2:_=S.sent(),S.label=3;case 3:m=_,S.label=4;case 4:h=+new Date,S.label=5;case 5:return S.trys.push([5,7,,8]),b={app:e,country:r,locale:i,platform:n,puid:m,version:a},g=JSON.stringify({actionName:t.actionName,actionUrl:t.actionUrl}),[4,this.sendRequest(b,p,"TmsActionUrl",this.setCampaignActionPrefix+"setcampaignaction?",g,"POST")];case 6:return(v=S.sent())&&200===v.status?(f.b().logEvent(f.a.WebSurfaces.SetCampaignAction.Requests.VALUE,3,this.createTelemetryData(h,v,"Beacon"+t.actionName),.01),[2,!0]):(f.b().logEvent(f.a.WebSurfaces.SetCampaignAction.Error.VALUE,2,this.createTelemetryData(h,v,"Beacon"+t.actionName)),[2,!1]);case 7:return y=S.sent(),f.b().logEvent(f.a.WebSurfaces.SetCampaignAction.Error.VALUE,2,Object(s.a)({ErrorMessage:"Error fetching from TMS SetCampaignAction endpoint"+(y&&y.message?": "+y.message:"")},this.createTelemetryData(h,null,"Beacon"+t.actionName))),[2,!1];case 8:return[2]}})})},e.prototype.getCachedContent=function(e){return this.tmsgCache.getItemContent(e)},e.prototype.getAugLoopUserFactsContent=function(e){return Object(s.b)(this,void 0,void 0,function(){return Object(s.d)(this,function(t){switch(t.label){case 0:return this.tmsgCache.isItemExpired("UserFacts")?[4,this.refreshUserFactsInCacheFromAugLoop()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,this.retrieveCacheItemAndCreateContentResponse(e)]}})})},e.prototype.refreshUserFactsInCacheFromAugLoop=function(){return Object(s.b)(this,void 0,void 0,function(){var e,t,n,a,i,r,o,c;return Object(s.d)(this,function(l){switch(l.label){case 0:if(!this.tmsgCache.isItemExpired("UserFacts"))return e=this.tmsgCache.getItemContent("UserFacts"),f.b().logEvent(f.a.UserFacts.AugLoop.Requests.VALUE,3,{Count:e?e.length:-1,Type:"AugLoopUserFactsCached",Flights:this.campaignFlights},.01),[2,e];t=+new Date,l.label=1;case 1:return l.trys.push([1,3,,4]),a=Object(d.a)("TulipsAugLoopAnnotationName","AugLoop_User_UserLifecycleFactsAnnotation"),i=this.augLoopCallback.getRuntimeSession,[4,X(a,i)];case 2:return(r=l.sent())&&r.userFacts?(n=this.addClientIngestionTimeAndNormalizeKeysInArray(r.userFacts),this.tmsgCache.setContentItem("UserFacts",n,864e5),f.b().logEvent(f.a.UserFacts.AugLoop.Requests.VALUE,3,Object(s.a)({Count:n?n.length:-1},this.createTelemetryData(t,null,"AugLoopUserFacts")),.01)):(o=r&&r.error,f.b().logEvent(f.a.UserFacts.AugLoop.Error.VALUE,2,Object(s.a)({ErrorMessage:"Error getting augloop facts "+(o&&o.toString())},this.createTelemetryData(t,null,"AugLoopUserFacts")))),[3,4];case 3:return c=l.sent(),f.b().logEvent(f.a.UserFacts.AugLoop.Error.VALUE,2,Object(s.a)({ErrorMessage:"Error getting facts "+(c&&c.message)},this.createTelemetryData(t,null,"AugLoopUserFacts"))),[3,4];case 4:return[2,n]}})})},e.prototype.createTelemetryData=function(e,t,n){var a=t||{},i=a.headers,r=a.status,o=a.statusText,s=i&&i.get("X-UserSessionId"),c=i&&i.get("X-CorrelationId");return{Type:n,TimeMilliseconds:+new Date-e,SessionId:s||this.sessionId,CorrelationId:c||void 0,HttpStatusCode:r||void 0,HttpStatusText:o||void 0,Flights:this.campaignFlights}},e.prototype.sendRequest=function(e,t,n,a,i,r){this.tmsgTransport=this.tmsgTransport||new B(this.sessionId);var o=j(e),s=Object(d.a)(n,a);return"POST"===r?this.tmsgTransport.sendPostRequest(s+o,i,t):this.tmsgTransport.sendGetRequest(s+o,t)},e.prototype.retrieveCacheItemAndCreateContentResponse=function(e){var t=this.createCachedContentResponse(e);return this.tmsgCache.isItemExpired(e)&&("UserFacts"===e?this.refreshItemsInCacheFromTulipsService(e):this.refreshItemsInCacheFromTmsService([e])),t},e.prototype.createCachedContentResponse=function(e){var t=new ee;return t.content=this.tmsgCache.getItemContent(e),t.contentType=e,t},e.prototype.getAuthToken=function(e){return Object(s.b)(this,void 0,void 0,function(){var t,n,a,i,r,o=this;return Object(s.d)(this,function(s){switch(s.label){case 0:if(!this.authTokenCallback||!this.authTokenCallback.getAuthToken)return[2,null];t=+new Date,n=function(){return+new Date-t},a=function(t){return void 0===t&&(t=void 0),{ErrorMessage:t,SessionId:o.sessionId,TimeMilliseconds:n(),Type:e}},s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.authTokenCallback.getAuthToken(e)];case 2:return i=s.sent(),f.b().logEvent(f.a.WebSurfaces.Common.Info.VALUE,3,a()),[2,i];case 3:return r=s.sent(),f.b().logEvent(f.a.WebSurfaces.Common.Error.VALUE,2,a("Error getting token "+(r&&r.message?": "+r.message:""))),[3,4];case 4:return[2,null]}})})},e.prototype.refreshItemsInCacheFromTmsService=function(e){return Object(s.b)(this,void 0,void 0,function(){var t,n,a,i,r,o,c,u,m,_,h,b,g,v,y,S;return Object(s.d)(this,function(D){switch(D.label){case 0:if(0===e.length)return[2];for(t=new Array,n=0,a=e;n<a.length;n++)i=a[n],this.tmsgCache.isItemExpired(i)&&t.push(i);return 0===t.length?[2]:(-1===e.indexOf("DynamicSettings")&&e.push("DynamicSettings"),r=Object(d.a)("TmsAppId",l.c.TMSAppID),[4,this.getAuthToken(r)]);case 1:return o=D.sent(),c=void 0,o?[3,4]:(u=this.authTokenCallback.getUserPuid)?[4,this.authTokenCallback.getUserPuid()]:[3,3];case 2:u=D.sent(),D.label=3;case 3:c=u,D.label=4;case 4:m=+new Date,D.label=5;case 5:return D.trys.push([5,10,,11]),_=document&&(document.documentElement||document.getElementsByTagName("body")[0]),h={pageWidth:window.innerWidth||_.clientWidth,pageHeight:window.innerHeight||_.clientHeight,screenWidth:screen?screen.width:void 0,screenHeight:screen?screen.height:void 0,colorDepth:screen?screen.colorDepth:void 0},b=z.a.safeReadObject(p.FileType.DebugOverrides,{}),g=b.replaceTmsQueryParams||Object(s.a)(Object(s.a)({country:this.country,locale:this.locale,app:this.app,platform:this.platform,version:this.version,campaignParams:j(h)+"&more=true&"+(this.campaignParameters||""),contentType:e.join(";"),puid:c,OFC_FLIGHTS:this.campaignFlights},b.addTmsQueryParams||{}),{ageGroup:this.ageGroup,sessionUserType:this.authType}),[4,this.sendRequest(g,o,"TmsServiceUrl",this.campaignMetadataAggregatorPrefix+"campaignmetadataaggregator?")];case 6:return 200!==(v=D.sent()).status?[3,8]:[4,v.json()];case 7:return y=D.sent(),-1!==e.indexOf("MessageMetadata")&&void 0!==y.MessageMetadata&&this.tmsgCache.setContentItem("MessageMetadata",y.MessageMetadata,Object(d.a)("TmsMessageMetadataExpiry",144e5)),-1!==e.indexOf("UserGovernance")&&void 0!==y.UserGovernanceRules&&this.tmsgCache.setContentItem("UserGovernance",y.UserGovernanceRules,Object(d.a)("TmsUserGovernanceRulesExpiry",144e5)),-1!==e.indexOf("CampaignContent")&&void 0!==y.CampaignContent&&this.tmsgCache.setContentItem("CampaignContent",y.CampaignContent,Object(d.a)("TmsCampaignContentExpiry",144e5)),void 0!==y.DynamicSettings&&this.tmsgCache.setContentItem("DynamicSettings",y.DynamicSettings,Object(d.a)("TmsDynamicSettingsExpiry",144e5)),void 0!==y.LogLevelSettings&&this.tmsgCache.setContentItem("LogLevelSettings",y.LogLevelSettings,Object(d.a)("TmsLogLevelSettingsExpiry",144e5)),f.b().logEvent(f.a.WebSurfaces.CampaignMetadataAggregator.Requests.VALUE,3,this.createTelemetryData(m,v,e.join(";")),.01),[3,9];case 8:f.b().logEvent(f.a.WebSurfaces.CampaignMetadataAggregator.Error.VALUE,2,this.createTelemetryData(m,v,e.join(";"))),D.label=9;case 9:return[3,11];case 10:return S=D.sent(),f.b().logEvent(f.a.WebSurfaces.CampaignMetadataAggregator.Error.VALUE,2,Object(s.a)({ErrorMessage:"Error fetching from TMS"+(S&&S.message?": "+S.message:"")},this.createTelemetryData(m,null,e.join(";")))),[3,11];case 11:return[2]}})})},e.prototype.refreshItemsInCacheFromTulipsService=function(e){return Object(s.b)(this,void 0,void 0,function(){var t,n,a,i,r,o,c;return Object(s.d)(this,function(u){switch(u.label){case 0:return this.tmsgCache.isItemExpired(e)?(t=Object(d.a)("TulipsAppId",l.c.TULIPSAppID),[4,this.getAuthToken(t)]):[2];case 1:if(!(n=u.sent()))return[2];a=+new Date,u.label=2;case 2:return u.trys.push([2,7,,8]),[4,this.sendRequest({},n,"TulipsServiceUrl","https://substrate.office.com/OfficePersonalizationUserLifecycle/api/facts")];case 3:return 200!==(i=u.sent()).status&&204!==i.status?[3,5]:[4,i.json()];case 4:return r=u.sent(),-1!==e.indexOf("UserFacts")&&void 0!==r&&(o=this.addClientIngestionTimeAndNormalizeKeys(r),this.tmsgCache.setContentItem("UserFacts",o,864e5)),f.b().logEvent(f.a.UserFacts.Messaging.Requests.VALUE,3,this.createTelemetryData(a,i,e),.01),[3,6];case 5:f.b().logEvent(f.a.UserFacts.Common.Error.VALUE,2,this.createTelemetryData(a,i,e)),u.label=6;case 6:return[3,8];case 7:return c=u.sent(),f.b().logEvent(f.a.UserFacts.Common.Error.VALUE,2,Object(s.a)({ErrorMessage:"Error fetching from TULIPS"+(c&&c.message?": "+c.message:"")},this.createTelemetryData(a,null,e))),[3,8];case 8:return[2]}})})},e.prototype.addClientIngestionTimeAndNormalizeKeys=function(e){var t=this,n=new Date(Date.now()).toISOString();return e.map(function(e){var a=t.normalizeKeys(e);return a.clientIngestionDateTime=n,a})},e.prototype.addClientIngestionTimeAndNormalizeKeysInArray=function(e){var t=this,n=new Date(Date.now()).toISOString();return e.map(function(e){var a=t.normalizeKeys(e);return a.clientIngestionDateTime=n,a})},e.prototype.normalizeKeys=function(e){for(var t={},n=0,a=Object.keys(e);n<a.length;n++){var i=a[n];t[i.charAt(0).toLowerCase()+i.substring(1)]=e[i]}return t},e}(),ne=function(){function e(){var e,t;this.configuration=i.get();var n=this.configuration&&this.configuration.getFloodgateInitOptions(),a=this.configuration&&this.configuration.getCommonInitOptions(),r=n&&n.authTokenCallback;if(r&&(r.getAuthToken||r.getUserPuid)||this.isAugLoopEnabled()){var o=this.configuration.getCommonInitOptions();this.tmsgClient=new te(o.appId.toString(),"Web",o.build,o.originalLocale,this.extractCountryFromLocale(o.originalLocale),this.configuration.getSdkSessionId(),n.authTokenCallback,n.augLoopCallback,n.campaignFlights,n.campaignQueryParameters,a.ageGroup,a.authenticationType,(null===(e=a.telemetryGroup)||void 0===e?void 0:e.audienceGroup)||(null===(t=a.telemetryGroup)||void 0===t?void 0:t.audience),n.messagingServiceSettings)}}return e.prototype.getCampaignDefinitions=function(){var e,t=(e=z.a.safeReadObject(p.FileType.DebugOverrides,{}))&&e.tmsResponse&&e.tmsResponse.CampaignContent&&{contentType:"CampaignContent",content:e.tmsResponse.CampaignContent};return t&&t.content?Promise.resolve(t.content):this.tmsgClient?this.tmsgClient.getContent("CampaignContent").then(function(e){return e.content}):Promise.resolve(null)},e.prototype.getCachedCampaignDefinitions=function(){var e;return null===(e=this.tmsgClient)||void 0===e?void 0:e.getCachedContent("CampaignContent")},e.prototype.getUserGovernanceRules=function(){return this.tmsgClient?this.tmsgClient.getContent("UserGovernance").then(function(e){return e.content}):Promise.resolve(null)},e.prototype.getMessageMetadata=function(){return this.tmsgClient?this.tmsgClient.getContent("MessageMetadata").then(function(e){return e.content}):Promise.resolve(null)},e.prototype.getUserFacts=function(){var e,t=this,n=(e=z.a.safeReadObject(p.FileType.DebugOverrides,{}))&&e.userFactsResponse&&{contentType:"UserFacts",content:e.userFactsResponse};if(n&&n.content)return Promise.resolve(n.content);if(!this.tmsgClient)return Promise.resolve(null);if(this.isAugLoopEnabled()){var a=Object(d.a)("TulipsLoadTimeout",1e3);return Object(R.b)(a,this.getAugLoopUserFacts()).then(function(e){return e}).catch(function(){return t.getSubstrateUserFacts()})}return this.getSubstrateUserFacts()},e.prototype.getCachedUserFacts=function(){var e;return null===(e=this.tmsgClient)||void 0===e?void 0:e.getCachedContent("UserFacts")},e.prototype.setCampaignAction=function(e){if(this.tmsgClient){var t=this.configuration.getCommonInitOptions(),n=this.configuration.getFloodgateInitOptions();return this.tmsgClient.sendBeaconRequestToService(t.appId.toString(),e,"Web",t.build,t.originalLocale,this.extractCountryFromLocale(t.originalLocale),this.configuration.getSdkSessionId(),n.authTokenCallback)}},e.prototype.extractCountryFromLocale=function(e){if(e){var t=e.split("-");return 2===t.length?t[1]:void 0}},e.prototype.getSubstrateUserFacts=function(){return this.tmsgClient?this.tmsgClient.getUserFactsContent("UserFacts").then(function(e){return e.content}):Promise.resolve(null)},e.prototype.getAugLoopUserFacts=function(){return this.tmsgClient?this.tmsgClient.getAugLoopUserFactsContent("UserFacts").then(function(e){return e.content}):Promise.resolve(null)},e.prototype.isAugLoopEnabled=function(){var e,t,n;return null===(n=null===(t=null===(e=this.configuration)||void 0===e?void 0:e.getFloodgateInitOptions())||void 0===t?void 0:t.augLoopCallback)||void 0===n?void 0:n.isEnabled},e}();function ae(){return Z||(Z=new ne),Z}function ie(){var e,t,n,a,r,o,s,c,f,p;$||($=u.a((c=(s=(o=(null===(e=(r=i.get().getCommonInitOptions()).telemetryGroup)||void 0===e?void 0:e.audienceGroup)||(null===(t=r.telemetryGroup)||void 0===t?void 0:t.audience))&&-1!==["dogfood","edog","int","microsoft"].indexOf(o.toLowerCase()))?null===(n=r.webSurfacesSettings)||void 0===n?void 0:n.webSurfacesIntUrl:null===(a=r.webSurfacesSettings)||void 0===a?void 0:a.webSurfacesProdUrl,f=s?l.a.WebSurfacesIntLink:l.a.WebSurfacesProdLink,p=s?"WebSurfacesIntLink":"WebSurfacesProdLink",c||Object(d.a)(p,f)),null))}var re,oe=function(){function e(){}return e.prototype.makeSurveyLauncher=function(e){return this.AcceptsSurvey(e)?new se(e):null},e.prototype.AcceptsSurvey=function(t){return!Object(R.l)(t)&&t.getType()===c.ISurvey.Type.GenericMessagingSurface&&t.getLauncherType().toLocaleLowerCase()===e.LAUNCHER_TYPE},e.LAUNCHER_TYPE="coachingux",e}(),se=function(){function e(e){var t;this.survey=e,!$&&e&&e.getSurveyInfo&&(null===(t=e.getSurveyInfo())||void 0===t?void 0:t.getBusinessLevel())===c.ISurveyInfo.BusinessLevel.Critical&&setTimeout(ie,1e3)}return e.prototype.launch=function(e){var t=this,n=this.survey&&this.survey.getSurveyInfo(),a=n&&n.getMetadata(),o=a&&a.getContentMetadata();if(o){var c=new Date,l=function(){var e=r.b();return e&&e.OfficeWebSurfaces},u=function(a){var i=l();a&&i.Initialize(a),i.RemoveSurface();var r=Object(s.a)(Object(s.a)({},o),{surfaceContext:{surveyForm:t.survey,surveyParams:e}});i.RenderSurface(r,null,n.getBackEndId())},p=function(e){f.b().logEvent(f.a.WebSurfaces.Common.Error.VALUE,1,{ErrorMessage:"Error loading websurfaces"+(e&&e.message?": "+e.message:""),TimeMilliseconds:Date.now()-+c})};try{if(l())return void u();ie(),$.then(function(){var e=i.get().getCommonInitOptions(),t=i.get().getFloodgateInitOptions(),a=t&&t.onSurveyActivatedCallback,r=Object(s.a)(Object(s.a)(Object(s.a)({},e),t),{beaconCallback:function(e){if(e)return ae().setCampaignAction(e)},surfaceInitTime:c,surfaceId:n.getBackEndId(),logSessionId:i.get().getSdkSessionId(),logSettings:Object(d.a)("LogLevelSettings",void 0),renderer:a,renderCallback:a&&a.onTeachingCampaignRender});u(r)}).catch(function(e){p(e)})}catch(e){p(e)}}},e}(),ce=function(){function e(e){if(this.showPrompt=!0,this.showEmailRequest=!1,!e)throw Error("survey must not be null");if(this.survey=e,e.getType()===c.ISurvey.Type.Intercept){this.isIntercept=!0;var t=e.getComponent("Intercept");if(!t)throw Error("intercept component must not be null");this.intercept=t}else{this.isIntercept=!1;var n=e.getComponent("Prompt"),a=e.getComponent("Comment"),i=e.getComponent("Rating"),r=e.getComponent("CVSurvey");if(!n)throw Error("prompt component must not be null");if(this.prompt=n,this.showEmailRequest=e.getSurveyInfo().isAdditionalDataRequested(0),!a)throw Error("comment component must not be null");if(this.comment=a,!i)throw Error("rating component must not be null");if(this.rating=i,r&&(this.cvSurvey=r,this.getLauncherType()===l.f&&!this.getCVSurveyFormId()))throw Error("CvSurveyId should not be null")}}return e.prototype.getLauncherType=function(){return this.isIntercept?void 0:this.survey.getLauncherType()},e.prototype.getCVSurveyFormId=function(){return this.isIntercept?void 0:this.cvSurvey.getFormId()},e.prototype.getPreGeneratedClientFeedbackId=function(){return this.survey.getPreGeneratedClientFeedbackId()},e.prototype.getPromptQuestion=function(){return this.isIntercept?void 0:this.prompt.getQuestion()},e.prototype.getTitle=function(){return this.isIntercept?void 0:this.prompt.getTitle()},e.prototype.getPromptYesButtonText=function(){return this.isIntercept?void 0:this.prompt.getYesButtonText()},e.prototype.getPromptNoButtonText=function(){return this.isIntercept?void 0:this.prompt.getNoButtonText()},e.prototype.getRatingValuesAscending=function(){return this.isIntercept?void 0:this.rating.getRatingValuesAscending()},e.prototype.getRatingQuestion=function(){return this.isIntercept?void 0:this.rating.getQuestion()},e.prototype.getCommentQuestion=function(){return this.isIntercept?void 0:this.comment.getQuestion()},e.prototype.getInterceptTitle=function(){return this.isIntercept?this.intercept.getTitle():void 0},e.prototype.getInterceptQuestion=function(){return this.isIntercept?this.intercept.getQuestion():void 0},e.prototype.getInterceptUrl=function(){return this.isIntercept?this.intercept.getUrl():void 0},e.prototype.setValues=function(e,t){this.isIntercept||(this.rating.setSelectedRatingIndex(e),this.comment.setSubmittedText(t))},e.prototype.getJsonElements=function(){return this.survey.getJsonElements()},e.prototype.getSurveyType=function(){return this.survey.getType()},e.prototype.getCampaignId=function(){return this.survey.getSurveyInfo().getBackEndId()},e.prototype.getId=function(){return this.survey.getSurveyInfo().getId()},e.prototype.getGoverenedChannelType=function(){return this.survey.getSurveyInfo().getGovernedChannelType()},e}(),de=o.Utils.isNOU,le=function(){function e(){}return e.prototype.makeSurveyLauncher=function(e){return this.AcceptsSurvey(e)?new ue(e):null},e.prototype.AcceptsSurvey=function(e){return!de(e)&&e.getType()!==o.Api.ISurvey.Type.GenericMessagingSurface},e.LAUNCHER_TYPE=o.Api.ISurvey.LAUNCHER_TYPE_DEFAULT,e}(),ue=function(){function e(e){this.survey=e}return e.prototype.launch=function(){r.a().OfficeBrowserFeedback.floodgate.showSurvey(new ce(this.survey))},e}(),fe=o.Utils.isNOU,pe=function(){function e(e,t){this.rudeSurveyLauncherFactory=e,this.coachingUXLauncherFactory=t}return e.make=function(){return new e(new le,new oe)},e.prototype.makeSurveyLauncher=function(e){if(fe(e))return null;switch(e.getLauncherType().toLocaleLowerCase()){case oe.LAUNCHER_TYPE:return this.makeGenericMessagingSurfaceLauncher(e);case le.LAUNCHER_TYPE:default:return this.makeRudeSurveyLauncher(e)}},e.prototype.AcceptsSurvey=function(e){return!fe(e)&&(e.getType()===o.Api.ISurvey.Type.GenericMessagingSurface?!fe(this.coachingUXLauncherFactory)&&this.coachingUXLauncherFactory.AcceptsSurvey(e):i.get().checkIfSurveysEnabled()&&!fe(this.rudeSurveyLauncherFactory)&&this.rudeSurveyLauncherFactory.AcceptsSurvey(e))},e.prototype.makeGenericMessagingSurfaceLauncher=function(e){return fe(this.coachingUXLauncherFactory)?null:this.coachingUXLauncherFactory.makeSurveyLauncher(e)},e.prototype.makeRudeSurveyLauncher=function(e){return fe(this.rudeSurveyLauncherFactory)?null:this.rudeSurveyLauncherFactory.makeSurveyLauncher(e)},e}(),me=n(22),_e=function(){function e(){}return e.prototype.makeTransporter=function(e){return new me.a(i.get().getCommonInitOptions().environment,e,i.get().getCommonInitOptions().appId,"Survey",i.get().getCommonInitOptions().applicationGroup,i.get().getCommonInitOptions().telemetryGroup,i.get().getCommonInitOptions().webGroup)},e}(),he=function(){function e(){}return e.prototype.getLanguage=function(){return i.get().getCommonInitOptions().originalLocale},e}(),be=n(4),ge=function(){function e(){}return e.prototype.loadStringResource=function(e){var t=be.a();switch(e){case 5:return t.Floodgate.Nps.Rating.Points11Value0;case 6:return t.Floodgate.Nps.Rating.Points11Value1;case 7:return t.Floodgate.Nps.Rating.Points11Value2;case 8:return t.Floodgate.Nps.Rating.Points11Value3;case 9:return t.Floodgate.Nps.Rating.Points11Value4;case 10:return t.Floodgate.Nps.Rating.Points11Value5;case 11:return t.Floodgate.Nps.Rating.Points11Value6;case 12:return t.Floodgate.Nps.Rating.Points11Value7;case 13:return t.Floodgate.Nps.Rating.Points11Value8;case 14:return t.Floodgate.Nps.Rating.Points11Value9;case 15:return t.Floodgate.Nps.Rating.Points11Value10;case 16:return t.Floodgate.Nps.Rating.Points5Value1;case 17:return t.Floodgate.Nps.Rating.Points5Value2;case 18:return t.Floodgate.Nps.Rating.Points5Value3;case 19:return t.Floodgate.Nps.Rating.Points5Value4;case 20:return t.Floodgate.Nps.Rating.Points5Value5;case 4:return t.Floodgate.Nps.Rating.Question;case 21:return t.Floodgate.Nps.Comment.Question;case 3:return t.Floodgate.Nps.Prompt.No;case 1:return t.Floodgate.Nps.Prompt.Question;case 0:return t.Floodgate.Nps.Prompt.Title;case 2:return t.Floodgate.Nps.Prompt.Yes;default:return""}},e.prototype.getCustomString=function(e){return i.get().getFloodgateInitOptions().uIStringGetter(e)},e}(),ve=n(21),ye=function(){function e(){this.loadAsyncTriggered=!1,this.campaignDefinitions=[]}return e.prototype.load=function(){return this.loadAsyncTriggered||(this.loadAsync(),this.loadAsyncTriggered=!0),this.campaignDefinitions||[]},e.prototype.loadAsync=function(){var e=this,t=ae().getCampaignDefinitions();t.then(function(t){e.loadCampaignDefinitions(t),e.loadAsyncTriggered=!0});var n=Object(d.a)("TmsLoadTimeout",1e3),a=Object(R.b)(n,t);return new Promise(function(t,n){a.then(function(n){e.loadCampaignDefinitions(n),e.loadAsyncTriggered=!0,t(e.campaignDefinitions)}).catch(function(n){e.campaignDefinitions.length<=0&&e.loadCampaignDefinitions(ae().getCachedCampaignDefinitions()),t(e.campaignDefinitions)}).catch(function(n){t(e.campaignDefinitions)})})},e.prototype.loadCampaignDefinitions=function(e){var t=e&&e.campaigns;t&&(this.campaignDefinitions=Object(ve.FilterValidCampaignDefinitions)(t).result)},e}();function Se(){try{var e=document&&(document.documentElement||document.getElementsByTagName("body")[0]);return{pageWidth:(null===window||void 0===window?void 0:window.innerWidth)||(null==e?void 0:e.clientWidth),pageHeight:(null===window||void 0===window?void 0:window.innerHeight)||(null==e?void 0:e.clientHeight),pageTop:(null===window||void 0===window?void 0:window.pageYOffset)||(null==e?void 0:e.scrollTop),pageLeft:(null===window||void 0===window?void 0:window.pageXOffset)||(null==e?void 0:e.scrollLeft),screenWidth:screen?screen.width:0,screenHeight:screen?screen.height:0,colorDepth:screen?screen.colorDepth:0,userAgent:null===navigator||void 0===navigator?void 0:navigator.userAgent}}catch(e){return null}}function De(e,t){if(!e)return null;var n=e[t];if(!n){var a=t.toLowerCase();n=e[Object.keys(e).find(function(e){return e.toLowerCase()===a})]}if(o.Utils.isNOU(n))return null;if(!o.Utils.isArray(n)&&(o.Utils.isObject(n)||o.Utils.isFunction(n)))return null;var i=(new Date).toISOString();return{userFactType:"Local",userFactName:t,userFactValue:n.toString(),sourceDateTime:i,storageDateTime:i,clientIngestionDateTime:i}}var Ie=function(){function e(){this.loadAsyncTriggered=!1,this.userFacts=[],this.nameAndUserFactMap={}}return e.prototype.load=function(){return this.loadAsyncTriggered||(this.loadAsync(),this.loadAsyncTriggered=!0),this.userFacts||[]},e.prototype.loadAsync=function(){var e=this,t=ae().getUserFacts().then(function(t){e.loadUserFacts(t)}),n=Object(d.a)("TulipsLoadTimeout",1e3);return Object(R.b)(n,t).then(function(){return e.userFacts}).catch(function(){return(!e.userFacts||e.userFacts.length<=0)&&e.loadUserFacts(ae().getCachedUserFacts()),e.userFacts}).catch(function(){return e.userFacts})},e.prototype.getUserFact=function(e){var t=this.nameAndUserFactMap[e];return t||this.nameAndUserFactMap.hasOwnProperty(e)?t:t=this.nameAndUserFactMap[e]=function(e){try{if(!re){var t=i.get().getCommonInitOptions();re=[t,null==t?void 0:t.applicationSettings,null==t?void 0:t.telemetryGroup,null==t?void 0:t.applicationGroup,null==t?void 0:t.webGroup,i.get().getFloodgateInitOptions(),i.get(),Se(),{userConsentGroup:i.get().getUserConsentGroup(),feedbackEnabledByAADC:i.get().isFeedbackSurveyEnabledByAADC()}]}var n=re.reduce(function(t,n){return t||De(n,e)},null);return n||(n=function(e){var t=e&&e.split("__");if(!t||t.length<=1)return null;var n=null,a=t[0],i=t.pop();if(i&&1===t.length&&(n=De(window[a]||window,i)),!n&&i&&t.length>1){"window"===a&&t.shift();var r=t.reduce(function(e,t){return e&&e[t]},window);r&&(n=De(r,i))}return n&&(n.userFactName=e),n}(e)),n}catch(t){return f.b().logEvent(f.a.UserFacts.LocalFact.Error.VALUE,2,{ErrorMessage:"Error getting local fact - "+e+" "+(t&&t.message?": "+t.message:"")+" "}),null}}(e)},e.prototype.loadUserFacts=function(e){var t=this;e&&(this.userFacts=e||[],this.userFacts.map(function(e){t.nameAndUserFactMap[e.userFactName]=e}),this.loadAsyncTriggered=!0,this.logUserFactInfo(this.userFacts))},e.prototype.logUserFactInfo=function(e){if(e&&!(e.length<=0)){var t=Object(d.a)("TulipsIngestionTimeInterval",864e5);if(!(t<=0)){var n;try{var a=Date.now(),i=function(e){var n=Date.parse(e);return!!isNaN(n)||a-n>t},r={Count:e.length,RefreshTime:t,IngestionTime:e[0].clientIngestionDateTime,SourcesExpired:e.filter(function(e){return e&&i(e.sourceDateTime)}).length||void 0,StoragesExpired:e.filter(function(e){return e&&i(e.storageDateTime)}).length||void 0,IngestionsExpired:e.filter(function(e){return e&&i(e.clientIngestionDateTime)}).length||void 0};n={Message:"UserFacts",Data:JSON.stringify(r)}}catch(e){n={ErrorMessage:"Error getting UserFact info"}}f.b().logEvent(f.a.UserFacts.Provider.Info.VALUE,3,n)}}},e}(),xe=n(15),Ce=n(33),Oe=n(17),we=n(42),Ee=n.n(we),Ae=n(9),Le=function(e){function t(t){var n=e.call(this)||this;return n.simpleRequestEnabled=!1,n.simpleRequestEnabled=null!=t&&t,n}return Object(s.c)(t,e),t.prototype.postRequestWithRetry=function(e,t,n,a){var i=this;return new Promise(function(r,o){i.sendPostRequest(e,t,void 0,!0,a).then(r).catch(function(s){if(f.b().logEvent(f.a.DYNAMICTRANSPORT_POST_ERROR,2,{ErrorMessage:s.toString(),TimeMilliseconds:a,Count:n,CorrelationId:i.requestId}),n<=1)return o(s);i.postRequestWithRetry(e,t,n-1,a).then(r).catch(o)})})},t.prototype.createHeaders=function(e){var t="undefined"!=typeof Headers&&new Headers;return t&&(this.simpleRequestEnabled?this.createSimpleHeaders(t):this.createNormalHeaders(t),Object(Ae.isNOU)(e)||t.append("Authorization","Bearer "+e)),t},t.prototype.createNormalHeaders=function(e){this.requestId=Object(Ae.guid)(),e.append("X-Request-ID",this.requestId),e.append("Content-Type","application/json")},t.prototype.createSimpleHeaders=function(e){e.append("Content-Type","text/plain")},t}(B),ke=n(23),Me=new(function(){function e(){this.personalizerEnabled=!1,this.dynamicTransport=new Le,this.personalizerSurveyInformationMap={}}return e.prototype.setup=function(e){this.personalizerEnabled=e.getFloodgateInitOptions().governanceServiceEnabled&&e.getFloodgateInitOptions().personalizerEnabled,this.personalizerEnabled&&(this.isProduction=0===e.getCommonInitOptions().environment,this.retryLimit=e.getFloodgateInitOptions().governanceServiceConfig.retry,this.timeout=e.getFloodgateInitOptions().governanceServiceConfig.timeout,this.requestUrl=this.isProduction?"https://oness.microsoft.com/api/v1.0/Reward":"https://onessppe.microsoft.com/api/v1.0/Reward")},e.prototype.setEventIdAndOverrideValueForSurveyId=function(e,t,n,a,i){if(!this.personalizerEnabled||o.Utils.isNOU(e)||o.Utils.isNOU(a))return!1;if(0!==t)return!1;var r=this.validateAndGetAutoDismissTime(n);return!o.Utils.isNOU(r)&&(this.personalizerSurveyInformationMap[a]={eventId:e,recommendedAutoDismissValue:r,userAction:void 0},!0)},e.prototype.getOverrideValueForSurveyId=function(e,t){if(this.personalizerEnabled&&!o.Utils.isNOU(t)&&this.infoExistsForSurveyId(t)&&0===e)return this.personalizerSurveyInformationMap[t].recommendedAutoDismissValue},e.prototype.logUserActionForSurveyAsync=function(e,t,n){return Object(s.b)(this,void 0,void 0,function(){var a,i,r,c,d,l;return Object(s.d)(this,function(s){switch(s.label){case 0:if(!o.Utils.isNOU(e)&&this.infoExistsForSurveyId(t)&&(this.personalizerSurveyInformationMap[t].userAction=e),a={error:!1},i=this.getValidatedActionPayloadForSurveyId(t),o.Utils.isNOU(i))return a.error=!0,a.errorMessage="Action Payload validation failed.",f.b().logEvent(f.a.PERSONALIZER_CLIENTFAILURE,1,{Message:"(PersonalizerClient.logUserActionForSurveyAsync) Error logging personalizer user action: "+a.errorMessage,CampaignId:n,SurveyId:t}),[2,a];s.label=1;case 1:return s.trys.push([1,3,,4]),c=performance.now(),[4,this.dynamicTransport.postRequestWithRetry(this.requestUrl,JSON.stringify(i),this.retryLimit,this.timeout)];case 2:return r=s.sent(),d=performance.now(),f.b().logEvent(f.a.PERSONALIZER_SERVICEREWARDRESULT,1,{TimeMilliseconds:d-c,HttpStatusCode:r.status,HttpStatusText:r.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,CampaignId:n,PersonalizerUserAction:i.UserAction,PersonalizerEventId:i.EventId,SurveyId:t}),r.ok||(a.error=!0,a.errorMessage="Server Error, status: "+r.status+", status text: "+r.statusText),[2,a];case 3:return l=s.sent(),a.error=!0,a.errorMessage="Error: "+l.toString()+", Error stack: "+l.stack,f.b().logEvent(f.a.PERSONALIZER_CLIENTFAILURE,1,{Message:"(PersonalizerClient.logUserActionForSurveyAsync) Error logging personalizer user action: "+a.errorMessage,CampaignId:n,SurveyId:t,PersonalizerUserAction:i.UserAction,PersonalizerEventId:i.EventId}),[2,a];case 4:return[2]}})})},e.prototype.getEventIdForSurveyId=function(e){if(this.infoExistsForSurveyId(e))return this.personalizerSurveyInformationMap[e].eventId},e.prototype.isEnabled=function(e,t,n){return e===c.ISurvey.Type.Fps&&t!==l.f&&"customux"!==t&&n===Oe.GovernedChannelType.Standard&&this.personalizerEnabled},e.prototype.getValidatedActionPayloadForSurveyId=function(e){if(this.infoExistsForSurveyId(e)){var t=this.personalizerSurveyInformationMap[e];if(!o.Utils.isNOU(t.eventId)&&!(o.Utils.isNOU(t.userAction)||2!==t.userAction&&0!==t.userAction&&1!==t.userAction))return{UserAction:t.userAction,EventId:t.eventId}}},e.prototype.validateAndGetAutoDismissTime=function(e){if(!o.Utils.isNOU(e)&&"string"==typeof e)switch(parseInt(e,10)){case 0:return 0;case 7:return 1;case 14:return 2;case 21:return 3;case 28:return 4;case 60:return 5;case 90:return 6;case 120:return 7;case 150:return 8;default:return}},e.prototype.infoExistsForSurveyId=function(e){return!o.Utils.isNOU(e)&&!o.Utils.isNOU(this.personalizerSurveyInformationMap[e])},e.prototype.buildConfigTelemetryString=function(){var e={retry:this.retryLimit,timeout:this.timeout};return JSON.stringify(e)},e}());function Pe(){return Me}var Te=new(function(){function e(){this.personalizerClient=Pe(),this.governanceServiceEnabled=!1,this.forceServicelessSurveyDisplay=!1,this.lastSurveyFailedSync=void 0,this.clientState=ke.GovernanceServiceClientState.Disabled}return e.prototype.setup=function(e){if(this.governanceServiceEnabled=e.getFloodgateInitOptions().governanceServiceEnabled,this.governanceServiceEnabled){if(this.clientInfo={applicationId:e.getCommonInitOptions().appId.toString(),sessionId:e.getCommonInitOptions().sessionId,version:e.getCommonInitOptions().build,surveyPlatform:1,hostPlatform:6,tenantId:e.getCommonInitOptions().telemetryGroup.tenantId,deviceId:e.getCommonInitOptions().telemetryGroup.deviceId,audience:e.getCommonInitOptions().telemetryGroup.audience},this.userId=e.getCommonInitOptions().telemetryGroup.loggableUserId,Object(Ae.isNOU)(this.clientInfo.sessionId))return void(this.clientState=ke.GovernanceServiceClientState.InitializationFailed);if(Object(Ae.isNOU)(this.clientInfo.version))return void(this.clientState=ke.GovernanceServiceClientState.InitializationFailed);if(!Object(Ae.isValidUserId)(this.userId))return void(this.clientState=ke.GovernanceServiceClientState.InitializationFailed);this.forceServicelessSurveyDisplay=e.getFloodgateInitOptions().governanceServiceConfig.forceServicelessSurveyDisplay,this.retryLimit=e.getFloodgateInitOptions().governanceServiceConfig.retry,this.timeout=e.getFloodgateInitOptions().governanceServiceConfig.timeout,this.simpleRequestEnabled=e.getFloodgateInitOptions().governanceServiceConfig.simpleRequestEnabled,this.isProduction=0===e.getCommonInitOptions().environment,this.clientState=ke.GovernanceServiceClientState.Enabled,this.dynamicTransport=new Le(this.simpleRequestEnabled)}},e.prototype.isEnabled=function(e){return this.clientState===ke.GovernanceServiceClientState.Enabled&&this.governanceServiceEnabled&&e===Oe.GovernedChannelType.Standard},e.prototype.shouldForceDisplay=function(){return this.forceServicelessSurveyDisplay},e.prototype.getClientInfo=function(){return this.clientInfo},e.prototype.getClientState=function(){return this.clientState},e.prototype.getLastSurveyFailedSync=function(){return this.lastSurveyFailedSync},e.prototype.checkGovernancePermitAsync=function(e,t,n,a){return Object(s.b)(this,void 0,void 0,function(){var i,r,o,c,d,l,u,p,m,_;return Object(s.d)(this,function(s){switch(s.label){case 0:i=(this.isProduction?"https://oness.microsoft.com/api/v1.0/UserSurvey":"https://onessppe.microsoft.com/api/v1.0/UserSurvey")+(this.simpleRequestEnabled?"/SimpleRequest":""),r=this.buildSurveyInfo(e,t,a),o=this.buildBodyRequest(r,n),c={permission:!1,error:!1},s.label=1;case 1:return s.trys.push([1,4,,5]),u=performance.now(),[4,this.dynamicTransport.postRequestWithRetry(i,o,this.retryLimit,this.timeout)];case 2:return d=s.sent(),l=performance.now()-u,p=void 0,d.ok?[4,d.text()]:(this.lastSurveyFailedSync=r,c.errorMessage="Server Error, status: "+d.status+", status text: "+d.statusText,c.error=!0,f.b().logEvent(f.a.GOVERNANCE_SERVICERESULT,1,{TimeMilliseconds:l,HttpStatusCode:d.status,HttpStatusText:d.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,GovernanceRequestBody:o,GovernanceResponseText:p,CampaignId:e.getCampaignId(),SurveyId:e.getSurveyInfo().getId()}),[2,c]);case 3:return p=s.sent(),f.b().logEvent(f.a.GOVERNANCE_SERVICERESULT,1,{TimeMilliseconds:l,HttpStatusCode:d.status,HttpStatusText:d.statusText,AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,GovernanceRequestBody:o,GovernanceResponseText:p,CampaignId:e.getCampaignId(),SurveyId:e.getSurveyInfo().getId()}),(m=JSON.parse(p)).lastTriggerSurveyTime=Object(Ae.stringToDate)(new Date(m.lastTriggerSurveyTime).toISOString()),Object(Ae.isNumber)(m.timeUntilNextSurveyAllowed)&&Object(Ae.isDate)(m.lastTriggerSurveyTime)?(0===m.timeUntilNextSurveyAllowed&&(c.permission=!0,this.personalizerClient.isEnabled(e.getType(),e.getLauncherType(),e.getSurveyInfo().getGovernedChannelType())&&this.personalizerClient.setEventIdAndOverrideValueForSurveyId(this.dynamicTransport.requestId,0,m.actionId,e.getSurveyInfo().getId(),e.getCampaignId())),c.lastTriggerSurvey=m,this.lastSurveyFailedSync=void 0):(c.errorMessage="Service Response is not formatted correctly: "+p,c.error=!0,this.lastSurveyFailedSync=r),[3,5];case 4:return _=s.sent(),this.lastSurveyFailedSync=r,f.b().logEvent(f.a.GOVERNANCE_SERVICEFAILURE,2,{ErrorMessage:_.toString(),AdditionalSurveyInfo:this.buildConfigTelemetryString(),CorrelationId:this.dynamicTransport.requestId,HttpStatusCode:null==d?void 0:d.status,HttpStatusText:null==d?void 0:d.statusText,GovernanceRequestBody:o}),c.error=!0,c.errorMessage="Error: "+_.toString()+", Error stack: "+_.stack,[3,5];case 5:return[2,c]}})})},e.prototype.buildSurveyInfo=function(e,t,n){var a=c.ISurvey.Type[e.getType()],i=ke.GovernanceServiceSurveyType[a],r=new Date,o=this.personalizerClient.isEnabled(e.getType(),e.getLauncherType(),e.getSurveyInfo().getGovernedChannelType());return{surveyId:e.getCampaignId(),surveyTriggerTime:r,surveyType:i,surveyLevelCooldown:t,surveyChannel:n,localOffsetTime:r.getTimezoneOffset(),personalizerEnabled:o}},e.prototype.buildBodyRequest=function(e,t){var n={userId:this.userId,userLevelCooldown:t,survey:e,client:this.clientInfo};return this.simpleRequestEnabled&&(this.dynamicTransport.requestId=Object(R.i)(),n.requestId=this.dynamicTransport.requestId),JSON.stringify(n)},e.prototype.buildConfigTelemetryString=function(){var e={retry:this.retryLimit,timeout:this.timeout,simpleRequestEnabled:this.simpleRequestEnabled};return JSON.stringify(e)},e}());function Ue(){return Te}var Fe,He=!1,Re=0,Ne=null,Be=null,je=null;function Ve(e){Ne=e}function ze(){return Ne}function Ge(e,t){if(void 0===t&&(t=null),Ne)return Ne;Re++;var n=new Promise(function(n,a){var r=function(e,t){var n=o.FloodgateEngine.getTelemetryLogger();n&&n.log_Event(xe.TelemetryEvent.Floodgate.Start.Failed,{Count:Re,ErrorMessage:e,ErrorDetails:t&&t.stack}),a(e)};try{var s=i.get().getCommonInitOptions();if(!s)return void r("Invalid floodgate common init options, state: "+He);var c=i.get().getFloodgateInitOptions();if(!c){var l=o.FloodgateEngine.getTelemetryLogger();l&&l.log_Event(xe.TelemetryEvent.Floodgate.Start.Warning,{Count:Re,ErrorMessage:"Invalid floodgate init options, state: "+He}),i.get().setFloodgateInitOptions({}),c=i.get().getFloodgateInitOptions()}t||Be||c&&c.authTokenCallback&&(Be=new ye,je=new Ie);var u=Ce.Governor.GetChannelCoolDown(Oe.GovernedChannelType.TeachingMessage),f=Object(d.a)("TeachingMessageCooldown",u);if(Ce.Governor.SetDefaultChannelCoolDown(Oe.GovernedChannelType.TeachingMessage,f),!(Fe=t||o.FloodgateEngine.make(s.build||"",pe.make(),c.onSurveyActivatedCallback,new z.a,c.settingStorageCallback,new ge,new he,new _e,[Be],je,Ue(),c.isPriorityEnabled,Fe&&Fe.getSurveyClient())))return Ve(null),void r("Failed to create floodgate engine");if(e||Re>1)Fe.start(),n();else{var p=Fe.startAsync();if(!p)return Ve(null),void r("Failed to get floodgate engine");p.then(function(){n()}).catch(function(e){Ve(null),r("Failed to start floodgate engine",e)})}}catch(e){Ve(null),r("Failed to load floodgate engine: "+(e&&e.toString()),e)}});return Ve(n),n.catch(function(e){Ve(null)}),n}function Ke(e){return void 0===e&&(e=!1),Ge(e)}function We(){Fe&&Fe.stop(),Ve(null)}function qe(){Re=0,Ne=null,Fe=null,Be=null,je=null}r.g(function(){return Fe}),r.l(Ke),r.m(We);var Qe,Ye,Je,Xe,Ze=n(28),$e=n(0),et=n(5),tt=n(35),nt=R.l;function at(e){!function(){for(var e=0,t=it;e<t.length;e++){var n=t[e];et.m(n.id,n.event,n.listener)}it=[]}(),Qe(e)}var it=[];function rt(e,t,n){et.g(e,t,n),it.push({event:t,id:e,listener:n})}function ot(e,t,n,a,r,o){var s=i.get();f.b().logEvent(e,1,{CampaignId:s.getFloodgateSurvey().getCampaignId(),SurveyId:s.getFloodgateSurvey().getId(),SurveyType:s.getFloodgateSurvey().getSurveyType(),PromptAutoDismiss:s.getFloodgateInitOptions().autoDismiss.toString(),ClientFeedbackId:t,IsEmailPolicyEnabled:n,PersonalizerUserAction:a,PersonalizerEventId:r,ActualSetAutoDismissValue:o})}function st(e){var t=document.getElementById($e.d.TFormEmailCheckBox);if(t){var n=document.getElementById($e.d.TFormEmailTextBox);n.value=t.checked?i.get().getCommonInitOptions().userEmail:null,n.disabled=!t.checked}}function ct(e){e.keyCode===$e.e.Esc&&(e.preventDefault(),e.stopPropagation(),at(!1),lt(),ut())}function dt(e){e.preventDefault(),e.stopPropagation(),at(!1),lt(),ut()}function lt(){if(Ye&&ht())return Pe().logUserActionForSurveyAsync(0,i.get().getFloodgateSurvey().getId(),i.get().getFloodgateSurvey().getCampaignId()),void ot(f.a.SURVEY_UI_PROMPT_USERCLOSED,void 0,void 0,0,Pe().getEventIdForSurveyId(i.get().getFloodgateSurvey().getId()),Xe);ot(Ye?f.a.SURVEY_UI_PROMPT_USERCLOSED:f.a.SURVEY_UI_FORM_USERCLOSED,void 0,void 0,void 0,void 0,Xe)}function ut(){Je&&(clearTimeout(Je),Je=0)}function ft(e){var t,n,a;e.preventDefault(),e.stopPropagation(),i.get().getFloodgateSurvey().getSurveyType()===c.ISurvey.Type.Intercept?(t=i.get().getFloodgateSurvey().getInterceptUrl(),n=window.open(t,"_blank"),a=!nt(n)&&(n.focus(),!0),at(!1),ot(a?f.a.SURVEY_UI_PROMPT_CLICKED:f.a.SURVEY_UI_REDIRECTIONFAILURE)):pt()}function pt(){Ye=!1,et.l($e.d.TPromptContainer,!1),et.l($e.d.TFormContainer,!0),et.b($e.d.ToastContainer,$e.c.ToastZoom),(" "+document.getElementById($e.d.TFormContainer).className+" ").indexOf(" "+$e.c.Visible+" ")>-1&&document.getElementById($e.d.ToastContainer).setAttribute("role","");var e=document.getElementsByName($e.d.TFormRating);e&&e.length>0&&e[0].focus(),ht()?(Pe().logUserActionForSurveyAsync(2,i.get().getFloodgateSurvey().getId(),i.get().getFloodgateSurvey().getCampaignId()),ot(f.a.SURVEY_UI_FORM_SHOWN,void 0,void 0,2,Pe().getEventIdForSurveyId(i.get().getFloodgateSurvey().getId()),Xe)):ot(f.a.SURVEY_UI_FORM_SHOWN,void 0,void 0,void 0,void 0,Xe)}function mt(e){document.getElementById($e.d.TFormSubmitButton).disabled=!1}function _t(e){e.preventDefault(),e.stopPropagation(),et.l($e.d.TFormSubmitButton,!1);var t=new tt.a($e.d.TFormSubmitButtonSpinner),n=new me.a(i.get().getCommonInitOptions().environment,c.ISurvey.Type[i.get().getFloodgateSurvey().getSurveyType()],i.get().getCommonInitOptions().appId,"Survey",i.get().getCommonInitOptions().applicationGroup,i.get().getCommonInitOptions().telemetryGroup,i.get().getCommonInitOptions().webGroup),a=document.getElementById($e.d.TFormComment),r=a&&!!a.value,o=document.querySelector('input[name="'+$e.d.TFormRating+'"]:checked');i.get().getFloodgateSurvey().setValues(Number(o.value),r?a.value:""),n.setManifestValues(i.get().getFloodgateSurvey().getJsonElements());var s=document.getElementById($e.d.TFormEmailCheckBox),d=document.getElementById($e.d.TFormEmailTextBox);s&&s.checked&&""!==d.value&&n.setEmail(d.value),n.appendUxId(l.d),n.submit(),t.destroy(),at(!0),ot(f.a.SURVEY_UI_FORM_SUBMIT,n.getClientFeedbackId(),i.get().getFloodgateInitOptions().showEmailAddress)}function ht(){return Pe().isEnabled(i.get().getFloodgateSurvey().getSurveyType(),i.get().getFloodgateSurvey().getLauncherType(),i.get().getFloodgateSurvey().getGoverenedChannelType())}var bt=R.l;function gt(e,t,n){return[{attributes:[{name:$e.a.Type,value:$e.b.Radio},{name:$e.a.Value,value:e},{name:$e.a.Name,value:n}],id:e,tag:$e.h.Input},{attributes:[{name:$e.a.For,value:e}],children:[{children:[{tag:$e.h.Span}],classes:[$e.c.ChoiceGroupIcon],tag:$e.h.Span},{classes:["obf-ChoiceGroupLabel"],innerHTML:t,tag:$e.h.Span}],classes:[$e.c.FontSubText],tag:$e.h.Label}]}function vt(){for(var e,t=[],n=0,a=0,r=i.get().getFloodgateSurvey().getRatingValuesAscending();a<r.length;a++){var o=r[a];t.push([n,o]),n++}return function(e,t,n){var a={children:[],tag:$e.h.FieldSet};bt(t)||Array.prototype.push.apply(a.children,[{classes:[$e.c.FontSubText],id:$e.d.TFormRatingQuestion,innerText:t,tag:$e.h.Legend,attributes:[{name:$e.a.AriaLabel,value:t}]}]);for(var i=0,r=n;i<r.length;i++){var o=r[i];Array.prototype.push.apply(a.children,gt(o[0].toString(),o[1],e))}return{children:[a],classes:[$e.c.ChoiceGroup],id:e}}($e.d.TFormRating,null===(e=i.get().getFloodgateSurvey().getRatingQuestion())||void 0===e?void 0:e.trim(),t.reverse())}var yt,St=n(32),Dt=n(36),It=!1,xt=!1,Ct=!1,Ot=!1,wt=null,Et="",At=function(e,t){var n,a,r=!1,o=e.split("_");if("CV"===(o.length>1?(n=o[0],a=o[1]):(n="Other",a=o[0]),n))switch(a){case"OnSubmit":return function(e){try{var t=function(e){var t,n,a,i,r,o,s,c,d,l=[],u=[],f=[],p=[],m=!1,_=!1;return null===(t=e.pageInfo)||void 0===t||t.forEach(function(t){t.questionAnswers.forEach(function(t){switch(null==t?void 0:t.questionType){case"rating":n=function(e){return parseInt(null==e?void 0:e.answerValue[0],10)-1}(t),i=Lt(t),r=t.ratingsListLength;break;case"prompt":o=Lt(t),s=kt(t);break;case"verbatim":var h=kt(t),b=Lt(t),g=!Object(Ae.isNOU)(s),v=!1;m?(g||"1"===e.pageNumber||!Object(Ae.isNOU)(wt)||_||(u.push({question:Et}),l.push(" "),_=!0),v=g||"1"!==e.pageNumber):(wt=h,Et=b,m=!0,v=g||!Object(Ae.isNOU)(wt)),v&&(u.push({question:b}),l.push(Object(Ae.isNOU)(h)?" ":h));break;case"email":a=kt(t);break;case"additional":c=Lt(t),d=kt(t);break;default:f.push({question:"contactme"===(null==t?void 0:t.questionType)?"contactme":Lt(t),options:Mt(t)}),p.push(function(e){return null==e?void 0:e.insightfulQuestionAnswers}(t))}})}),{rating:n,ratingQuestion:i,ratingsListLength:r,email:a,commentsCollection:l,commentTitlesCollection:u,promptQuestion:o,promptResponse:s,additionalPromptQuestion:c,additionalPromptResponse:d,insightfulQuestionOptionsCollection:f,insightfulQuestionAnswersCollection:p}}(e),n=t.rating;if(function(e,t){var n=!1,a=!1;return Object(Ae.isNOU)(e)||(n=Pt(e,"prompt",xt),a=e===$e.f.No),Object(Ae.isNOU)(t)||(n=Pt(t,"additional",Ct),a=t===$e.f.No),n||a}(t.promptResponse,t.additionalPromptResponse))return;var a=new me.a(i.get().getCommonInitOptions().environment,c.ISurvey.Type[i.get().getFloodgateSurvey().getSurveyType()],i.get().getCommonInitOptions().appId,"Survey",i.get().getCommonInitOptions().applicationGroup,i.get().getCommonInitOptions().telemetryGroup,i.get().getCommonInitOptions().webGroup),r=Object(Ae.isNOU)(wt)?null:wt;i.get().getFloodgateSurvey().setValues(Number(n),r||null),function(e,t){e.setManifestValues(i.get().getFloodgateSurvey().getJsonElements()),function(e,t){var n,a=[];t.commentsCollection.length>0&&(n=t.commentsCollection,a=t.commentTitlesCollection);var i=JSON.parse(e.getExtendedManifestData());i.surveyStrings=JSON.stringify({prompt:{title:"",question:null==t?void 0:t.promptQuestion,yesButtonText:"YES",noButtonText:"NO"},rating:[{question:null==t?void 0:t.ratingQuestion,options:[]}],comment:a,multipleChoice:t.insightfulQuestionOptionsCollection}),i.surveySpecificData=JSON.stringify({rating:[{numberOfOptions:t.ratingsListLength,selectedRating:t.rating}],comment:n,multipleChoice:t.insightfulQuestionAnswersCollection}),e.setExtendedManifestData(JSON.stringify(i))}(e,t),t.email&&e.setEmail(t.email);var n=function(){var e=i.get().getCommonInitOptions().applicationGroup.appData,t=[],n={additionalInfo:{SurveyDescription:l.g,Flight:i.get().getCVSurveyFlights()}};if(Object(Ae.isNOU)(e))t.push({});else try{t.push(JSON.parse(e))}catch(e){Tt(f.a.APPDATA_JSON_PARSE_ERROR),t.push({})}return t.push(n),JSON.stringify(t)}();e.setAppData(n);var a=i.get().getFloodgateSurvey().getPreGeneratedClientFeedbackId();a&&e.setClientFeedbackId(a)}(a,t),a.submit(),"FormPartialResponseSubmitted"!==e.eventType&&"FormResponseSubmitted"!==e.eventType||(It=!0,Ot?(f.a.SURVEY_UI_FORM_SECONDARY_SUBMIT.name="Survey_UI_Form_Secondary_Submit_Page_Number_"+e.pageNumber,Tt(f.a.SURVEY_UI_FORM_SECONDARY_SUBMIT)):(Tt(f.a.SURVEY_UI_FORM_SUBMIT),Ot=!0))}catch(e){Tt(f.a.SURVEY_UI_FORM_SUBMIT_ERROR)}}(t);case"OnCancel":return function(e){var t;switch(e.eventType){case"FormClosed":Object(Ae.isNOU)(e.pageNumber)||(f.a.SURVEY_UI_FORM_USERCLOSED.name="Survey_UI_Form_UserClosed_Page_Number_"+e.pageNumber.charAt(e.pageNumber.length-1)),Tt(f.a.SURVEY_UI_FORM_USERCLOSED);break;case"ThankYouPageClosed":Tt(f.a.SURVEY_UI_THANKYOUPAGE_USERCLOSED);break;case"PromptClosed":Tt(f.a.SURVEY_UI_PROMPT_USERCLOSED);break;case"AdditionalPromptClosed":Tt(f.a.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED);break;case"FormAutoDismissed":Tt(f.a.SURVEY_UI_PROMPT_AUTODISMISSED);break;case"ThankYouPageAutoDismissed":Tt(f.a.SURVEY_UI_THANKYOUPAGE_AUTODISMISSED);break;case"FormResponseCanceled":Object(Ae.isNOU)(e.pageNumber)||(f.a.SURVEY_UI_FORM_USERCLOSED.name="Survey_UI_Form_UserClosed_Page_Number_"+(null===(t=e.pageNumber)||void 0===t?void 0:t.charAt(e.pageNumber.length-1))),Tt(f.a.SURVEY_UI_FORM_USERCLOSED);break;default:Tt(f.a.SURVEY_UI_FORM_NO_RETURN_TYPE)}yt(It)}(t);case"OnLoaded":return function(e){var t=f.a.SURVEY_UI_FORM_SHOWN;e.hasSurveyDispatcher?t=f.a.SURVEY_UI_FORM_DISPATCHER_IMPLEMENTED:e.hasSurveyPromptShown&&(t=f.a.SURVEY_UI_PROMPT_SHOWN),Tt(t)}(t);case"OnLog":return function(e){var t,n,a,r,o=i.get(),s={CampaignId:o.getFloodgateSurvey().getCampaignId(),SurveyId:o.getFloodgateSurvey().getId(),SurveyType:o.getFloodgateSurvey().getSurveyType(),ErrorMessage:(null===(t=e.customProperties)||void 0===t?void 0:t.ErrorMessage)?null===(n=e.customProperties)||void 0===n?void 0:n.ErrorMessage:null,Message:(null===(a=e.customProperties)||void 0===a?void 0:a.Message)?null===(r=e.customProperties)||void 0===r?void 0:r.Message:null};Tt(e.eventId,s)}(t);default:r=!0}else r=!0;if(r){var s={CampaignId:i.get().getFloodgateSurvey().getCampaignId(),SurveyId:i.get().getFloodgateSurvey().getId(),SurveyType:i.get().getFloodgateSurvey().getSurveyType()};Ut.logTelemetryEvent(f.a.SURVEY_EVENT_KEY_ERROR,s)}};function Lt(e){return null==e?void 0:e.questionValue}function kt(e){return Object(Ae.isNOU)(null==e?void 0:e.answerValue[0])?null==e?void 0:e.answerValue[0]:""+(null==e?void 0:e.answerValue[0])}function Mt(e){return null==e?void 0:e.insightfulQuestionOptions}function Pt(e,t,n){if(!n){var a=void 0,i=void 0;return"prompt"===t?(xt=!0,a=f.a.SURVEY_UI_PROMPT_CLICKED,i=f.a.SURVEY_UI_PROMPT_USERCLOSED,e===$e.f.Yes&&Tt(f.a.SURVEY_UI_FORM_SHOWN)):(Ct=!0,a=f.a.SURVEY_UI_ADDITIONALPROMPT_CLICKED,i=f.a.SURVEY_UI_ADDITIONALPROMPT_USERCLOSED),Tt(e===$e.f.No?i:a),!0}return!1}function Tt(e,t){var n,a=i.get();n=t||{CampaignId:a.getFloodgateSurvey().getCampaignId(),SurveyId:a.getFloodgateSurvey().getId(),SurveyType:a.getFloodgateSurvey().getSurveyType(),ClientFeedbackId:i.get().getFloodgateSurvey().getPreGeneratedClientFeedbackId(),CVFormId:a.getFloodgateSurvey().getCVSurveyFormId()},f.b().logEvent(e,1,n)}var Ut={logTelemetryEvent:Tt},Ft=function(){function e(e){this.comment="",this.ratingIndex=-1,this.showPrompt=e.showPrompt,this.showEmailRequest=!!R.j(e.showEmailRequest)&&e.showEmailRequest,this.survey=e}return e.prototype.getLauncherType=function(){return this.survey.launcherType},e.prototype.getCVSurveyFormId=function(){return this.survey.customerVoiceFormId},e.prototype.getPreGeneratedClientFeedbackId=function(){},e.prototype.getPromptQuestion=function(){return this.survey.promptQuestion},e.prototype.getTitle=function(){return this.survey.title},e.prototype.getPromptYesButtonText=function(){return this.survey.promptYesButtonText},e.prototype.getPromptNoButtonText=function(){return this.survey.promptNoButtonText},e.prototype.getRatingValuesAscending=function(){return this.survey.ratingValuesAscending},e.prototype.getRatingQuestion=function(){return this.survey.ratingQuestion},e.prototype.getCommentQuestion=function(){return this.survey.commentQuestion},e.prototype.getInterceptTitle=function(){},e.prototype.getInterceptQuestion=function(){},e.prototype.getInterceptUrl=function(){},e.prototype.setValues=function(e,t){this.comment=t,this.isRatingIndexValid(e)?this.ratingIndex=e:this.ratingIndex=-1},e.prototype.getJsonElements=function(){var e={};return e.comment=this.comment,e.rating=this.getNormalizedRatingScore(),e.survey={surveyId:this.getCampaignId()},e},e.prototype.getSurveyType=function(){return this.survey.surveyType},e.prototype.getCampaignId=function(){return this.survey.campaignId},e.prototype.getId=function(){return this.getCampaignId()},e.prototype.getGoverenedChannelType=function(){},e.prototype.isRatingIndexValid=function(e){return e>=0&&e<this.survey.ratingValuesAscending.length},e.prototype.getNormalizedRatingScore=function(){return this.isRatingIndexValid(this.ratingIndex)?this.survey.isZeroBased?this.ratingIndex/(this.survey.ratingValuesAscending.length-1):(this.ratingIndex+1)/this.survey.ratingValuesAscending.length:-1},e}(),Ht=function(){function e(){this.showPrompt=!0,this.showEmailRequest=!0,this.comment=""}return e.prototype.getCVSurveyFormId=function(){return"Form ID"},e.prototype.getLauncherType=function(){return"Launcher Type"},e.prototype.getPromptQuestion=function(){return"Prompt question?"},e.prototype.getTitle=function(){return"Title"},e.prototype.getPromptYesButtonText=function(){return"Yes"},e.prototype.getPromptNoButtonText=function(){return"No"},e.prototype.getRatingValuesAscending=function(){return["worst","worse","ok","better","best"]},e.prototype.getRatingQuestion=function(){return"Rating question?"},e.prototype.getCommentQuestion=function(){return"Comment question?"},e.prototype.getInterceptTitle=function(){return"Intercept Title"},e.prototype.getInterceptQuestion=function(){return"Intercept question?"},e.prototype.getInterceptUrl=function(){return"https://example.com"},e.prototype.setValues=function(e,t){t&&(this.comment=t),R.k(e)&&e>=0&&e<=4&&(this.rating=e/4)},e.prototype.getJsonElements=function(){var e={};return this.comment&&(e.comment=this.comment),this.rating&&(e.rating=this.rating),e},e.prototype.getSurveyType=function(){return c.ISurvey.Type.Nps},e.prototype.getCampaignId=function(){return"10000000-0000-0000-0000-000000000000"},e.prototype.getId=function(){return"00000000-0000-0000-0000-000000000000"},e.prototype.getGoverenedChannelType=function(){return Oe.GovernedChannelType.Standard},e.prototype.getPreGeneratedClientFeedbackId=function(){return"00000000-0000-0000-0000-000000000000"},e}(),Rt=function(){function e(){}return e.prototype.log_TriggerMet=function(e,t,n,a,i){f.b().logEvent(f.a.SURVEY_FLOODGATE_TRIGGERMET,1,{CampaignId:e,SurveyId:t,SurveyType:n,SurveyActivityInfo:a,AdditionalSurveyInfo:i})},e.prototype.log_UserSelected=function(e,t,n,a){f.b().logEvent(f.a.SURVEY_FLOODGATE_USERSELECTED,1,{CampaignId:e,SurveyId:t,SurveyType:n,AdditionalSurveyInfo:a})},e.prototype.log_CampaignLoad_Failed=function(e){f.b().logEvent(f.a.SURVEY_FLOODGATE_CAMPAIGNLOAD_FAILED,2,{ErrorMessage:e})},e.prototype.log_Error=function(e,t){var n={name:e};f.b().logEvent(n,2,{ErrorMessage:t})},e.prototype.log_Event=function(e,t,n){var a={name:e};f.b().logEvent(a,1,t,n)},e.prototype.log_LocalError=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.log_Local(2,e,t)},e.prototype.log_Local=function(e,t){for(var n=[],a=2;a<arguments.length;a++)n[a-2]=arguments[a];f.b().logLocal(e,n)},e}(),Nt=!1;function Bt(){return new Promise(function(e,t){var n=function(e){var n=o.FloodgateEngine.getTelemetryLogger();n&&n.log_Event(xe.TelemetryEvent.Floodgate.Initialize.Failed,{ErrorMessage:e}),t(e)};if(He)e(null);else{try{a.a()}catch(e){t("CommonApp initialization failed: {"+e+"}")}o.FloodgateEngine.setTelemetryLogger(new Rt),Ze.a().then(function(){try{!function(){if(!z.a.isStorageAvailable())throw new Error("window.localStorage is not available.");r.a().OfficeBrowserFeedback.floodgate=r.a().OfficeBrowserFeedback.floodgate||{};var e=r.a().OfficeBrowserFeedback.floodgate.initOptions;if(void 0!==(e=e||{}).campaignDefinitions){var t=Object(ve.FilterValidCampaignDefinitions)(e.campaignDefinitions);if(t.error)throw new Error("floodgate.initOptions.campaignDefinitions error: "+t.error);(new z.a).write(c.IFloodgateStorageProvider.FileType.CampaignDefinitions,JSON.stringify(e.campaignDefinitions))}var n=i.get();if(n.setFloodgateInitOptions(e),Ee.a.resetSessionActivity(),Pe().setup(n),Ue().setup(n),He=!0,!n.getFloodgateInitOptions().surveyEnabled){var a=o.FloodgateEngine.getTelemetryLogger();a&&a.log_Event(xe.TelemetryEvent.Floodgate.Start.SurveysDisabled,{Count:Re,Message:"Floodgate initialized with surveys disabled (surveyEnabled is false)"})}}()}catch(e){n("CommonFloodgate initialization failed: {"+e+"}")}e(null)}).catch(function(e){n("Initialization failed: {"+e+"}")})}})}function jt(e,t){return new Promise(function(n,a){if(Nt)a("Control already open");else{if(!i.get().isFeedbackSurveyEnabledByAADC())return f.b().logEvent(f.a.SURVEY_UI_DISABLED_AADC,2,{CampaignId:e.getCampaignId(),Data:JSON.stringify({ageGroup:i.get().getCommonInitOptions().ageGroup,authenticationType:i.get().getCommonInitOptions().authenticationType})}),void a("Prompt is prohibited by AADC");if(i.get().setFloodgateSurvey(e||new Ht),i.get().isCVSurveyEnabled()&&e.getLauncherType()===l.f)return function(e,t,n,a){if(yt=function(e){i.get().getFloodgateInitOptions().onDismiss(i.get().getFloodgateSurvey().getCampaignId(),e),Nt=!1},a){var r={CampaignId:i.get().getFloodgateSurvey().getCampaignId(),SurveyId:i.get().getFloodgateSurvey().getId(),SurveyType:i.get().getFloodgateSurvey().getSurveyType()};a(e).then(function(){Ut.logTelemetryEvent(f.a.SURVEY_RENDER_OVERRIDE_SUCCESS,r)}).catch(function(e){r.ErrorMessage=e,Ut.logTelemetryEvent(f.a.SURVEY_RENDER_OVERRIDE_ERROR,r)})}else Object(Dt.renderCVSurvey)($e.d.ToastContainer,At,e,n)}(function(e){var t={};return i.get().getCommonInitOptions().primaryColour&&(t.appPrimaryColor=i.get().getCommonInitOptions().primaryColour.replace("#","")),i.get().getCommonInitOptions().secondaryColour&&(t.appSecondaryColor=i.get().getCommonInitOptions().secondaryColour.replace("#","")),{customerVoiceFormId:e.getCVSurveyFormId(),flights:i.get().getCVSurveyFlights(),isCommercialHost:i.get().getCommonInitOptions().isCommercialHost,locale:i.get().getCommonInitOptions().locale,userEmailConsentDefault:!1,platform:i.get().getCommonInitOptions().telemetryGroup.platform,productName:i.get().getProductName(),uiHost:i.get().getUIHost(),uiHostCVSurveyDispatcher:i.get().getUIHostCVSurveyDispatcher(),stylesUrl:i.get().getCommonInitOptions().stylesUrl,urlParams:t}}(e),0,function(){var e={closeButtonEnabled:!0,cancelButtonEnabled:!0,timeOutEnabled:!0};return i.get().getCSSPosition()&&(e.cssPosition=i.get().getCSSPosition()),i.get().getCSSZIndex()&&(e.cssZIndex=i.get().getCSSZIndex()),i.get().getCSSBottom()&&(e.cssBottom=i.get().getCSSBottom()),i.get().getCSSRight()&&(e.cssRight=i.get().getCSSRight()),e}(),t),Nt=!0,void n();(function(e){var t,n,a,r;t=St.a({attributes:[{name:$e.a.DataHtml2CanvasIgnore,value:$e.b.True},{name:$e.a.Role,value:"alert"},{name:$e.a.Style,value:i.get().getCSSVarString()}],children:[(a=i.get().getFloodgateSurvey().getSurveyType()===c.ISurvey.Type.Intercept,r={children:[{classes:[$e.c.FontText,$e.c.TextAlignLeft],id:$e.d.TPromptTitle,innerText:a?i.get().getFloodgateSurvey().getInterceptTitle():i.get().getFloodgateSurvey().getTitle()},{classes:[$e.c.FontSubText,$e.c.TextAlignLeft],id:$e.d.TPromptText,innerText:a?i.get().getFloodgateSurvey().getInterceptQuestion():i.get().getFloodgateSurvey().getPromptQuestion()}],id:$e.d.TPromptContainer,tag:$e.h.Button},r),{attributes:[{name:$e.a.Type,value:$e.b.Button},{name:$e.a.AriaLabel,value:be.a().CloseLabel}],id:$e.d.ToastCancel,innerHTML:'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/></svg>',tag:$e.h.Button},i.get().getFloodgateSurvey().getSurveyType()!==c.ISurvey.Type.Intercept?(n={children:[{classes:[$e.c.FontText,$e.c.TextAlignLeft],id:$e.d.TFormTitle,innerText:be.a().Floodgate.Form.Title},vt(),{attributes:[{name:$e.a.For,value:$e.d.TFormComment},{name:$e.a.AriaLabel,value:i.get().getFloodgateSurvey().getCommentQuestion()},{name:$e.a.MaxLength,value:$e.b.TextAreaMaxLength}],innerText:i.get().getFloodgateSurvey().getCommentQuestion(),classes:[$e.c.FontSubText],id:$e.d.TFormCommentQuestion,tag:$e.h.Label},{attributes:[{name:$e.a.Placeholder,value:be.a().Form.CommentPlaceholder},{name:$e.a.MaxLength,value:$e.b.TextAreaMaxLength}],classes:[$e.c.FontSubText,$e.c.TextInput],id:$e.d.TFormComment,tag:$e.h.TextArea},{brs:i.get().getFloodgateInitOptions().showEmailAddress&&i.get().getFloodgateSurvey().showEmailRequest,children:[{attributes:[{name:$e.a.Type,value:$e.b.Checkbox}],classes:[$e.c.TFormEmailCheckbox,$e.c.CheckBox],id:$e.d.TFormEmailCheckBox,tag:$e.h.Input},{attributes:[{name:$e.a.For,value:$e.d.TFormEmailCheckBox}],classes:[$e.c.FontSubText,$e.c.TextAlignLeft,$e.c.TFormEmailLabel],innerText:be.a().Form.EmailCheckBoxLabel,tag:$e.h.Label},{attributes:[{name:$e.a.Type,value:$e.b.Text},{name:$e.a.Placeholder,value:be.a().Form.EmailPlaceholder},{name:$e.a.AriaLabel,value:be.a().Form.EmailPlaceholder},{name:$e.a.Name,value:$e.d.BasicFormEmailInput},{name:$e.a.MaxLength,value:$e.b.TextAreaMaxLength},{name:$e.a.Value,value:""}],classes:[$e.c.FontSubText,$e.c.FormEmailInput,$e.c.TextInput],id:$e.d.TFormEmailTextBox,tag:$e.h.Input}]},{children:[{classes:[$e.c.FontSubSubText,$e.c.TextAlignLeft,$e.c.FormPrivacyConsentText],innerText:Object(R.n)(i.get().getCommonInitOptions().telemetryGroup.tenantId)?be.a().Form.PrivacyLabel+be.a().Form.PrivacyConsent+" ":be.a().Form.PrivacyLabel,tag:$e.h.Label,id:$e.d.PrivacyConsentText},{attributes:[{name:$e.a.HRef,value:i.get().getCommonInitOptions().privacyUrl},{name:$e.a.Target,value:$e.b.BlankWindow},{name:$e.a.Rel,value:$e.b.NoReferrer}],classes:[$e.c.Link],innerText:be.a().PrivacyStatement,tag:$e.h.Anchor}],classes:[$e.c.FontSubSubText,$e.c.TextAlignLeft,$e.c.PrivacyStatementLinkDiv]},{children:[{attributes:[{name:$e.a.Disabled,value:$e.b.True},{name:$e.a.AriaDescribedBy,value:$e.d.PrivacyConsentText}],classes:[$e.c.FontSubText,$e.c.SubmitButton],id:$e.d.TFormSubmitButton,innerText:be.a().Form.Submit,tag:$e.h.Button},{classes:[$e.c.Spinner,$e.c.Hidden],id:$e.d.TFormSubmitButtonSpinner,tag:$e.h.Div},{classes:[$e.c.FontSubText,$e.c.CancelButton,et.f()?$e.c.Rtl:""],id:$e.d.TFormCancelButton,innerText:be.a().Form.Cancel,tag:$e.h.Button}],id:$e.d.TFormSubmitButtonContainer}],classes:[$e.c.Hidden],id:$e.d.TFormContainer},n):{}],classes:[$e.c.Toast,et.f()?$e.c.Rtl:""],id:$e.d.ToastContainer}),document.body.insertBefore(t,document.body.firstChild),et.l($e.d.ToastContainer,!0),function(e){void 0===e&&(e=function(e){}),Qe=e,Ye=!0,rt($e.d.ToastContainer,"keyup",ct),rt($e.d.ToastCancel,"click",dt),rt($e.d.TFormCancelButton,"click",dt),rt($e.d.TPromptContainer,"click",ft),rt($e.d.TFormSubmitButton,"click",_t),rt($e.d.TFormEmailCheckBox,"click",st),st();for(var t=document.querySelectorAll('input[name="'+$e.d.TFormRating+'"]'),n=0;n<t.length;++n)et.h(t[n],"click",mt);var a=i.get().getFloodgateSurvey().getSurveyType()===c.ISurvey.Type.Intercept,r=i.get().getFloodgateInitOptions().autoDismiss,o=ht();switch(!0){case a:r=0;break;case o:var s=Pe().getOverrideValueForSurveyId(0,i.get().getFloodgateSurvey().getId());nt(s)||(r=s);break;default:r=i.get().getFloodgateInitOptions().autoDismiss}if(Xe=r,i.get().getFloodgateSurvey().showPrompt||a?ot(f.a.SURVEY_UI_PROMPT_SHOWN,void 0,void 0,void 0,Pe().getEventIdForSurveyId(i.get().getFloodgateSurvey().getId()),r):pt(),0!==r){var d=void 0;switch(r){case 1:d=7e3;break;case 2:d=14e3;break;case 3:d=21e3;break;case 4:d=28e3;break;case 5:d=6e4;break;case 6:d=9e4;break;case 7:d=12e4;break;case 8:d=15e4;break;default:d=0}0!==d&&(Je=window.setTimeout(function(){Ye&&(at(!1),o?(Pe().logUserActionForSurveyAsync(1,i.get().getFloodgateSurvey().getId(),i.get().getFloodgateSurvey().getCampaignId()),ot(f.a.SURVEY_UI_PROMPT_AUTODISMISSED,void 0,void 0,1,Pe().getEventIdForSurveyId(i.get().getFloodgateSurvey().getId()),r)):ot(f.a.SURVEY_UI_PROMPT_AUTODISMISSED,void 0,void 0,void 0,void 0,Xe))},d))}}(function(e){et.l($e.d.ToastContainer,!1),et.d($e.d.ToastContainer),i.get().getFloodgateInitOptions().onDismiss(i.get().getFloodgateSurvey().getCampaignId(),e),Nt=!1})})(),Nt=!0,n()}})}function Vt(e,t){return jt(new ce(e),t)}function zt(e){return jt(new Ft(e))}var Gt=function(e,t,n,a){var r=!!i.get().getFloodgateSurvey();if(!r&&n.stylesUrl&&Object(u.b)(n.stylesUrl),n.customerVoiceFormId)Object(Dt.renderCVSurvey)(e,t,n,a,r);else{var s=o.FloodgateEngine.getTelemetryLogger();s&&s.log_Event(xe.TelemetryEvent.Floodgate.RenderSurvey.Unsupported,{ErrorMessage:"WARN: renderSurvey currently only supports Customer Voice surveys."})}};function Kt(){a.b(),Ze.b(),He=!1,qe(),Nt=!1}function Wt(){return c.IFloodgateSettingIdMap.RoamingSettingIdMap}r.f({renderSurvey:Gt,handleSurveyEvent:At}),r.k(jt),r.j(Vt),r.i(zt),r.h(Bt),r.c(Wt)},function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",function(){return je}),n.d(t,"multiFeedback",function(){return ze}),n.d(t,"singleFeedback",function(){return Ge}),n.d(t,"getFeedbackStatus",function(){return Ke}),n.d(t,"reset",function(){return We});var a={};n.r(a),n.d(a,"generate",function(){return pe}),n.d(a,"containerId",function(){return me}),n.d(a,"onSelect",function(){return _e}),n.d(a,"isEmailEnabled",function(){return he}),n.d(a,"isScreenshotEnabled",function(){return be}),n.d(a,"type",function(){return ge});var i={};n.r(i),n.d(i,"generate",function(){return Ee}),n.d(i,"containerId",function(){return Ae}),n.d(i,"onSelect",function(){return Le}),n.d(i,"type",function(){return ke});var r={};n.r(r),n.d(r,"generate",function(){return Me}),n.d(r,"containerId",function(){return Pe}),n.d(r,"onSelect",function(){return Te}),n.d(r,"type",function(){return Ue});var o=n(29),s=n(28),c=n(1),d=n(2),l=n(7),u=n(0),f=n(22),p=n(27),m=n(35),_=n(5);function h(e){if(!e.parentElement)return!1;if(/\S/.test(e.parentElement.id)){if(e.parentElement.className.indexOf(u.c.Visible)>=0)return!0;if(e.parentElement.className.indexOf(u.c.Hidden)>=0)return!1}return h(e.parentElement)}var b,g,v,y=!1,S=!0,D=void 0,I=void 0,x=[u.d.OverallSmileAnchor,u.d.OverallFrownAnchor,u.d.OverallIdeaAnchor,u.d.OverallBugAnchor];function C(e){var t;for(t=0;t<x.length;t++)x[t]===e?_.k(x[t],u.a.AriaSelected,u.b.True):_.k(x[t],u.a.AriaSelected,u.b.False)}function O(){_.i(window,"keyup",k),function(){for(var e=0,t=w;e<t.length;e++){var n=t[e];_.m(n.id,n.event,n.listener)}w=[]}(),b(c.get().getFeedbackSubmitted()),c.get().setFeedbackSubmitted(!1)}var w=[];function E(e,t,n){_.g(e,t,n),w.push({event:t,id:e,listener:n})}function A(e){b=e,_.c(window,"keyup",k),E(u.d.OverlayBackground,"click",M),E(u.d.MainContainer,"click",P),E(u.d.MainContainer,"keyup",L),E(u.d.PrivacyStatementLink,"click",T),E(u.d.EmailCheckBox,"click",q),E(u.d.BasicFormComment,"keyup",Q),E(u.d.SingleFormComment,"keyup",Y),q()}function L(e){(e.keyCode||e.which)===u.e.Tab&&(document.activeElement.id===u.d.FirstTabbable&&e.shiftKey||document.activeElement.id===u.d.LastTabbable&&!e.shiftKey)&&(e.stopPropagation(),function(e){var t=document.getElementById(u.d.MainContainer).querySelectorAll("a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']), select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex ='-1']), object, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]");if(e.id===u.d.LastTabbable){for(var n=0;n<t.length;n++)if((a=t[n]).id!==u.d.FirstTabbable&&h(a))return void a.focus()}else if(e.id===u.d.FirstTabbable)for(n=t.length-1;n>=0;n--){var a;if((a=t[n]).id!==u.d.LastTabbable&&h(a))return void a.focus()}}(document.activeElement))}function k(e){e.keyCode===u.e.Esc&&(e.preventDefault(),e.stopPropagation(),O())}function M(e){e.preventDefault(),e.stopPropagation(),O()}function P(e){e.stopPropagation()}function T(e){e.stopPropagation()}function U(e,t){if(e.preventDefault(),e.stopPropagation(),_.j(u.d.OverallSmileAnchor,u.c.OverallAnchorActive),_.j(u.d.OverallFrownAnchor,u.c.OverallAnchorActive),_.j(u.d.OverallIdeaAnchor,u.c.OverallAnchorActive),_.j(u.d.OverallBugAnchor,u.c.OverallAnchorActive),t&&_.b(t,u.c.OverallAnchorActive),d.b().logEvent(d.a.InApp.UI.Form.Shown.VALUE,1,{FeedbackType:D,PanelType:I}),void 0!==D){_.l(u.d.LeftFormContainer,!0),_.l(u.d.MiddleFormContainer,!0),_.l(u.d.LeftPanelContainer,!1);var n=g[D];j(n.containerId),S&&j(n.containerId),n.onSelect(D)}if(void 0!==I){for(var a in _.l(u.d.LeftFormContainer,!1),_.l(u.d.MiddleFormContainer,!1),_.l(u.d.LeftPanelContainer,!0),v)v.hasOwnProperty(a)&&_.l(v[a].containerId,!0);v[I].onSelect(I)}}function F(e){D=l.b.Smile,I=void 0,C(u.d.OverallSmileAnchor),_.k(u.d.MiddleFormContainer,u.a.AriaExpanded,u.b.True),_.k(u.d.MiddleFormContainer,u.a.AriaLabelledBy,u.d.OverallSmileAnchor),U(e,u.d.OverallSmileAnchor)}function H(e){D=l.b.Frown,I=void 0,C(u.d.OverallFrownAnchor),_.k(u.d.MiddleFormContainer,u.a.AriaExpanded,u.b.True),_.k(u.d.MiddleFormContainer,u.a.AriaLabelledBy,u.d.OverallFrownAnchor),U(e,u.d.OverallFrownAnchor)}function R(e){D=l.b.Idea,I=void 0,C(u.d.OverallIdeaAnchor),_.k(u.d.MiddleFormContainer,u.a.AriaExpanded,u.b.True),_.k(u.d.MiddleFormContainer,u.a.AriaLabelledBy,u.d.OverallIdeaAnchor),U(e,u.d.OverallIdeaAnchor)}function N(e){D=l.b.Bug,I=void 0,C(u.d.OverallBugAnchor),_.k(u.d.MiddleFormContainer,u.a.AriaExpanded,u.b.True),_.k(u.d.MiddleFormContainer,u.a.AriaLabelledBy,u.d.OverallBugAnchor),U(e,u.d.OverallBugAnchor)}function B(e,t){_.l(u.d.LeftFormContainer,t);for(var n=document.getElementById(u.d.MiddleFormContainer).children,a=0;a<n.length;a++)n[a].id!==e&&_.l(n[a].id,t)}function j(e){for(var t in g)g.hasOwnProperty(t)&&_.l(g[t].containerId,!1);y?(_.l(u.d.LeftFormContainer,!1),_.l(u.d.MiddleFormContainer,!0),_.l(e,!0)):(_.b(u.d.ColumnSeparatorDiv,u.c.ShowRightBorder),_.l(u.d.MiddleFormContainer,!0),_.l(e,!0),_.b(u.d.LeftFormContainer,u.c.SlideLeft),_.b(u.d.MiddleFormContainer,u.c.SlideLeft))}function V(e,t,n,a,i,r,o){return function(r){r.preventDefault(),r.stopPropagation(),_.l(e,!1);var s=new m.a(t),l=new f.a(c.get().getCommonInitOptions().environment,"Sas",c.get().getCommonInitOptions().appId,D,c.get().getCommonInitOptions().applicationGroup,c.get().getCommonInitOptions().telemetryGroup,c.get().getCommonInitOptions().webGroup),h=document.getElementById(n);h&&h.value&&l.setComment(h.value);var b=document.getElementById(u.d.EmailCheckBox),g=document.getElementById(a),v=g&&!!g.value;b&&b.checked&&v&&l.setEmail(g.value);var y=document.getElementById(i),S=y&&y.checked,x=document.getElementById(o);if(x&&x.selectedIndex>0&&l.setCategory(x.value),d.b().logEvent(d.a.InApp.UI.Form.Submit.VALUE,1,{FeedbackType:D,IsEmailIncluded:v,IsScreenshotIncluded:S}),S){var C=performance.now();p.a(document.body).then(function(e){var t=performance.now();d.b().logEvent(d.a.Shared.Screenshot.Render.Success.VALUE,1,{TimeMilliseconds:t-C}),l.setScreenshot(e),l.submit()}).catch(function(e){var t=performance.now();d.b().logEvent(d.a.Shared.Screenshot.Render.Failed.VALUE,2,{ErrorMessage:e,TimeMilliseconds:t-C}),l.submit()})}else l.submit();s.destroy(),c.get().setFeedbackSubmitted(!0),c.get().getInAppFeedbackInitOptions().isShowThanks?function(e){D=void 0,I=0,B(u.d.ThanksPanelContainer,!1),U(e,void 0)}(r):O()}}function z(e){B(u.d.ThanksPanelContainer,!0),O()}function G(e){e.preventDefault(),e.stopPropagation(),window.open(c.get().getInAppFeedbackInitOptions().feedbackForumUrl),O()}function K(e,t){return function(n){_.a(e,t)}}function W(){O()}function q(e){var t=document.getElementById(u.d.EmailCheckBox);if(t){var n=document.getElementById(u.d.SingleFormEmailInput);n||(n=document.getElementById(u.d.BasicFormEmailInput)),n.value=t.checked?c.get().getCommonInitOptions().userEmail:null,n.disabled=!t.checked}}function Q(e){var t=document.getElementById(u.d.BasicFormComment),n=t&&!!t.value;document.getElementById(u.d.BasicFormSubmitButton).disabled=!n}function Y(e){var t=document.getElementById(u.d.SingleFormComment),n=t&&!!t.value;document.getElementById(u.d.SingleFormSubmitButton).disabled=!n}var J,X=n(4);function Z(e){for(var t=e||[],n=[{attributes:[{name:"selected",value:"true"}],innerText:X.a().Form.CategoryPlaceholder,tag:u.h.Option}],a=0,i=t;a<i.length;a++){var r=i[a];n.push({innerText:r,tag:u.h.Option})}return n}!function(e){e[e.Single=0]="Single",e[e.Basic=1]="Basic",e[e.FeedbackPortalIdea=2]="FeedbackPortalIdea"}(J||(J={}));var $="obf-star",ee={children:[{attributes:[{name:u.a.Id,value:$},{name:u.a.X,value:"0"},{name:u.a.Y,value:"0"},{name:u.a.Width,value:"105"},{name:u.a.Height,value:"100"},{name:u.a.Points,value:"52.5, 80.3 84, 100 76.3, 63 105, 38 67.2, 35 52.5, 0 37.8, 35 0, 38 28.7, 63 20, 100 52.5, 80.3"}],id:$,tag:u.h.Polygon}],tag:u.h.Defs},te={attributes:[{name:u.a.xlinkHref,value:"#"+$}],tag:u.h.Use},ne={attributes:[{name:u.a.xlinkHref,value:"#"+$},{name:u.a.Transform,value:"translate(105 0)"}],tag:u.h.Use},ae={attributes:[{name:u.a.xlinkHref,value:"#"+$},{name:u.a.Transform,value:"translate(210 0)"}],tag:u.h.Use},ie={attributes:[{name:u.a.xlinkHref,value:"#"+$},{name:u.a.Transform,value:"translate(315 0)"}],tag:u.h.Use},re={attributes:[{name:u.a.xlinkHref,value:"#"+$},{name:u.a.Transform,value:"translate(420 0)"}],tag:u.h.Use},oe={attributes:[{name:u.a.ViewBox,value:"0 0 525 100"}],children:[ee,te,ne,ae,ie,re],classes:[u.c.RatingGraphic],tag:u.h.Svg},se={attributes:[{name:u.a.ViewBox,value:"0 0 105 100"}],children:[ee,te],classes:[u.c.RatingGraphic,u.c.RatingGraphicFilled],tag:u.h.Svg},ce={attributes:[{name:u.a.ViewBox,value:"0 0 210 100"}],children:[ee,te,ne],classes:[u.c.RatingGraphic,u.c.RatingGraphicFilled],tag:u.h.Svg},de={attributes:[{name:u.a.ViewBox,value:"0 0 315 100"}],children:[ee,te,ne,ae],classes:[u.c.RatingGraphic,u.c.RatingGraphicFilled],tag:u.h.Svg},le={attributes:[{name:u.a.ViewBox,value:"0 0 420 100"}],children:[ee,te,ne,ae,ie],classes:[u.c.RatingGraphic,u.c.RatingGraphicFilled],tag:u.h.Svg},ue={attributes:[{name:u.a.ViewBox,value:"0 0 525 100"}],children:[ee,te,ne,ae,ie,re],classes:[u.c.RatingGraphic,u.c.RatingGraphicFilled],tag:u.h.Svg};function fe(e){return{children:[oe,{attributes:[{name:u.a.Type,value:"radio"},{name:u.a.Name,value:e},{name:u.a.Value,value:"1"}],tag:u.h.Input},se,{attributes:[{name:u.a.Type,value:"radio"},{name:u.a.Name,value:e},{name:u.a.Value,value:"2"}],tag:u.h.Input},ce,{attributes:[{name:u.a.Type,value:"radio"},{name:u.a.Name,value:e},{name:u.a.Value,value:"3"}],tag:u.h.Input},de,{attributes:[{name:u.a.Type,value:"radio"},{name:u.a.Name,value:e},{name:u.a.Value,value:"4"}],tag:u.h.Input},le,{attributes:[{name:u.a.Type,value:"radio"},{name:u.a.Name,value:e},{name:u.a.Value,value:"5"}],tag:u.h.Input},ue],classes:[u.c.Rating],id:e,tag:u.h.Span}}function pe(){var e=c.get().getInAppFeedbackLaunchOptions().categories;return{children:[{attributes:[{name:u.a.For,value:u.d.BasicFormComment}],classes:[u.c.FontSubtitle,u.c.TextAlignLeft,u.c.FormQuestionMiddleText],id:u.d.BasicFormQuestionMiddleText,tag:u.h.Label,innerText:c.get().getInAppFeedbackInitOptions().transitionEnabled?"":X.a().FeedbackSubtitle},{attributes:[{name:u.a.Id,value:u.d.BasicFormCategoriesDropdown},{name:u.a.AriaLabel,value:X.a().Form.CategoryPlaceholder}],brs:e.show,children:Z(e?e.customCategories:null),classes:[u.c.FontSubText,u.c.FormCategoriesDropdown,u.c.TextInput],tag:u.h.Select},{attributes:[{name:u.a.Placeholder,value:X.a().Form.CommentPlaceholder},{name:u.a.MaxLength,value:u.b.TextAreaMaxLength}],classes:[u.c.FontSubText,u.c.FormComment,u.c.TextInput],id:u.d.BasicFormComment,tag:u.h.TextArea},{brs:!1,children:[{attributes:[{name:u.a.For,value:u.d.BasicFormRating}],classes:[u.c.FontText,u.c.TextAlignLeft,u.c.FormRatingLabel],innerText:X.a().Form.RatingLabel,tag:u.h.Label},fe(u.d.BasicFormRating)],classes:[u.c.FormRatingContainer]},{brs:he(),children:[{attributes:[{name:u.a.Type,value:u.b.Checkbox},{name:u.b.Unchecked,value:""}],classes:[u.c.FormEmailCheckBox,u.c.CheckBox],id:u.d.EmailCheckBox,tag:u.h.Input},{attributes:[{name:u.a.For,value:u.d.EmailCheckBox}],classes:[u.c.FontSubText,u.c.TextAlignLeft,u.c.FormEmailLabel],innerText:X.a().Form.EmailCheckBoxLabel,tag:u.h.Label},{attributes:[{name:u.a.Type,value:u.b.Text},{name:u.a.Placeholder,value:X.a().Form.EmailPlaceholder},{name:u.a.AriaLabel,value:X.a().Form.EmailPlaceholder},{name:u.a.Name,value:u.d.BasicFormEmailInput},{name:u.a.MaxLength,value:u.b.TextAreaMaxLength},{name:u.a.Value,value:c.get().getInAppFeedbackInitOptions().userEmail?c.get().getInAppFeedbackInitOptions().userEmail:""}],classes:[u.c.FontSubText,u.c.FormEmailInput,u.c.TextInput],id:u.d.BasicFormEmailInput,tag:u.h.Input}],classes:[u.c.FormEmailContainer]},{children:[{attributes:[{name:u.a.Type,value:u.b.Checkbox},{name:u.a.Value,value:u.b.Unchecked}],brs:be(),classes:[u.c.FormScreenshotCheckbox,u.c.CheckBox],id:u.d.BasicFormScreenshotCheckbox,tag:u.h.Input},{attributes:[{name:u.a.For,value:u.d.BasicFormScreenshotCheckbox}],brs:be(),classes:[u.c.FontSubText,u.c.TextAlignLeft,u.c.FormScreenshotLabel],innerText:X.a().Form.ScreenshotLabel,tag:u.h.Label},{attributes:[{name:u.a.Preview,value:u.b.ScreenshotPreview},{name:u.a.Alt,value:X.a().Form.ScreenshotImgAltText}],brs:c.get().getInAppFeedbackInitOptions().screenshot,id:u.d.BasicFormScreenshotPreview,classes:[u.c.FormScreenshotPreview],tag:u.h.Img}],classes:[u.c.FormScreenshotContainer]},{children:[{classes:[u.c.FontSubSubText,u.c.TextAlignLeft],innerText:X.a().Form.PrivacyLabel,tag:u.h.Label},{classes:[u.c.FontSubSubText,u.c.TextAlignLeft],innerText:c.get().getCommonInitOptions().isCommercialHost?X.a().Form.PrivacyConsent+" ":"",tag:u.h.Label},{attributes:[{name:u.a.HRef,value:c.get().getCommonInitOptions().privacyUrl},{name:u.a.Target,value:u.b.BlankWindow},{name:u.a.Rel,value:u.b.NoReferrer}],classes:[u.c.Link],id:u.d.PrivacyStatementLink,innerText:X.a().PrivacyStatement,tag:u.h.Anchor}],classes:[u.c.FontSubSubText,u.c.TextAlignLeft,u.c.PrivacyStatementLinkDiv]},{children:[{attributes:[{name:u.a.Type,value:u.b.Button},{name:u.a.AriaLabel,value:X.a().Form.Cancel}],classes:[u.c.CancelButton],id:u.d.BasicFormCancelButton,innerText:X.a().Form.Cancel,tag:u.h.Button},{attributes:[{name:u.a.Disabled,value:u.b.True}],classes:[u.c.SubmitButton],id:u.d.BasicFormSubmitButton,innerText:X.a().Form.Submit,tag:u.h.Button},{classes:[u.c.Spinner,u.c.Hidden],id:u.d.BasicFormSubmitButtonSpinner,tag:u.h.Div}],classes:[u.c.FormSubmitButtonContainer]}],classes:[c.get().getInAppFeedbackInitOptions().transitionEnabled?u.c.Hidden:u.c.Visible,u.c.MarginLeft60px],id:me}}var me=u.d.BasicFormContainer;function _e(e){switch(e){case l.b.Smile:document.getElementById(u.d.BasicFormQuestionMiddleText).textContent=X.a().SmileForm.Title;break;case l.b.Frown:document.getElementById(u.d.BasicFormQuestionMiddleText).textContent=X.a().FrownForm.Title;break;case l.b.Idea:document.getElementById(u.d.BasicFormQuestionMiddleText).textContent=X.a().IdeaForm.Title;break;case l.b.Bug:document.getElementById(u.d.BasicFormQuestionMiddleText).textContent=X.a().BugForm.Title}document.getElementById(u.d.BasicFormComment).focus()}function he(){return!(!c.get().getInAppFeedbackInitOptions().showEmailAddress||c.get().getCommonInitOptions().isCommercialHost&&1!==c.get().getCommonInitOptions().emailPolicyValue)}function be(){return!(!c.get().getInAppFeedbackInitOptions().screenshot||c.get().getCommonInitOptions().isCommercialHost&&1!==c.get().getCommonInitOptions().screenshotPolicyValue)}var ge=J.Basic,ve=u.d.SingleFormContainer;function ye(e){var t={children:[]},n={};for(var a in e)e.hasOwnProperty(a)&&!(e[a].containerId in n)&&(t.children.push(e[a].generate()),n[e[a].containerId]=!0);return t.children}function Se(e){var t={children:[]},n={};for(var a in e)e.hasOwnProperty(a)&&!(e[a].containerId in n)&&(t.children.push(e[a].generate()),n[e[a].containerId]=!0);return t.children}function De(e){var t={children:[]};return l.b.Smile in e&&t.children.push(Ie(u.d.OverallSmileAnchor,u.d.OverallSmileImage,'<svg viewBox="0 0 72 72" width="24px" height="24px" focusable="false"><path d="M36 1C16.7 1 1 16.7 1 36s15.7 35 35 35c19.3 0 35-15.7 35-35S55.3 1 36 1ZM49.3 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C45.1 21 47 18.3 49.3 18.3ZM22.9 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C18.7 21 20.6 18.3 22.9 18.3ZM36 58.6c-8.5 0-16-4.1-20.9-10.4l3.5-3.6c3.5 4.5 9.9 7.6 17.4 7.6 7.4 0 13.9-3.1 17.4-7.6l3.6 3.6C52.1 54.4 44.4 58.6 36 58.6Z"/></svg>',u.d.OverallSmileText,X.a().SmileForm.Anchor)),l.b.Frown in e&&t.children.push(Ie(u.d.OverallFrownAnchor,u.d.OverallFrownImage,'<svg viewBox="0 0 72 72" width="24px" height="24px" focusable="false"><path d="M36 1C16.7 1 1 16.7 1 36s15.7 35 35 35c19.3 0 35-15.7 35-35S55.3 1 36 1ZM49.3 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C45.1 21 47 18.3 49.3 18.3ZM22.9 18.3c2.3 0 4.2 2.7 4.2 6 0 3.3-1.9 6-4.2 6 -2.3 0-4.2-2.7-4.2-6C18.7 21 20.6 18.3 22.9 18.3ZM52.8 57.9c-3.3-4.4-9.6-7.3-16.7-7.3 -7.2 0-13.4 3-16.7 7.3l-3.4-3.4c4.7-6.1 11.9-10 20.1-10 8.2 0 15.5 4 20.2 10L52.8 57.9Z"/></svg>',u.d.OverallFrownText,X.a().FrownForm.Anchor)),l.b.IdeaRedirect in e&&t.children.push(Ie(u.d.OverallFeedbackPortalIdeaAnchor,u.d.OverallIdeaImage,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" focusable="false" viewBox="0,0,2048,2048"><path fill="#FAFAFA" fill-opacity="1.000" d="M 213 1920 v -546 l 275 -649 h 1072 l 275 649 v 546 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1877 1365 v 598 h -1706 v -598 l 289 -682 h 288 l -41 41 l 44 44 h -239 l -248 597 h 1520 l -221 -532 l 63 -62 m 166 680 h -1536 v 426 h 1536 z" /><path fill="#FAFAFA" fill-opacity="1.000" d="M 1049 1067 l -342 -343 l 664 -664 l 482 483 l -523 524 z" /><path fill="#797774" fill-opacity="1.000" d="M 1536 649 l -271 -272 l 60 -60 l 272 271 m -211 212 l -272 -272 l 60 -60 l 272 271 m -211 211 l -272 -271 l 61 -61 l 271 272 z" /><path fill="#1E8BCD" fill-opacity="1.000" d="M 989 1067 l -343 -343 l 725 -724 l 543 543 l -524 524 h -121 l 524 -524 l -422 -422 l -604 603 l 343 343 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1451 1109 h -854 v -85 h 854 z" /></svg>',u.d.OverallIdeaText,X.a().IdeaForm.Anchor)),l.b.Idea in e&&t.children.push(Ie(u.d.OverallIdeaAnchor,u.d.OverallIdeaImage,'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" focusable="false" viewBox="0,0,2048,2048"><path fill="#FAFAFA" fill-opacity="1.000" d="M 213 1920 v -546 l 275 -649 h 1072 l 275 649 v 546 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1877 1365 v 598 h -1706 v -598 l 289 -682 h 288 l -41 41 l 44 44 h -239 l -248 597 h 1520 l -221 -532 l 63 -62 m 166 680 h -1536 v 426 h 1536 z" /><path fill="#FAFAFA" fill-opacity="1.000" d="M 1049 1067 l -342 -343 l 664 -664 l 482 483 l -523 524 z" /><path fill="#797774" fill-opacity="1.000" d="M 1536 649 l -271 -272 l 60 -60 l 272 271 m -211 212 l -272 -272 l 60 -60 l 272 271 m -211 211 l -272 -271 l 61 -61 l 271 272 z" /><path fill="#1E8BCD" fill-opacity="1.000" d="M 989 1067 l -343 -343 l 725 -724 l 543 543 l -524 524 h -121 l 524 -524 l -422 -422 l -604 603 l 343 343 z" /><path fill="#3A3A38" fill-opacity="1.000" d="M 1451 1109 h -854 v -85 h 854 z" /></svg>',u.d.OverallIdeaText,X.a().IdeaForm.Anchor)),l.b.Bug in e&&t.children.push(Ie(u.d.OverallBugAnchor,u.d.OverallBugImage,'<svg viewBox="150 100 1748 1748" width="24px" height="24px" focusable="false"><path d="M1824 1088q0 26-19 45t-45 19h-224q0 171-67 290l208 209q19 19 19 45t-19 45q-18 19-45 19t-45-19l-198-197q-5 5-15 13t-42 28.5-65 36.5-82 29-97 13v-896h-128v896q-51 0-101.5-13.5t-87-33-66-39-43.5-32.5l-15-14-183 207q-20 21-48 21-24 0-43-16-19-18-20.5-44.5t15.5-46.5l202-227q-58-114-58-274h-224q-26 0-45-19t-19-45 19-45 45-19h224v-294l-173-173q-19-19-19-45t19-45 45-19 45 19l173 173h844l173-173q19-19 45-19t45 19 19 45-19 45l-173 173v294h224q26 0 45 19t19 45zm-480-576h-640q0-133 93.5-226.5t226.5-93.5 226.5 93.5 93.5 226.5z"/></svg>',u.d.OverallBugText,X.a().BugForm.Anchor)),t.children}function Ie(e,t,n,a,i){return{attributes:[{name:u.a.Type,value:u.b.Button},{name:u.a.Role,value:u.b.Tab},{name:u.a.AriaLabel,value:i},{name:u.a.AriaSelected,value:u.b.False}],children:[{classes:[u.c.OverallImage],id:t,innerHTML:n,tag:u.h.Div},{classes:[u.c.FontSubtitle,u.c.OverallText],id:a,innerText:i}],classes:[u.c.OverallAnchor,u.c.TextAlignLeft],id:e,tag:u.h.Button}}J.Single;var xe=n(32),Ce=n(12);function Oe(e,t){return'<a target="_blank" rel="noopener noreferrer" href="'+e+'">'+t+"</a>"}function we(){var e,t,n,a,i,r=(null===(e=X.a().ThanksPanel)||void 0===e?void 0:e.AppreciateText)+"<br><br>";return c.get().getCommonInitOptions().ageGroup!==Ce.a.Undefined&&c.get().getCommonInitOptions().ageGroup!==Ce.a.Adult||(c.get().getInAppFeedbackInitOptions().myFeedbackForumUrl&&(r=r+" "+(null===(t=X.a().ThanksPanel)||void 0===t?void 0:t.MyFeedbackDescription)+"\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t"+Oe(c.get().getInAppFeedbackInitOptions().myFeedbackForumUrl,null===(n=X.a().ThanksPanel)||void 0===n?void 0:n.MyFeedbackLinkText)+"\n\t\t\t\t\t\t\t\t<br><br>"),c.get().getInAppFeedbackInitOptions().feedbackForumUrl&&(r=r+" "+(null===(a=X.a().ThanksPanel)||void 0===a?void 0:a.FeedbackPortalDescription)+"\n\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t"+Oe(c.get().getInAppFeedbackInitOptions().feedbackForumUrl,null===(i=X.a().ThanksPanel)||void 0===i?void 0:i.FeedbackPortalLinkText)+"\n\t\t\t\t\t\t\t\t<br><br>")),r}function Ee(){var e,t,n,a,i,r,o=c.get().getCommonInitOptions().primaryColour;return{children:[{tag:u.h.Div,id:u.d.ThanksPanelInnerContainer,children:[{innerHTML:"<br>",tag:u.h.Div},{id:u.d.ThanksPanelDiscussion,innerHTML:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30.4 25.3"\n\trole="presentation" alt="" tabindex="-1" focusable="false">\n\t<defs>\n\t\t<style>\n\t\t\t.cls-1,.cls-3{isolation:isolate;}\n\t\t\t.cls-2{fill:#e1dfdd;}\n\t\t\t.cls-3{fill:'+o+';opacity:0.4;}\n\t\t\t.cls-4{fill:#c8c6c4;mix-blend-mode:multiply;}\n\t\t\t.cls-5{fill:#fff;}</style>\n\t</defs>\n\t<title>commentsOffice</title>\n\t<g class="cls-1">\n\t\t<g id="Layer_1" data-name="Layer 1">\n\t\t\t<path class="cls-2" d="M17.8,0H1.2A1.216,1.216,0,0,0,0,1.2V15.3a1.1554,1.1554,0,0,0,1.2,1.2H7l.1,\n\t\t\t\t4.1L10,16.5h7.9a1.1554,1.1554,0,0,0,1.2-1.2V1.2A1.305,1.305,0,0,0,17.8,0Z"/>\n\t\t\t<path class="cls-3" d="M28.5,10.8a6.0429,6.0429,0,0,0-3.2-2,7.1943,7.1943,0,0,0-6.4,1,7.4884,\n\t\t\t\t7.4884,0,0,0-3.1,5.7,6.016,6.016,0,0,0,.9,3.7,6.9394,6.9394,0,0,0,5,3.7l2.9,2.4L24.4,23a7.8372,\n\t\t\t\t7.8372,0,0,0,3-1.3,7.4574,7.4574,0,0,0,3-4.7A7.5076,7.5076,0,0,0,28.5,10.8Z"/>\n\t\t\t<path id="Layer2_1_MEMBER_1_FILL" data-name="Layer2 1 MEMBER 1 FILL" class="cls-4" d="M11.9885,\n\t\t\t\t8.0154a.8939.8939,0,1,0,.6371-.2589.8653.8653,0,0,0-.6371.2589M6.8115,9.24A.8977.8977,0,1,0,\n\t\t\t\t5.5532,7.9589.8977.8977,0,1,0,6.8115,9.24m3.2259-1.2412a.894.894,0,1,0,.2588.637A.8653.8653,\n\t\t\t\t0,0,0,10.0374,7.9983Z"/>\n\t\t\t<path class="cls-5" d="M20.9019,16.3243a.8008.8008,0,0,0,.2586-.5659.8371.8371,0,0,\n\t\t\t\t0-.21-.5919.7693.7693,0,0,0-1.1091-.05.8379.8379,0,0,0-.2627.5706.8012.8012,0,0,0,\n\t\t\t\t.2066.5869.77.77,0,0,0,1.1167.05m1.51-.51a.8014.8014,0,0,0,.2066.5874.7695.7695,0,0,0,\n\t\t\t\t1.1127.0541.8379.8379,0,0,0,.2627-.57.8009.8009,0,0,0-.2066-.5869.7694.7694,0,0,\n\t\t\t\t0-1.1167-.05.8011.8011,0,0,0-.2587.5663m2.8279.1272a.8371.8371,0,0,0,.21.5919.7693.7693,0,0,\n\t\t\t\t0,1.1091.05.8379.8379,0,0,0,.2627-.5706.8012.8012,0,0,0-.2066-.5869.77.77,0,0,\n\t\t\t\t0-1.1167-.05A.8008.8008,0,0,0,25.24,15.9416Z"/>\n\t\t</g>\n\t</g>\n</svg>',tag:u.h.Div},{id:u.d.ThanksPanelVerticalContainer,tag:u.h.Div,children:[{classes:[u.c.FontTitle,u.c.TextAlignLeft,u.c.FormQuestionMiddleText,u.c.ThanksPanelTitle],innerText:null===(e=X.a().ThanksPanel)||void 0===e?void 0:e.Title,tag:u.h.Div},{classes:[u.c.FontSubText,u.c.TextAlignLeft,u.c.ThanksPanelMessage],innerHTML:we(),tag:u.h.Div,id:u.d.ThanksPanelParagraph},{classes:[u.c.SubmitButton],id:u.d.ThanksPanelCloseButton,innerText:null===(t=X.a().ThanksPanel)||void 0===t?void 0:t.Close,ariaLabel:null===(n=X.a().ThanksPanel)||void 0===n?void 0:n.Close,tag:u.h.Button,role:u.g.Button,attributes:[{name:"aria-label",value:(null===(a=X.a().ThanksPanel)||void 0===a?void 0:a.Title)+" "+(null===(i=X.a().ThanksPanel)||void 0===i?void 0:i.AppreciateText)+" "+(null===(r=X.a().ThanksPanel)||void 0===r?void 0:r.Close)},{name:"type",value:"button"}]}]},{innerHTML:"<br>",tag:u.h.Div}]}],classes:[u.c.Hidden],id:Ae}}var Ae=u.d.ThanksPanelContainer;function Le(e){0===e&&document.getElementById(u.d.ThanksPanelCloseButton).focus()}var ke=0;function Me(){}var Pe=u.d.FeedbackPortalIdeaContainer;function Te(e){}var Ue=J.FeedbackPortalIdea;function Fe(e,t){var n={};c.get().getInAppFeedbackInitOptions().isShowThanks&&(n[0]=i),He(xe.a(function(e){var t;return{attributes:[{name:u.a.DataHtml2CanvasIgnore,value:u.b.True}],children:[{attributes:[{name:u.a.Role,value:u.b.Dialog},{name:u.a.AriaModal,value:u.b.True}],children:[{children:[{attributes:[{name:u.a.TabIndex,value:u.b.Zero}],id:u.d.FirstTabbable},{attributes:[{name:u.a.Type,value:u.b.Button},{name:u.a.AriaLabel,value:X.a().CloseLabel}],id:u.d.CloseButton,classes:[u.c.CloseButton],innerHTML:'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/></svg>',tag:u.h.Button},{children:[{children:[(t=c.get().getInAppFeedbackLaunchOptions().categories,{children:[{attributes:[{name:u.a.For,value:u.d.SingleFormComment}],classes:[u.c.FontSubtitle,u.c.TextAlignLeft,u.c.FormQuestionMiddleText],id:u.d.SingleFormQuestionMiddleText,innerText:X.a().FeedbackSubtitle,tag:u.h.Label},{attributes:[{name:u.a.Id,value:u.d.SingleFormCategoriesDropdown}],brs:t.show,children:Z(t?t.customCategories:null),classes:[u.c.FontSubText,u.c.FormCategoriesDropdown,u.c.TextInput],tag:u.h.Select},{attributes:[{name:u.a.Placeholder,value:X.a().Form.CommentPlaceholder},{name:u.a.MaxLength,value:u.b.TextAreaMaxLength}],classes:[u.c.FontSubText,u.c.FormComment,u.c.TextInput],id:u.d.SingleFormComment,tag:u.h.TextArea},{brs:!1,children:[{attributes:[{name:u.a.For,value:u.d.SingleFormRating}],classes:[u.c.FontSubText,u.c.TextAlignLeft,u.c.FormRatingLabel],innerText:X.a().Form.RatingLabel,tag:u.h.Label},fe(u.d.SingleFormRating)],classes:[u.c.FormRatingContainer]},{brs:he(),children:[{attributes:[{name:u.a.Type,value:u.b.Checkbox},{name:u.b.Unchecked,value:""}],classes:[u.c.FormEmailCheckBox,u.c.CheckBox],id:u.d.EmailCheckBox,tag:u.h.Input},{attributes:[{name:u.a.For,value:u.d.EmailCheckBox}],classes:[u.c.FontSubText,u.c.TextAlignLeft,u.c.FormEmailLabel],innerText:X.a().Form.EmailCheckBoxLabel,tag:u.h.Label},{attributes:[{name:u.a.Type,value:u.b.Text},{name:u.a.Placeholder,value:X.a().Form.EmailPlaceholder},{name:u.a.AriaLabel,value:X.a().Form.EmailPlaceholder},{name:u.a.Name,value:u.d.SingleFormEmailInput},{name:u.a.MaxLength,value:u.b.TextAreaMaxLength},{name:u.a.Value,value:c.get().getInAppFeedbackInitOptions().userEmail?c.get().getInAppFeedbackInitOptions().userEmail:""}],classes:[u.c.FontSubText,u.c.FormEmailInput,u.c.TextInput],id:u.d.SingleFormEmailInput,tag:u.h.Input}],classes:[u.c.FormEmailContainer]},{children:[{attributes:[{name:u.a.Type,value:u.b.Checkbox},{name:u.a.Value,value:u.b.Unchecked}],brs:be(),classes:[u.c.FormScreenshotCheckbox,u.c.CheckBox],id:u.d.SingleFormScreenshotCheckbox,tag:u.h.Input},{attributes:[{name:u.a.For,value:u.d.SingleFormScreenshotCheckbox}],brs:be(),classes:[u.c.FontText,u.c.TextAlignLeft,u.c.FormScreenshotLabel],innerText:X.a().Form.ScreenshotLabel,tag:u.h.Label},{attributes:[{name:u.a.Preview,value:u.b.ScreenshotPreview}],brs:c.get().getInAppFeedbackInitOptions().screenshot,id:u.d.SingleFormScreenshotPreview,classes:[u.c.FormScreenshotPreview],tag:u.h.Img}],classes:[u.c.FormScreenshotContainer]},{children:[{classes:[u.c.FontSubSubText,u.c.TextAlignLeft],innerText:X.a().Form.PrivacyLabel,tag:u.h.Label},{classes:[u.c.FontSubSubText,u.c.TextAlignLeft],innerText:c.get().getCommonInitOptions().isCommercialHost?X.a().Form.PrivacyConsent+" ":"",tag:u.h.Label},{attributes:[{name:u.a.HRef,value:c.get().getCommonInitOptions().privacyUrl},{name:u.a.Target,value:u.b.BlankWindow},{name:u.a.Rel,value:u.b.NoReferrer}],classes:[u.c.Link],id:u.d.PrivacyStatementLink,innerText:X.a().PrivacyStatement,tag:u.h.Anchor}],classes:[u.c.FontSubSubText,u.c.TextAlignLeft,u.c.PrivacyStatementLinkDiv]},{children:[{attributes:[{name:u.a.Type,value:u.b.Button},{name:u.a.AriaLabel,value:X.a().Form.Cancel}],classes:[u.c.CancelButton],id:u.d.SingleFormCancelButton,innerText:X.a().Form.Cancel,tag:u.h.Button},{attributes:[{name:u.a.Disabled,value:u.b.True}],classes:[u.c.SubmitButton],id:u.d.SingleFormSubmitButton,innerText:X.a().Form.Submit,tag:u.h.Button},{classes:[u.c.Spinner,u.c.Hidden],id:u.d.SingleFormSubmitButtonSpinner,tag:u.h.Div}],classes:[u.c.FormSubmitButtonContainer]}],id:ve})],classes:[u.c.FormContainer],id:u.d.MiddleFormContainer}].concat(Se(e)),classes:[u.c.Hidden],id:u.d.MainContentHolder,tag:u.h.Form},{attributes:[{name:u.a.TabIndex,value:u.b.Zero}],id:u.d.LastTabbable}],id:u.d.MainContainer}],classes:[u.c.SingleLayout,_.f()?u.c.Rtl:""],id:u.d.OverlayBackground}]}}(n))),function(e,t,n){void 0===n&&(n=function(e){}),D=e,v=t,E(u.d.SingleFormSubmitButton,"click",V(u.d.SingleFormSubmitButton,u.d.SingleFormSubmitButtonSpinner,u.d.SingleFormComment,u.d.SingleFormEmailInput,u.d.SingleFormScreenshotCheckbox,u.d.SingleFormScreenshotPreview,u.d.SingleFormCategoriesDropdown)),E(u.d.SingleFormScreenshotCheckbox,"click",K(u.d.SingleFormScreenshotCheckbox,u.d.SingleFormScreenshotPreview)),E(u.d.CloseButton,"click",function(){O()}),E(u.d.ThanksPanelCloseButton,"click",function(e){return z()}),E(u.d.SingleFormCancelButton,"click",W),A(n)}(t,n,function(t){_.l(u.d.OverlayBackground,!1),_.d(u.d.OverlayBackground),c.get().getInAppFeedbackInitOptions().onDismiss(t),e()}),_.b(u.d.OverlayBackground,u.c.SingleLayout),_.a(u.d.SingleFormScreenshotCheckbox,u.d.SingleFormScreenshotPreview)}function He(e){document.body.insertBefore(e,document.body.firstChild),_.l(u.d.OverlayBackground,!0),_.e()>9||-1===_.e()?setTimeout(Re,900):Re()}function Re(){_.l(u.d.MainContentHolder,!0),document.getElementById(u.d.OverallSmileAnchor)?(document.getElementById(u.d.OverallSmileAnchor).focus(),_.a(u.d.BasicFormScreenshotCheckbox,u.d.BasicFormScreenshotPreview)):document.getElementById(u.d.SingleFormComment)&&(document.getElementById(u.d.SingleFormComment).focus(),_.a(u.d.SingleFormScreenshotCheckbox,u.d.SingleFormScreenshotPreview))}var Ne=n(8),Be=!1;function je(){return new Promise(function(e,t){if(Be)e();else{try{o.a()}catch(e){t("CommonApp initialization failed: {"+e+"}")}s.a().then(function(){c.get().setInAppFeedbackInitOptions(Ne.a().OfficeBrowserFeedback.initOptions),Be=!0,e()}).catch(function(e){t("Initialization failed: {"+e+"}")})}})}var Ve=!1;function ze(e){return new Promise(function(t,n){Ve?n("Control already open"):je().then(function(){c.get().setInAppFeedbackLaunchOptions(e),function(e){var t={};c.get().getInAppFeedbackInitOptions().isShowThanks&&(t[0]=i);var n={},o=c.get().getInAppFeedbackInitOptions().transitionEnabled;n[l.b.Smile]=a,n[l.b.Frown]=a,void 0!==c.get().getInAppFeedbackInitOptions().feedbackForumUrl?n[l.b.IdeaRedirect]=r:n[l.b.Idea]=a,c.get().getInAppFeedbackInitOptions().bugForm&&(n[l.b.Bug]=a),He(xe.a(function(e,t){return{attributes:[{name:u.a.DataHtml2CanvasIgnore,value:u.b.True}],children:[{attributes:[{name:u.a.Role,value:u.b.Dialog},{name:u.a.AriaModal,value:u.b.True}],children:[{attributes:[{name:u.a.Role,value:u.b.TabList},{name:u.a.AriaDescribedBy,value:u.d.QuestionLeftText},{name:u.a.AriaLabel,value:X.a().FeedbackSubtitle},{name:u.a.AriaOrientation,value:u.b.AriaOrientationValueVertical}],children:[{attributes:[{name:u.a.TabIndex,value:u.b.Zero}],id:u.d.FirstTabbable},{attributes:[{name:u.a.Type,value:u.b.Button},{name:u.a.AriaLabel,value:X.a().CloseLabel}],id:u.d.CloseButton,classes:[u.c.CloseButton],innerHTML:'<svg viewBox="4 4 16 16" width="16px" height="16px" focusable="false"><path d="M19,6.41L17.59,5 12,10.59 6.41,5 5,6.41 10.59,12 5,17.59 6.41,19 12,13.41 17.59,19 19,17.59 13.41,12z"/></svg>',tag:u.h.Button},{children:[{classes:[u.c.FormWideContainer,u.c.Hidden],children:Se(t),id:u.d.LeftPanelContainer,tag:u.h.Div},{children:[{classes:[u.c.FontSubtitle,u.c.TextAlignLeft],id:u.d.QuestionLeftText,innerText:X.a().FeedbackSubtitle},{children:[{children:De(e),id:u.d.OverallAnchorsContainer}],id:u.d.ColumnSeparatorDiv}],classes:[u.c.FormContainer],id:u.d.LeftFormContainer},{children:ye(e),classes:[u.c.FormContainer,c.get().getInAppFeedbackInitOptions().transitionEnabled?u.c.Hidden:u.c.Visible],attributes:[{name:u.a.Role,value:u.b.TabPanel},{name:u.a.AriaExpanded,value:u.b.False}],id:u.d.MiddleFormContainer}],classes:[u.c.Hidden],id:u.d.MainContentHolder,tag:u.h.Form},{attributes:[{name:u.a.TabIndex,value:u.b.Zero}],id:u.d.LastTabbable}],id:u.d.MainContainer}],classes:[_.f()?u.c.Rtl:""],id:u.d.OverlayBackground}]}}(n,t)));var s,d=!window.innerWidth||window.innerWidth<800;void 0===(s=function(e){_.l(u.d.OverlayBackground,!1),_.d(u.d.OverlayBackground),c.get().getInAppFeedbackInitOptions().onDismiss(e),Ve=!1})&&(s=function(e){}),y=d,g=n,v=t,S=o,E(u.d.OverallSmileAnchor,"click",F),E(u.d.OverallFrownAnchor,"click",H),E(u.d.OverallIdeaAnchor,"click",R),E(u.d.OverallBugAnchor,"click",N),E(u.d.CloseButton,"click",function(){O()}),E(u.d.BasicFormSubmitButton,"click",V(u.d.BasicFormSubmitButton,u.d.BasicFormSubmitButtonSpinner,u.d.BasicFormComment,u.d.BasicFormEmailInput,u.d.BasicFormScreenshotCheckbox,u.d.BasicFormScreenshotPreview,u.d.BasicFormCategoriesDropdown)),E(u.d.BasicFormScreenshotCheckbox,"click",K(u.d.BasicFormScreenshotCheckbox,u.d.BasicFormScreenshotPreview)),E(u.d.OverallFeedbackPortalIdeaAnchor,"click",G),E(u.d.ThanksPanelCloseButton,"click",function(e){return z()}),E(u.d.BasicFormCancelButton,"click",W),A(s),S||(_.b(u.d.MainContentHolder,u.c.MarginLeft180px),_.b(u.d.ColumnSeparatorDiv,u.c.ShowRightBorder)),d&&_.b(u.d.OverlayBackground,u.c.NarrowLayout)}(),d.b().logEvent(d.a.InApp.UI.Picker.Shown.VALUE,1,{IsBugEnabled:c.get().getInAppFeedbackInitOptions().bugForm}),Ve=!0,t()}).catch(function(e){n("Initialization failed: {"+e+"}")})})}function Ge(e,t){return new Promise(function(n,a){if(Ve)a("Control already open");else{var i=c.validateFeedbackType(e);je().then(function(){c.get().setInAppFeedbackLaunchOptions(t),Fe(function(){Ve=!1},i),d.b().logEvent(d.a.InApp.UI.Form.Shown.VALUE,1,{FeedbackType:i}),Ve=!0,n()}).catch(function(e){a("Initialization failed: {"+e+"}")})}})}function Ke(){return Ne.a().OfficeBrowserFeedback.initOptions.isCommercialHost&&2===Ne.a().OfficeBrowserFeedback.initOptions.sendFeedbackPolicyValue?1:c.get().determineAADCPolicy(Ne.a().OfficeBrowserFeedback.initOptions.authenticationType,Ne.a().OfficeBrowserFeedback.initOptions.ageGroup)?0:2}function We(){o.b(),s.b(),Be=!1,Ve=!1}Ne.o(ze),Ne.q(Ge),Ne.e(Ke)}])}}]);